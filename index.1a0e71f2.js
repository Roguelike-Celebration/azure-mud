!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},o=n.parcelRequire4f3a;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in r){let t=r[e];delete r[e];let n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,t){r[e]=t},n.parcelRequire4f3a=o);var a=o("6Ti1v"),s=o("3zkYw"),u=(a=o("6Ti1v"),a=o("6Ti1v"),{});t(u,"TimeoutError",(()=>f),(e=>f=e)),t(u,"AbortError",(()=>d),(e=>d=e)),t(u,"HttpError",(()=>h),(e=>h=e));var c,l=(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t,n){var i=this,r=this.constructor.prototype;return(i=e.call(this,t)||this).statusCode=n,i.__proto__=r,i}return l(t,e),t}(Error),f=function(e){function t(t){void 0===t&&(t="A timeout occurred.");var n=this,i=this.constructor.prototype;return(n=e.call(this,t)||this).__proto__=i,n}return l(t,e),t}(Error),d=function(e){function t(t){void 0===t&&(t="An abort occurred.");var n=this,i=this.constructor.prototype;return(n=e.call(this,t)||this).__proto__=i,n}return l(t,e),t}(Error),p={};t(p,"HttpResponse",(()=>v),(e=>v=e)),t(p,"HttpClient",(()=>g),(e=>g=e));var m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},v=function(e,t,n){this.statusCode=e,this.statusText=t,this.content=n},g=function(){function e(){}return e.prototype.get=function(e,t){return this.send(m({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(m({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(m({},t,{method:"DELETE",url:e}))},e.prototype.getCookieString=function(e){return""},e}(),b={};t(b,"DefaultHttpClient",(()=>Ke),(e=>Ke=e));var y,w,_={};t(_,"NodeHttpClient",(()=>ze),(e=>ze=e)),(w=y||(y={}))[w.Trace=0]="Trace",w[w.Debug=1]="Debug",w[w.Information=2]="Information",w[w.Warning=3]="Warning",w[w.Error=4]="Error",w[w.Critical=5]="Critical",w[w.None=6]="None";var k={};t(k,"sendMessage",(()=>I),(e=>I=e)),t(k,"Arg",(()=>C),(e=>C=e)),t(k,"Subject",(()=>N),(e=>N=e)),t(k,"ConsoleLogger",(()=>F),(e=>F=e)),t(k,"isArrayBuffer",(()=>T),(e=>T=e)),t(k,"getDataDetail",(()=>x),(e=>x=e)),t(k,"createLogger",(()=>A),(e=>A=e));var S=function(){function e(){}return e.prototype.log=function(e,t){},e.instance=new e,e}(),M=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))},E=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},C=function(){function e(){}return e.isRequired=function(e,t){if(null==e)throw new Error("The '"+t+"' argument is required.")},e.isIn=function(e,t,n){if(!(e in t))throw new Error("Unknown "+n+" value: "+e+".")},e}();function x(e,t){var n="";return T(e)?(n="Binary data of length "+e.byteLength,t&&(n+=". Content: '"+function(e){var t=new Uint8Array(e),n="";return t.forEach((function(e){n+="0x"+(e<16?"0":"")+e.toString(16)+" "})),n.substr(0,n.length-1)}(e)+"'")):"string"==typeof e&&(n="String data of length "+e.length,t&&(n+=". Content: '"+e+"'")),n}function T(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function I(e,t,n,i,r,o,a){return M(this,void 0,void 0,(function(){var s,u,c,l,h;return E(this,(function(f){switch(f.label){case 0:return r?[4,r()]:[3,2];case 1:(c=f.sent())&&((s={}).Authorization="Bearer "+c,u=s),f.label=2;case 2:return e.log(y.Trace,"("+t+" transport) sending data. "+x(o,a)+"."),l=T(o)?"arraybuffer":"text",[4,n.post(i,{content:o,headers:u,responseType:l})];case 3:return h=f.sent(),e.log(y.Trace,"("+t+" transport) request complete. Response status: "+h.statusCode+"."),[2]}}))}))}function A(e){return void 0===e?new F(y.Information):null===e?S.instance:e.log?e:new F(e)}var O,P,R,D,j,L,N=function(){function e(){this.observers=[]}return e.prototype.next=function(e){for(var t=0,n=this.observers;t<n.length;t++){n[t].next(e)}},e.prototype.error=function(e){for(var t=0,n=this.observers;t<n.length;t++){var i=n[t];i.error&&i.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var n=t[e];n.complete&&n.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new B(this,e)},e}(),B=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(e){}))},e}(),F=function(){function e(e){this.minimumLogLevel=e}return e.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case y.Critical:case y.Error:console.error("["+(new Date).toISOString()+"] "+y[e]+": "+t);break;case y.Warning:console.warn("["+(new Date).toISOString()+"] "+y[e]+": "+t);break;case y.Information:console.info("["+(new Date).toISOString()+"] "+y[e]+": "+t);break;default:console.log("["+(new Date).toISOString()+"] "+y[e]+": "+t)}},e}(),U={};t(U,"INSPECT_MAX_BYTES",(()=>D),(e=>D=e)),t(U,"Buffer",(()=>R),(e=>R=e)),t(U,"kMaxLength",(()=>P),(e=>P=e)),t(U,"SlowBuffer",(()=>O),(e=>O=e)),L=function(e){var t,n,i=Z(e),r=i[0],o=i[1],a=new W(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),s=0,u=o>0?r-4:r;for(n=0;n<u;n+=4)t=V[e.charCodeAt(n)]<<18|V[e.charCodeAt(n+1)]<<12|V[e.charCodeAt(n+2)]<<6|V[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;2===o&&(t=V[e.charCodeAt(n)]<<2|V[e.charCodeAt(n+1)]>>4,a[s++]=255&t);1===o&&(t=V[e.charCodeAt(n)]<<10|V[e.charCodeAt(n+1)]<<4|V[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t);return a},j=function(e){for(var t,n=e.length,i=n%3,r=[],o=16383,a=0,s=n-i;a<s;a+=o)r.push(J(e,a,a+o>s?s:a+o));1===i?(t=e[n-1],r.push(H[t>>2]+H[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(H[t>>10]+H[t>>4&63]+H[t<<2&63]+"="));return r.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var z,q,H=[],V=[],W="undefined"!=typeof Uint8Array?Uint8Array:Array,K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=0,Y=K.length;G<Y;++G)H[G]=K[G],V[K.charCodeAt(G)]=G;function Z(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function J(e,t,n){for(var i,r,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(H[(r=i)>>18&63]+H[r>>12&63]+H[r>>6&63]+H[63&r]);return o.join("")}V["-".charCodeAt(0)]=62,V["_".charCodeAt(0)]=63,z=function(e,t,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=i;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=c}return(d?-1:1)*a*Math.pow(2,o-i)},q=function(e,t,n,i,r,o){var a,s,u,c=8*o-r-1,l=(1<<c)-1,h=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+d]=255&s,d+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*m};var X="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;R=ee,O=function(e){+e!=e&&(e=0);return ee.alloc(+e)},D=50;var $=2147483647;function Q(e){if(e>$)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,ee.prototype),t}function ee(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return ie(e)}return te(e,t,n)}function te(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!ee.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|se(e,t),i=Q(n),r=i.write(e,t);r!==n&&(i=i.slice(0,r));return i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Re(e,Uint8Array)){var t=new Uint8Array(e);return oe(t.buffer,t.byteOffset,t.byteLength)}return re(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Re(e,ArrayBuffer)||e&&Re(e.buffer,ArrayBuffer))return oe(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Re(e,SharedArrayBuffer)||e&&Re(e.buffer,SharedArrayBuffer)))return oe(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return ee.from(i,t,n);var r=function(e){if(ee.isBuffer(e)){var t=0|ae(e.length),n=Q(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||De(e.length)?Q(0):re(e);if("Buffer"===e.type&&Array.isArray(e.data))return re(e.data)}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return ee.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function ne(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ie(e){return ne(e),Q(e<0?0:0|ae(e))}function re(e){for(var t=e.length<0?0:0|ae(e.length),n=Q(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function oe(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(i,ee.prototype),i}function ae(e){if(e>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return 0|e}function se(e,t){if(ee.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Re(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Ae(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Oe(e).length;default:if(r)return i?-1:Ae(e).length;t=(""+t).toLowerCase(),r=!0}}function ue(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return ke(this,t,n);case"utf8":case"utf-8":return be(this,t,n);case"ascii":return we(this,t,n);case"latin1":case"binary":return _e(this,t,n);case"base64":return ge(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function ce(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function le(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),De(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=ee.from(t,i)),ee.isBuffer(t))return 0===t.length?-1:he(e,t,n,i,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):he(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function he(e,t,n,i,r){var o,a=1,s=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function fe(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(De(s))return a;e[n+a]=s}return a}function de(e,t,n,i){return Pe(Ae(t,e.length-n),e,n,i)}function pe(e,t,n,i){return Pe(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function me(e,t,n,i){return Pe(Oe(t),e,n,i)}function ve(e,t,n,i){return Pe(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function ge(e,t,n){return 0===t&&n===e.length?j(e):j(e.slice(t,n))}function be(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,u,c=e[r],l=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[r+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=h}return function(e){var t=e.length;if(t<=ye)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=ye));return n}(i)}P=$,ee.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),ee.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ee.prototype,"parent",{enumerable:!0,get:function(){if(ee.isBuffer(this))return this.buffer}}),Object.defineProperty(ee.prototype,"offset",{enumerable:!0,get:function(){if(ee.isBuffer(this))return this.byteOffset}}),ee.poolSize=8192,ee.from=function(e,t,n){return te(e,t,n)},Object.setPrototypeOf(ee.prototype,Uint8Array.prototype),Object.setPrototypeOf(ee,Uint8Array),ee.alloc=function(e,t,n){return function(e,t,n){return ne(e),e<=0?Q(e):void 0!==t?"string"==typeof n?Q(e).fill(t,n):Q(e).fill(t):Q(e)}(e,t,n)},ee.allocUnsafe=function(e){return ie(e)},ee.allocUnsafeSlow=function(e){return ie(e)},ee.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==ee.prototype},ee.compare=function(e,t){if(Re(e,Uint8Array)&&(e=ee.from(e,e.offset,e.byteLength)),Re(t,Uint8Array)&&(t=ee.from(t,t.offset,t.byteLength)),!ee.isBuffer(e)||!ee.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},ee.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ee.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return ee.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=ee.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(Re(o,Uint8Array))r+o.length>i.length?ee.from(o).copy(i,r):Uint8Array.prototype.set.call(i,o,r);else{if(!ee.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r)}r+=o.length}return i},ee.byteLength=se,ee.prototype._isBuffer=!0,ee.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)ce(this,t,t+1);return this},ee.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)ce(this,t,t+3),ce(this,t+1,t+2);return this},ee.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)ce(this,t,t+7),ce(this,t+1,t+6),ce(this,t+2,t+5),ce(this,t+3,t+4);return this},ee.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?be(this,0,e):ue.apply(this,arguments)},ee.prototype.toLocaleString=ee.prototype.toString,ee.prototype.equals=function(e){if(!ee.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===ee.compare(this,e)},ee.prototype.inspect=function(){var e="",t=D;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},X&&(ee.prototype[X]=ee.prototype.inspect),ee.prototype.compare=function(e,t,n,i,r){if(Re(e,Uint8Array)&&(e=ee.from(e,e.offset,e.byteLength)),!ee.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},ee.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},ee.prototype.indexOf=function(e,t,n){return le(this,e,t,n,!0)},ee.prototype.lastIndexOf=function(e,t,n){return le(this,e,t,n,!1)},ee.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return fe(this,e,t,n);case"utf8":case"utf-8":return de(this,e,t,n);case"ascii":case"latin1":case"binary":return pe(this,e,t,n);case"base64":return me(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},ee.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ye=4096;function we(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function _e(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function ke(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=Le[e[o]];return r}function Se(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function Me(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ee(e,t,n,i,r,o){if(!ee.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function Ce(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function xe(e,t,n,i,r){return t=+t,n>>>=0,r||Ce(e,0,n,4),q(e,t,n,i,23,4),n+4}function Te(e,t,n,i,r){return t=+t,n>>>=0,r||Ce(e,0,n,8),q(e,t,n,i,52,8),n+8}ee.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,ee.prototype),i},ee.prototype.readUintLE=ee.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Me(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},ee.prototype.readUintBE=ee.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Me(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},ee.prototype.readUint8=ee.prototype.readUInt8=function(e,t){return e>>>=0,t||Me(e,1,this.length),this[e]},ee.prototype.readUint16LE=ee.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Me(e,2,this.length),this[e]|this[e+1]<<8},ee.prototype.readUint16BE=ee.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Me(e,2,this.length),this[e]<<8|this[e+1]},ee.prototype.readUint32LE=ee.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Me(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},ee.prototype.readUint32BE=ee.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Me(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ee.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Me(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},ee.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Me(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},ee.prototype.readInt8=function(e,t){return e>>>=0,t||Me(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},ee.prototype.readInt16LE=function(e,t){e>>>=0,t||Me(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},ee.prototype.readInt16BE=function(e,t){e>>>=0,t||Me(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},ee.prototype.readInt32LE=function(e,t){return e>>>=0,t||Me(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ee.prototype.readInt32BE=function(e,t){return e>>>=0,t||Me(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ee.prototype.readFloatLE=function(e,t){return e>>>=0,t||Me(e,4,this.length),z(this,e,!0,23,4)},ee.prototype.readFloatBE=function(e,t){return e>>>=0,t||Me(e,4,this.length),z(this,e,!1,23,4)},ee.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Me(e,8,this.length),z(this,e,!0,52,8)},ee.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Me(e,8,this.length),z(this,e,!1,52,8)},ee.prototype.writeUintLE=ee.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||Ee(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},ee.prototype.writeUintBE=ee.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||Ee(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},ee.prototype.writeUint8=ee.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,1,255,0),this[t]=255&e,t+1},ee.prototype.writeUint16LE=ee.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},ee.prototype.writeUint16BE=ee.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},ee.prototype.writeUint32LE=ee.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},ee.prototype.writeUint32BE=ee.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ee.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);Ee(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},ee.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);Ee(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},ee.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},ee.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},ee.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},ee.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},ee.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ee(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ee.prototype.writeFloatLE=function(e,t,n){return xe(this,e,t,!0,n)},ee.prototype.writeFloatBE=function(e,t,n){return xe(this,e,t,!1,n)},ee.prototype.writeDoubleLE=function(e,t,n){return Te(this,e,t,!0,n)},ee.prototype.writeDoubleBE=function(e,t,n){return Te(this,e,t,!1,n)},ee.prototype.copy=function(e,t,n,i){if(!ee.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r},ee.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!ee.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var r=e.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(e=r)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=ee.isBuffer(e)?e:ee.from(e,i),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var Ie=/[^+/0-9A-Za-z-_]/g;function Ae(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Oe(e){return L(function(e){if((e=(e=e.split("=")[0]).trim().replace(Ie,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Pe(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function Re(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function De(e){return e!=e}var je,Le=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)t[i+r]=e[n]+e[r];return t}(),Ne=R,Be=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};if("undefined"==typeof XMLHttpRequest){var Ue="function"==typeof __webpack_require__?__non_webpack_require__:void 0;je=Ue("request")}var ze=function(e){function t(t){var n=e.call(this)||this;if(void 0===je)throw new Error("The 'request' module could not be loaded.");return n.logger=t,n.cookieJar=je.jar(),n.request=je.defaults({jar:n.cookieJar}),n}return Be(t,e),t.prototype.send=function(e){var t=this;return new Promise((function(n,i){var r;r=k.isArrayBuffer(e.content)?Ne.from(e.content):e.content||"";var o=t.request(e.url,{body:r,encoding:"arraybuffer"===e.responseType?null:"utf8",headers:Fe({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,timeout:e.timeout},(function(r,o,a){if(e.abortSignal&&(e.abortSignal.onabort=null),r)return"ETIMEDOUT"===r.code&&(t.logger.log(y.Warning,"Timeout from HTTP request."),i(new u.TimeoutError)),t.logger.log(y.Warning,"Error from HTTP request. "+r),void i(r);o.statusCode>=200&&o.statusCode<300?n(new p.HttpResponse(o.statusCode,o.statusMessage||"",a)):i(new u.HttpError(o.statusMessage||"",o.statusCode||0))}));e.abortSignal&&(e.abortSignal.onabort=function(){o.abort(),i(new u.AbortError)})}))},t.prototype.getCookieString=function(e){return this.cookieJar.getCookieString(e)},t}(p.HttpClient),qe={};t(qe,"XhrHttpClient",(()=>Ve),(e=>Ve=e));var He=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ve=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n}return He(t,e),t.prototype.send=function(e){var t=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new u.AbortError):e.method?e.url?new Promise((function(n,i){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=!0,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var o=e.headers;o&&Object.keys(o).forEach((function(e){r.setRequestHeader(e,o[e])})),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){r.abort(),i(new u.AbortError)}),e.timeout&&(r.timeout=e.timeout),r.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?n(new p.HttpResponse(r.status,r.statusText,r.response||r.responseText)):i(new u.HttpError(r.statusText,r.status))},r.onerror=function(){t.logger.log(y.Warning,"Error from HTTP request. "+r.status+": "+r.statusText+"."),i(new u.HttpError(r.statusText,r.status))},r.ontimeout=function(){t.logger.log(y.Warning,"Timeout from HTTP request."),i(new u.TimeoutError)},r.send(e.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(p.HttpClient),We=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ke=function(e){function t(t){var n=e.call(this)||this;return"undefined"!=typeof XMLHttpRequest?n.httpClient=new qe.XhrHttpClient(t):n.httpClient=new _.NodeHttpClient(t),n}return We(t,e),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new u.AbortError):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(p.HttpClient),Ge={};t(Ge,"HubConnection",(()=>st),(e=>st=e));var Ye,Ze,Je=function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var n=t.split(e.RecordSeparator);return n.pop(),n},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}(),Xe=R,$e=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return Je.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var t,n;if(k.isArrayBuffer(e)||void 0!==Xe&&e instanceof Xe){var i=new Uint8Array(e);if(-1===(o=i.indexOf(Je.RecordSeparatorCode)))throw new Error("Message is incomplete.");var r=o+1;t=String.fromCharCode.apply(null,i.slice(0,r)),n=i.byteLength>r?i.slice(r).buffer:null}else{var o,a=e;if(-1===(o=a.indexOf(Je.RecordSeparator)))throw new Error("Message is incomplete.");r=o+1;t=a.substring(0,r),n=a.length>r?a.substring(r):null}var s=Je.parse(t),u=JSON.parse(s[0]);if(u.type)throw new Error("Expected a handshake response from the server.");return[n,u]},e}();(Ze=Ye||(Ye={}))[Ze.Invocation=1]="Invocation",Ze[Ze.StreamItem=2]="StreamItem",Ze[Ze.Completion=3]="Completion",Ze[Ze.StreamInvocation=4]="StreamInvocation",Ze[Ze.CancelInvocation=5]="CancelInvocation",Ze[Ze.Ping=6]="Ping",Ze[Ze.Close=7]="Close";var Qe,et,tt=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))},nt=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o};(et=Qe||(Qe={}))[et.Disconnected=0]="Disconnected",et[et.Connected=1]="Connected";var it,rt,ot,at,st=function(){function e(e,t,n){var i=this;k.Arg.isRequired(e,"connection"),k.Arg.isRequired(t,"logger"),k.Arg.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=t,this.protocol=n,this.connection=e,this.handshakeProtocol=new $e,this.connection.onreceive=function(e){return i.processIncomingData(e)},this.connection.onclose=function(e){return i.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.id=0,this.receivedHandshakeResponse=!1,this.connectionState=Qe.Disconnected,this.cachedPingMessage=this.protocol.writeMessage({type:Ye.Ping})}return e.create=function(t,n,i){return new e(t,n,i)},Object.defineProperty(e.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),e.prototype.start=function(){return tt(this,void 0,void 0,(function(){var e,t,n=this;return nt(this,(function(i){switch(i.label){case 0:return e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(y.Debug,"Starting HubConnection."),this.receivedHandshakeResponse=!1,t=new Promise((function(e,t){n.handshakeResolver=e,n.handshakeRejecter=t})),[4,this.connection.start(this.protocol.transferFormat)];case 1:return i.sent(),this.logger.log(y.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 2:return i.sent(),this.logger.log(y.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 3:return i.sent(),this.connectionState=Qe.Connected,[2]}}))}))},e.prototype.stop=function(){return this.logger.log(y.Debug,"Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),this.connection.stop()},e.prototype.stream=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r,o=this.createStreamInvocation(e,n),a=new k.Subject;a.cancelCallback=function(){var e=t.createCancelInvocation(o.invocationId),n=t.protocol.writeMessage(e);return delete t.callbacks[o.invocationId],r.then((function(){return t.sendMessage(n)}))},this.callbacks[o.invocationId]=function(e,t){t?a.error(t):e&&(e.type===Ye.Completion?e.error?a.error(new Error(e.error)):a.complete():a.next(e.item))};var s=this.protocol.writeMessage(o);return r=this.sendMessage(s).catch((function(e){a.error(e),delete t.callbacks[o.invocationId]})),a},e.prototype.sendMessage=function(e){return this.resetKeepAliveInterval(),this.connection.send(e)},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.createInvocation(e,t,!0),r=this.protocol.writeMessage(i);return this.sendMessage(r)},e.prototype.invoke=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.createInvocation(e,n,!1),o=new Promise((function(e,n){t.callbacks[r.invocationId]=function(t,i){i?n(i):t&&(t.type===Ye.Completion?t.error?n(new Error(t.error)):e(t.result):n(new Error("Unexpected message type: "+t.type)))};var i=t.protocol.writeMessage(r);t.sendMessage(i).catch((function(e){n(e),delete t.callbacks[r.invocationId]}))}));return o},e.prototype.on=function(e,t){e&&t&&(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var n=this.methods[e];if(n)if(t){var i=n.indexOf(t);-1!==i&&(n.splice(i,1),0===n.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=0,n=this.protocol.parseMessages(e,this.logger);t<n.length;t++){var i=n[t];switch(i.type){case Ye.Invocation:this.invokeClientMethod(i);break;case Ye.StreamItem:case Ye.Completion:var r=this.callbacks[i.invocationId];null!=r&&(i.type===Ye.Completion&&delete this.callbacks[i.invocationId],r(i));break;case Ye.Ping:break;case Ye.Close:this.logger.log(y.Information,"Close message received from server."),this.connection.stop(i.error?new Error("Server returned an error on close: "+i.error):void 0);break;default:this.logger.log(y.Warning,"Invalid message type: "+i.type+".")}}this.resetTimeoutPeriod()},e.prototype.processHandshakeResponse=function(e){var t,n,i;try{i=(t=this.handshakeProtocol.parseHandshakeResponse(e))[0],n=t[1]}catch(e){var r="Error parsing handshake response: "+e;this.logger.log(y.Error,r);var o=new Error(r);throw this.connection.stop(o),this.handshakeRejecter(o),o}if(n.error){r="Server returned handshake error: "+n.error;throw this.logger.log(y.Error,r),this.handshakeRejecter(r),this.connection.stop(new Error(r)),new Error(r)}return this.logger.log(y.Debug,"Server handshake complete."),this.handshakeResolver(),i},e.prototype.resetKeepAliveInterval=function(){var e=this;this.cleanupPingTimer(),this.pingServerHandle=setTimeout((function(){return tt(e,void 0,void 0,(function(){return nt(this,(function(e){switch(e.label){case 0:if(this.connectionState!==Qe.Connected)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),this.keepAliveIntervalInMilliseconds)},e.prototype.resetTimeoutPeriod=function(){var e=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return e.serverTimeout()}),this.serverTimeoutInMilliseconds))},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,n=this.methods[e.target.toLowerCase()];if(n){if(n.forEach((function(n){return n.apply(t,e.arguments)})),e.invocationId){var i="Server requested a response, which is not supported in this version of the client.";this.logger.log(y.Error,i),this.connection.stop(new Error(i))}}else this.logger.log(y.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){var t=this,n=this.callbacks;this.callbacks={},this.connectionState=Qe.Disconnected,this.handshakeRejecter&&this.handshakeRejecter(e),Object.keys(n).forEach((function(t){(0,n[t])(null,e||new Error("Invocation canceled due to connection being closed."))})),this.cleanupTimeout(),this.cleanupPingTimer(),this.closedCallbacks.forEach((function(n){return n.apply(t,[e])}))},e.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,n){if(n)return{arguments:t,target:e,type:Ye.Invocation};var i=this.id;return this.id++,{arguments:t,invocationId:i.toString(),target:e,type:Ye.Invocation}},e.prototype.createStreamInvocation=function(e,t){var n=this.id;return this.id++,{arguments:t,invocationId:n.toString(),target:e,type:Ye.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:Ye.CancelInvocation}},e}(),ut={};t(ut,"HttpConnection",(()=>xt),(e=>xt=e)),(rt=it||(it={}))[rt.None=0]="None",rt[rt.WebSockets=1]="WebSockets",rt[rt.ServerSentEvents=2]="ServerSentEvents",rt[rt.LongPolling=4]="LongPolling",(at=ot||(ot={}))[at.Text=1]="Text",at[at.Binary=2]="Binary";var ct={};t(ct,"LongPollingTransport",(()=>dt),(e=>dt=e));var lt=function(){function e(){this.isAborted=!1,this.onabort=null}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}(),ht=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))},ft=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},dt=function(){function e(e,t,n,i){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.pollAbort=new lt,this.logMessageContent=i,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return ht(this,void 0,void 0,(function(){var n,i,r,o;return ft(this,(function(a){switch(a.label){case 0:if(k.Arg.isRequired(e,"url"),k.Arg.isRequired(t,"transferFormat"),k.Arg.isIn(t,ot,"transferFormat"),this.url=e,this.logger.log(y.Trace,"(LongPolling transport) Connecting."),t===ot.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5},t===ot.Binary&&(n.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return i=a.sent(),this.updateHeaderToken(n,i),r=e+"&_="+Date.now(),this.logger.log(y.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,n)];case 2:return 200!==(o=a.sent()).statusCode?(this.logger.log(y.Error,"(LongPolling transport) Unexpected response code: "+o.statusCode+"."),this.closeError=new u.HttpError(o.statusText||"",o.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,n),[2]}}))}))},e.prototype.getAccessToken=function(){return ht(this,void 0,void 0,(function(){return ft(this,(function(e){switch(e.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,null]}}))}))},e.prototype.updateHeaderToken=function(e,t){e.headers||(e.headers={}),t?e.headers.Authorization="Bearer "+t:e.headers.Authorization&&delete e.headers.Authorization},e.prototype.poll=function(e,t){return ht(this,void 0,void 0,(function(){var n,i,r,o;return ft(this,(function(a){switch(a.label){case 0:a.trys.push([0,,8,9]),a.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=a.sent(),this.updateHeaderToken(t,n),a.label=3;case 3:return a.trys.push([3,5,,6]),i=e+"&_="+Date.now(),this.logger.log(y.Trace,"(LongPolling transport) polling: "+i+"."),[4,this.httpClient.get(i,t)];case 4:return 204===(r=a.sent()).statusCode?(this.logger.log(y.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==r.statusCode?(this.logger.log(y.Error,"(LongPolling transport) Unexpected response code: "+r.statusCode+"."),this.closeError=new u.HttpError(r.statusText||"",r.statusCode),this.running=!1):r.content?(this.logger.log(y.Trace,"(LongPolling transport) data received. "+k.getDataDetail(r.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(r.content)):this.logger.log(y.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return o=a.sent(),this.running?o instanceof u.TimeoutError?this.logger.log(y.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=o,this.running=!1):this.logger.log(y.Trace,"(LongPolling transport) Poll errored after shutdown: "+o.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(y.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},e.prototype.send=function(e){return ht(this,void 0,void 0,(function(){return ft(this,(function(t){return this.running?[2,k.sendMessage(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return ht(this,void 0,void 0,(function(){var e,t;return ft(this,(function(n){switch(n.label){case 0:this.logger.log(y.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),n.label=1;case 1:return n.trys.push([1,,5,6]),[4,this.receiving];case 2:return n.sent(),this.logger.log(y.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={headers:{}},[4,this.getAccessToken()];case 3:return t=n.sent(),this.updateHeaderToken(e,t),[4,this.httpClient.delete(this.url,e)];case 4:return n.sent(),this.logger.log(y.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(y.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";this.closeError&&(e+=" Error: "+this.closeError),this.logger.log(y.Trace,e),this.onclose(this.closeError)}},e}(),pt={};t(pt,"ServerSentEventsTransport",(()=>gt),(e=>gt=e));var mt=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))},vt=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},gt=function(){function e(e,t,n,i,r){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.logMessageContent=i,this.eventSourceConstructor=r,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return mt(this,void 0,void 0,(function(){var n,i=this;return vt(this,(function(r){switch(r.label){case 0:return k.Arg.isRequired(e,"url"),k.Arg.isRequired(t,"transferFormat"),k.Arg.isIn(t,ot,"transferFormat"),this.logger.log(y.Trace,"(SSE transport) Connecting."),this.url=e,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=r.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),r.label=2;case 2:return[2,new Promise((function(n,r){var o=!1;if(t===ot.Text){var a;if("undefined"!=typeof window)a=new i.eventSourceConstructor(e,{withCredentials:!0});else{var s=i.httpClient.getCookieString(e);a=new i.eventSourceConstructor(e,{withCredentials:!0,headers:{Cookie:s}})}try{a.onmessage=function(e){if(i.onreceive)try{i.logger.log(y.Trace,"(SSE transport) data received. "+k.getDataDetail(e.data,i.logMessageContent)+"."),i.onreceive(e.data)}catch(e){return void i.close(e)}},a.onerror=function(e){var t=new Error(e.data||"Error occurred");o?i.close(t):r(t)},a.onopen=function(){i.logger.log(y.Information,"SSE connected to "+i.url),i.eventSource=a,o=!0,n()}}catch(e){return void r(e)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},e.prototype.send=function(e){return mt(this,void 0,void 0,(function(){return vt(this,(function(t){return this.eventSource?[2,k.sendMessage(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return this.close(),Promise.resolve()},e.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(e))},e}(),bt={};t(bt,"WebSocketTransport",(()=>_t),(e=>_t=e));var yt=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))},wt=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},_t=function(){function e(e,t,n,i,r){this.logger=n,this.accessTokenFactory=t,this.logMessageContent=i,this.webSocketConstructor=r,this.httpClient=e,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return yt(this,void 0,void 0,(function(){var n,i=this;return wt(this,(function(r){switch(r.label){case 0:return k.Arg.isRequired(e,"url"),k.Arg.isRequired(t,"transferFormat"),k.Arg.isIn(t,ot,"transferFormat"),this.logger.log(y.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=r.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),r.label=2;case 2:return[2,new Promise((function(n,r){var o;e=e.replace(/^http/,"ws");var a=i.httpClient.getCookieString(e);"undefined"==typeof window&&a&&(o=new i.webSocketConstructor(e,void 0,{headers:{Cookie:""+a}})),o||(o=new i.webSocketConstructor(e)),t===ot.Binary&&(o.binaryType="arraybuffer"),o.onopen=function(t){i.logger.log(y.Information,"WebSocket connected to "+e+"."),i.webSocket=o,n()},o.onerror=function(e){var t=null;"undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent&&(t=e.error),r(t)},o.onmessage=function(e){i.logger.log(y.Trace,"(WebSockets transport) data received. "+k.getDataDetail(e.data,i.logMessageContent)+"."),i.onreceive&&i.onreceive(e.data)},o.onclose=function(e){return i.close(e)}}))]}}))}))},e.prototype.send=function(e){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(y.Trace,"(WebSockets transport) sending data. "+k.getDataDetail(e,this.logMessageContent)+"."),this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},e.prototype.stop=function(){return this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0,this.close(void 0)),Promise.resolve()},e.prototype.close=function(e){this.logger.log(y.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!e||!1!==e.wasClean&&1e3===e.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+e.code+" ("+e.reason+").")))},e}(),kt=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))},St=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Mt=null,Et=null;if("undefined"==typeof window){var Ct="function"==typeof __webpack_require__?__non_webpack_require__:void 0;Mt=Ct("ws"),Et=Ct("eventsource")}var xt=function(){function e(e,t){void 0===t&&(t={}),this.features={},k.Arg.isRequired(e,"url"),this.logger=k.createLogger(t.logger),this.baseUrl=this.resolveUrl(e),(t=t||{}).logMessageContent=t.logMessageContent||!1;var n="undefined"==typeof window;n||"undefined"==typeof WebSocket||t.WebSocket?n&&!t.WebSocket&&Mt&&(t.WebSocket=Mt):t.WebSocket=WebSocket,n||"undefined"==typeof EventSource||t.EventSource?n&&!t.EventSource&&void 0!==Et&&(t.EventSource=Et):t.EventSource=EventSource,this.httpClient=t.httpClient||new b.DefaultHttpClient(this.logger),this.connectionState=2,this.options=t,this.onreceive=null,this.onclose=null}return e.prototype.start=function(e){return e=e||ot.Binary,k.Arg.isIn(e,ot,"transferFormat"),this.logger.log(y.Debug,"Starting connection with transfer format '"+ot[e]+"'."),2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(e),this.startPromise)},e.prototype.send=function(e){if(1!==this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State.");return this.transport.send(e)},e.prototype.stop=function(e){return kt(this,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:this.connectionState=2,this.stopError=e,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startPromise];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return this.transport?[4,this.transport.stop()]:[3,6];case 5:t.sent(),this.transport=void 0,t.label=6;case 6:return[2]}}))}))},e.prototype.startInternal=function(e){return kt(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u=this;return St(this,(function(c){switch(c.label){case 0:t=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,c.label=1;case 1:return c.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==it.WebSockets?[3,3]:(this.transport=this.constructTransport(it.WebSockets),[4,this.transport.connect(t,e)]):[3,5];case 2:return c.sent(),[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,i=0,r=function(){var e;return St(this,(function(r){switch(r.label){case 0:return[4,o.getNegotiationResponse(t)];case 1:if(n=r.sent(),2===o.connectionState)return[2,{value:void 0}];if(n.error)throw Error(n.error);if(n.ProtocolVersion)throw Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(t=n.url),n.accessToken&&(e=n.accessToken,o.accessTokenFactory=function(){return e}),i++,[2]}}))},o=this,c.label=6;case 6:return[5,r()];case 7:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=8;case 8:if(n.url&&i<100)return[3,6];c.label=9;case 9:if(100===i&&n.url)throw Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(t,this.options.transport,n,e)];case 10:c.sent(),c.label=11;case 11:return this.transport instanceof ct.LongPollingTransport&&(this.features.inherentKeepAlive=!0),this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return u.stopConnection(e)},this.changeState(0,1),[3,13];case 12:throw s=c.sent(),this.logger.log(y.Error,"Failed to start the connection: "+s),this.connectionState=2,this.transport=void 0,s;case 13:return[2]}}))}))},e.prototype.getNegotiationResponse=function(e){return kt(this,void 0,void 0,(function(){var t,n,i,r,o,a;return St(this,(function(s){switch(s.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&((t={}).Authorization="Bearer "+i,n=t),s.label=2;case 2:r=this.resolveNegotiateUrl(e),this.logger.log(y.Debug,"Sending negotiation request: "+r+"."),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,this.httpClient.post(r,{content:"",headers:n})];case 4:if(200!==(o=s.sent()).statusCode)throw Error("Unexpected status code returned from negotiate "+o.statusCode);return[2,JSON.parse(o.content)];case 5:throw a=s.sent(),this.logger.log(y.Error,"Failed to complete negotiation with the server: "+a),a;case 6:return[2]}}))}))},e.prototype.createConnectUrl=function(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+"id="+t:e},e.prototype.createTransport=function(e,t,n,i){return kt(this,void 0,void 0,(function(){var r,o,a,s,u,c,l;return St(this,(function(h){switch(h.label){case 0:return r=this.createConnectUrl(e,n.connectionId),this.isITransport(t)?(this.logger.log(y.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,[4,this.transport.connect(r,i)]):[3,2];case 1:return h.sent(),this.changeState(0,1),[2];case 2:o=n.availableTransports||[],a=0,s=o,h.label=3;case 3:return a<s.length?(u=s[a],this.connectionState=0,"number"!=typeof(c=this.resolveTransport(u,t,i))?[3,8]:(this.transport=this.constructTransport(c),n.connectionId?[3,5]:[4,this.getNegotiationResponse(e)])):[3,9];case 4:n=h.sent(),r=this.createConnectUrl(e,n.connectionId),h.label=5;case 5:return h.trys.push([5,7,,8]),[4,this.transport.connect(r,i)];case 6:return h.sent(),this.changeState(0,1),[2];case 7:return l=h.sent(),this.logger.log(y.Error,"Failed to start the transport '"+it[c]+"': "+l),this.connectionState=2,n.connectionId=void 0,[3,8];case 8:return a++,[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}}))}))},e.prototype.constructTransport=function(e){switch(e){case it.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new bt.WebSocketTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case it.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new pt.ServerSentEventsTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case it.LongPolling:return new ct.LongPollingTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+e+".")}},e.prototype.resolveTransport=function(e,t,n){var i=it[e.transport];if(null==i)this.logger.log(y.Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client.");else{var r=e.transferFormats.map((function(e){return ot[e]}));if(function(e,t){return!e||0!=(t&e)}(t,i))if(r.indexOf(n)>=0){if((i!==it.WebSockets||this.options.WebSocket)&&(i!==it.ServerSentEvents||this.options.EventSource))return this.logger.log(y.Debug,"Selecting transport '"+it[i]+"'."),i;this.logger.log(y.Debug,"Skipping transport '"+it[i]+"' because it is not supported in your environment.'")}else this.logger.log(y.Debug,"Skipping transport '"+it[i]+"' because it does not support the requested transfer format '"+ot[n]+"'.");else this.logger.log(y.Debug,"Skipping transport '"+it[i]+"' because it was disabled by the client.")}return null},e.prototype.isITransport=function(e){return e&&"object"==typeof e&&"connect"in e},e.prototype.changeState=function(e,t){return this.connectionState===e&&(this.connectionState=t,!0)},e.prototype.stopConnection=function(e){this.transport=void 0,(e=this.stopError||e)?this.logger.log(y.Error,"Connection disconnected with error '"+e+"'."):this.logger.log(y.Information,"Connection disconnected."),this.connectionState=2,this.onclose&&this.onclose(e)},e.prototype.resolveUrl=function(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if("undefined"==typeof window||!window||!window.document)throw new Error("Cannot resolve '"+e+"'.");var t=window.document.createElement("a");return t.href=e,this.logger.log(y.Information,"Normalizing '"+e+"' to '"+t.href+"'."),t.href},e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?"),n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===t?"":e.substring(t)},e}();var Tt=function(){function e(){this.name="json",this.version=1,this.transferFormat=ot.Text}return e.prototype.parseMessages=function(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=S.instance);for(var n=[],i=0,r=Je.parse(e);i<r.length;i++){var o=r[i],a=JSON.parse(o);if("number"!=typeof a.type)throw new Error("Invalid payload.");switch(a.type){case Ye.Invocation:this.isInvocationMessage(a);break;case Ye.StreamItem:this.isStreamItemMessage(a);break;case Ye.Completion:this.isCompletionMessage(a);break;case Ye.Ping:case Ye.Close:break;default:t.log(y.Information,"Unknown message type '"+a.type+"' ignored.");continue}n.push(a)}return n},e.prototype.writeMessage=function(e){return Je.write(JSON.stringify(e))},e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")},e.prototype.isStreamItemMessage=function(e){if(this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")},e.prototype.isCompletionMessage=function(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this.assertNotEmptyString(e.error,"Invalid payload for Completion message."),this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")},e.prototype.assertNotEmptyString=function(e,t){if("string"!=typeof e||""===e)throw new Error(t)},e}(),It=function(){function e(){}return e.prototype.configureLogging=function(e){return k.Arg.isRequired(e,"logging"),void 0!==e.log?this.logger=e:this.logger=new k.ConsoleLogger(e),this},e.prototype.withUrl=function(e,t){return k.Arg.isRequired(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?t:{transport:t},this},e.prototype.withHubProtocol=function(e){return k.Arg.isRequired(e,"protocol"),this.protocol=e,this},e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var t=new ut.HttpConnection(this.url,e);return Ge.HubConnection.create(t,this.logger||S.instance,this.protocol||new Tt)},e}();var At,Ot=new Uint8Array(16);function Pt(){if(!At&&!(At="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return At(Ot)}var Rt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Dt=function(e){return"string"==typeof e&&Rt.test(e)},jt=[],Lt=0;Lt<256;++Lt)jt.push((Lt+256).toString(16).substr(1));var Nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(jt[e[t+0]]+jt[e[t+1]]+jt[e[t+2]]+jt[e[t+3]]+"-"+jt[e[t+4]]+jt[e[t+5]]+"-"+jt[e[t+6]]+jt[e[t+7]]+"-"+jt[e[t+8]]+jt[e[t+9]]+"-"+jt[e[t+10]]+jt[e[t+11]]+jt[e[t+12]]+jt[e[t+13]]+jt[e[t+14]]+jt[e[t+15]]).toLowerCase();if(!Dt(n))throw TypeError("Stringified UUID is invalid");return n};var Bt,Ft,Ut=function(e,t,n){var i=(e=e||{}).random||(e.rng||Pt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return Nt(i)};(Ft=Bt||(Bt={})).ReceivedMyProfile="RECEIVED_MY_PROFILE",Ft.ReceivedServerSettings="RECEIVED_SERVER_SETTINGS",Ft.UpdatedCurrentRoom="UPDATED_CURRENT_ROOM",Ft.UpdatedRoomData="UPDATED_ROOM_DATA",Ft.UpdatedPresence="UPDATED_PRESENCE",Ft.PlayerConnected="PLAYER_CONNECTED",Ft.PlayerDisconnected="PLAYER_DISCONNECTED",Ft.ChatMessage="CHAT_MESSAGE",Ft.CaptionMessage="CAPTION_MESSAGE",Ft.ModMessage="MOD_MESSAGE",Ft.DeleteMessage="DELETE_MESSAGE",Ft.Whisper="WHISPER",Ft.Shout="SHOUT",Ft.Emote="EMOTE",Ft.Dance="DANCE",Ft.PlayerEntered="PLAYER_ENTERED",Ft.PlayerLeft="PLAYER_LEFT",Ft.Error="ERROR",Ft.UserMap="USER_MAP",Ft.PlayerBanned="PLAYER_BANNED",Ft.PlayerUnbanned="PLAYER_UNBANNED",Ft.UpdateProfileColor="UPDATE_PROFILE_COLOR",Ft.StopVideoChat="STOP_VIDEO_CHAT",Ft.StartVideoChat="START_VIDEO_CHAT",Ft.MediaReceivedSpeakingData="MEDIA_RECEIVED_SPEAKING_DATA",Ft.RefreshReact="REFRESH_REACT",Ft.SendMessage="SEND_MESSAGE",Ft.SendCaption="SEND_CAPTION",Ft.SetName="SET_NAME",Ft.StartWhisper="START_WHISPER",Ft.ShowProfile="SHOW_PROFILE",Ft.HideProfile="HIDE_PROFILE",Ft.ShowModal="SHOW_MODAL",Ft.ShowModalWithOptions="SHOW_MODAL_WITH_OPTIONS",Ft.ShowSideMenu="SHOW_SIDE_MENU",Ft.HideSideMenu="HIDE_SIDE_MENU",Ft.DeactivateAutoscroll="DEACTIVATE_AUTOSCROLL",Ft.ActivateAutoscroll="ACTIVATE_AUTOSCROLL",Ft.SetKeepCameraWhenMoving="SET_KEEP_CAMERA_WHEN_MOVING",Ft.Authenticate="AUTHENTICATE",Ft.IsRegistered="IS_REGISTERED",Ft.BanToggle="BAN_TOGGLE",Ft.ModToggle="MOD_TOGGLE",Ft.LoadMessageArchive="LOAD_MESSAGE_ARCHIVE",Ft.NoteAdd="NOTE_ADD",Ft.NoteRemove="NOTE_REMOVE",Ft.NoteUpdateLikes="NOTE_UPDATE_LIKES",Ft.NoteUpdateRoom="NOTE_UPDATE_ROOM",Ft.HideModalAction="HIDE_MODAL",Ft.SpaceIsClosed="SPACE_IS_CLOSED",Ft.SpaceOpenedOrClosed="SPACE_OPENED_OR_CLOSED",Ft.CommandMessage="COMMAND_MESSAGE";const zt=e=>({type:Bt.ReceivedMyProfile,value:e}),qt=e=>({type:Bt.ReceivedServerSettings,value:e}),Ht=e=>({type:Bt.UpdatedCurrentRoom,value:e}),Vt=e=>({type:Bt.UpdatedPresence,value:e}),Wt=e=>({type:Bt.UserMap,value:e}),Kt=e=>({type:Bt.PlayerBanned,value:e}),Gt=e=>({type:Bt.UpdateProfileColor,color:e}),Yt=e=>({type:Bt.MediaReceivedSpeakingData,value:e}),Zt=()=>({type:Bt.StopVideoChat}),Jt=()=>({type:Bt.StartVideoChat}),Xt=e=>({type:Bt.Error,value:e}),$t=()=>({type:Bt.RefreshReact}),Qt=e=>({type:Bt.SendMessage,value:e}),en=e=>({type:Bt.ShowProfile,value:e}),tn=e=>({type:Bt.ShowModal,value:e}),nn=()=>({type:Bt.HideModalAction}),rn=e=>({type:Bt.SetKeepCameraWhenMoving,value:e}),on=(e,t,n,i)=>({type:Bt.Authenticate,value:{userId:e,name:t,provider:n,mustVerifyEmail:i}}),an=()=>({type:Bt.IsRegistered}),sn=(e,t)=>({type:Bt.NoteUpdateRoom,value:{roomId:e,notes:t}}),un=e=>({type:Bt.CommandMessage,value:e});const cn=631;var ln,hn;(hn=ln||(ln={}))[hn.None=0]="None",hn[hn.ProfileEdit=1]="ProfileEdit",hn[hn.NoteWall=2]="NoteWall",hn[hn.Settings=3]="Settings",hn[hn.MediaSelector=4]="MediaSelector",hn[hn.CodeOfConduct=5]="CodeOfConduct",hn[hn.Schedule=6]="Schedule",hn[hn.Help=7]="Help",hn[hn.Map=8]="Map",hn[hn.Welcome=9]="Welcome",hn[hn.RoomList=10]="RoomList",hn[hn.FeatureRainbowGate=11]="FeatureRainbowGate",hn[hn.FeatureDullDoor=12]="FeatureDullDoor",hn[hn.ServerSettings=13]="ServerSettings",hn[hn.ClientDeployed=14]="ClientDeployed",hn[hn.FeatureFullRoomIndex=15]="FeatureFullRoomIndex",hn[hn.HappeningNow=16]="HappeningNow";var fn={SERVER_HOSTNAME:void 0,FIREBASE_CONFIG:{apiKey:"AIzaSyADK2RBXutNz8DfGql4lL-Z57ZH8QYjxnE",authDomain:"roguelike-celebration-prod.firebaseapp.com",projectId:"roguelike-celebration-prod",storageBucket:"roguelike-celebration-prod.appspot.com",messagingSenderId:"110987267204",appId:"1:110987267204:web:9bbee4217e33ab899e86d1"}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dn=function(){return(dn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create;Object.create;o.register("1xTls",(function(e,i){t(e.exports,"ErrorFactory",(()=>d),(e=>d=e)),t(e.exports,"deepCopy",(()=>s),(e=>s=e)),t(e.exports,"isBrowser",(()=>h),(e=>h=e)),t(e.exports,"isNode",(()=>l),(e=>l=e)),t(e.exports,"contains",(()=>v),(e=>v=e)),t(e.exports,"Deferred",(()=>c),(e=>c=e)),t(e.exports,"deepExtend",(()=>u),(e=>u=e)),t(e.exports,"createSubscribe",(()=>g),(e=>g=e));var r=o("3wnkz"),a=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(e){return u(void 0,e)}function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var c=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,i))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(){try{return"[object process]"===Object.prototype.toString.call(n.process)}catch(e){return!1}}function h(){return"object"==typeof self&&self.self===self}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var f=function(e){function t(n,i,r){var o=e.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,d.prototype.create),o}return r.__extends(t,e),t}(Error),d=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0]||{},r=this.service+"/"+e,o=this.errors[e],a=o?p(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new f(r,s,i);return u},e}();function p(e,t){return e.replace(m,(function(e,n){var i=t[n];return null!=i?String(i):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):i<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e}}();function g(e,t){var n=new b(e,t);return n.subscribe.bind(n)}var b=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"==typeof e[r])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=y),void 0===i.error&&(i.error=y),void 0===i.complete&&(i.complete=y);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}})),this.observers.push(i),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function y(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})),o.register("3wnkz",(function(e,n){t(e.exports,"__extends",(()=>r)),t(e.exports,"__assign",(()=>o));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create;Object.create}));var pn=o("1xTls");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mn(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function vn(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;function gn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function yn(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;pn=o("1xTls");var wn=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),_n="[DEFAULT]",kn=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pn.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:_n})}catch(e){}try{for(var i=gn(this.instancesDeferred.entries()),r=i.next();!r.done;r=i.next()){var o=bn(r.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=_n),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return mn(this,void 0,void 0,(function(){var e;return vn(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(yn(yn([],bn(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),bn(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=_n),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=_n),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,r=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:r});try{for(var s=gn(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=bn(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&e(o,i),function(){r.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,r=this.onInitCallbacks.get(t);if(r)try{for(var o=gn(r),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,i=e.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===_n?void 0:t),options:r}),this.instances.set(n,o),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=_n),this.component?this.component.multipleInstances?e:_n:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var Sn,Mn=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new kn(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function En(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,xn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Cn||(Cn={}));var Tn,In={debug:Cn.DEBUG,verbose:Cn.VERBOSE,info:Cn.INFO,warn:Cn.WARN,error:Cn.ERROR,silent:Cn.SILENT},An=Cn.INFO,On=((Sn={})[Cn.DEBUG]="log",Sn[Cn.VERBOSE]="log",Sn[Cn.INFO]="info",Sn[Cn.WARN]="warn",Sn[Cn.ERROR]="error",Sn),Pn=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var r=(new Date).toISOString(),o=On[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,En(["["+r+"]  "+e.name+":"],n))}},Rn=function(){function e(e){this.name=e,this._logLevel=An,this._logHandler=Pn,this._userLogHandler=null,xn.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Cn))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?In[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,En([this,Cn.DEBUG],e)),this._logHandler.apply(this,En([this,Cn.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,En([this,Cn.VERBOSE],e)),this._logHandler.apply(this,En([this,Cn.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,En([this,Cn.INFO],e)),this._logHandler.apply(this,En([this,Cn.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,En([this,Cn.WARN],e)),this._logHandler.apply(this,En([this,Cn.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,En([this,Cn.ERROR],e)),this._logHandler.apply(this,En([this,Cn.ERROR],e))},e}();function Dn(e){xn.forEach((function(t){t.setLogLevel(e)}))}var jn,Ln=((Tn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Tn["bad-app-name"]="Illegal App name: '{$appName}",Tn["duplicate-app"]="Firebase App named '{$appName}' already exists",Tn["app-deleted"]="Firebase App named '{$appName}' already deleted",Tn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Tn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Tn),Nn=new pn.ErrorFactory("app","Firebase",Ln),Bn="@firebase/app",Fn="[DEFAULT]",Un=((jn={})["@firebase/app"]="fire-core",jn["@firebase/analytics"]="fire-analytics",jn["@firebase/app-check"]="fire-app-check",jn["@firebase/auth"]="fire-auth",jn["@firebase/database"]="fire-rtdb",jn["@firebase/functions"]="fire-fn",jn["@firebase/installations"]="fire-iid",jn["@firebase/messaging"]="fire-fcm",jn["@firebase/performance"]="fire-perf",jn["@firebase/remote-config"]="fire-rc",jn["@firebase/storage"]="fire-gcs",jn["@firebase/firestore"]="fire-fst",jn["fire-js"]="fire-js",jn["firebase-wrapper"]="fire-js-all",jn),zn=new Rn("@firebase/app"),qn=function(){function e(e,t,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=pn.deepCopy(e),this.container=new Mn(t.name),this._addComponent(new wn("app",(function(){return i}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return i._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=Fn),this.checkDestroyed_();var i=this.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Fn),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){zn.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Nn.create("app-deleted",{appName:this.name_})},e}();qn.prototype.name&&qn.prototype.options||qn.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hn(e){var t={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name=Fn);var a=o.name;if("string"!=typeof a||!a)throw Nn.create("bad-app-name",{appName:String(a)});if(pn.contains(t,a))throw Nn.create("duplicate-app",{appName:a});var s=new e(n,o,i);return t[a]=s,s},app:r,registerVersion:function(e,t,n){var i,r=null!==(i=Un[e])&&void 0!==i?i:e;n&&(r+="-"+n);var a=r.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+r+'" with version "'+t+'":'];return a&&u.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void zn.warn(u.join(" "))}o(new wn(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},setLogLevel:Dn,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Nn.create("invalid-log-argument");!function(e,t){for(var n=function(n){var i=null;t&&t.level&&(i=In[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:Cn[n].toLowerCase(),message:a,args:r,type:t.name})}},i=0,r=xn;i<r.length;i++)n(r[i])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function r(e){if(e=e||Fn,!pn.contains(t,e))throw Nn.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return zn.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?i[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=r()),"function"!=typeof e[a])throw Nn.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&pn.deepExtend(s,o.serviceProps),i[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function e(){var t=Hn(qn);return t.INTERNAL=dn(dn({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){pn.deepExtend(t,e)},createSubscribe:pn.createSubscribe,ErrorFactory:pn.ErrorFactory,deepExtend:pn.deepExtend}),t}(),Wn=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(pn.isBrowser()&&void 0!==self.firebase){zn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Kn=self.firebase.SDK_VERSION;Kn&&Kn.indexOf("LITE")>=0&&zn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gn=Vn.initializeApp;Vn.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pn.isNode()&&zn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Gn.apply(void 0,e)};var Yn,Zn,Jn=Vn;(Yn=Jn).INTERNAL.registerComponent(new wn("platform-logger",(function(e){return new Wn(e)}),"PRIVATE")),Yn.registerVersion(Bn,"0.6.30",Zn),Yn.registerVersion("fire-js","");var Xn=Jn,$n="8.10.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Xn.registerVersion("firebase",$n,"app"),Xn.SDK_VERSION=$n,function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n&&n,e];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=i.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){o(e)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.Ra(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(i.b){case 1:e(i.c);break;case 2:t(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=o(e),a=i.next();!a.done;a=i.next())r(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++b)}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:w).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function M(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function C(e,t,n){this.code=I+e,this.message=t||A[e]||"",this.a=n||null}function x(e){var t=e&&e.code;return t?new C(t.substring(I.length),e.message,e.serverResponse):null}M(C,Error),C.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},C.prototype.toJSON=function(){return this.w()};var T,I="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");D.call(this,n+e[i])}function L(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function B(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function F(){this.b=this.a=null}T=P("__EID__")?"__EID__":void 0,M(D,Error),D.prototype.name="CustomError",M(j,D),j.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var U=new N((function(){return new q}),(function(e){e.reset()}));function z(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}F.prototype.add=function(e,t){var n=U.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r="string"==typeof e?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=[],r=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(i[r++]=s)}return i},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in r&&(i[o]=t.call(void 0,r[o],o,e));return i},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i="string"==typeof e?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function Y(e,t){return 0<=H(e,t)}function Z(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function J(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}var Q,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,ie=/>/g,re=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){Q=he;break e}}Q=""}function fe(e){return ue(Q,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||s).Element&&i.Location){var r=i;break e}}catch(e){}r=null}if(r&&void 0!==r[t]&&(!e||!(e instanceof r[t])&&(e instanceof r.Location||e instanceof r.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ye(e,t){this.a=e===Se&&t||"",this.b=ke}function we(e){return e instanceof ye&&e.constructor===ye&&e.b===ke?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}ye.prototype.ta=!0,ye.prototype.sa=function(){return this.a},ye.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,ke={},Se={};function Me(){if(void 0===_e){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(e){s.console&&s.console.error(e.message)}_e=e}else _e=e}return _e}function Ee(e,t){this.a=t===Ae?e:""}function Ce(e){return e instanceof Ee&&e.constructor===Ee?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function xe(e,t){var n=we(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Me();return new Ee(e=t?t.createScriptURL(e):e,Ae)}(e=n.replace(Te,(function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[i])instanceof ye?we(e):encodeURIComponent(String(e))})))}Ee.prototype.ta=!0,Ee.prototype.sa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Te=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Oe(e,t){this.a=t===Be?e:""}function Pe(e){return e instanceof Oe&&e.constructor===Oe?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new Oe(e,Be);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Oe(e,Be):null}return e}function Ne(e){return e instanceof Oe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new Oe(e,Be))}var Be={},Fe=new Oe("about:invalid#zClosurez",Be);function Ue(e,t,n){this.a=n===ze?e:""}Ue.prototype.ta=!0,Ue.prototype.sa=function(){return this.a.toString()},Ue.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ze={};function qe(e,t,n,i){return e=e instanceof Oe?e:Ne(e),t=t||s,n=n instanceof ye?we(n):n||"",t.open(Pe(e),n,i,void 0)}function He(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Ve(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(re,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function We(e){return We[" "](e),e}We[" "]=h;var Ke,Ge,Ye=fe("Opera"),Ze=fe("Trident")||fe("MSIE"),Je=fe("Edge"),Xe=Je||Ze,$e=fe("Gecko")&&!(ue(Q.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Qe=ue(Q.toLowerCase(),"webkit")&&!fe("Edge");function et(){var e=s.document;return e?e.documentMode:void 0}e:{var tt="",nt=(Ge=Q,$e?/rv:([^\);]+)(\)|;)/.exec(Ge):Je?/Edge\/([\d\.]+)/.exec(Ge):Ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ge):Qe?/WebKit\/(\S+)/.exec(Ge):Ye?/(?:Version)[ \/]?(\S+)/.exec(Ge):void 0);if(nt&&(tt=nt?nt[1]:""),Ze){var it=et();if(null!=it&&it>parseFloat(tt)){Ke=String(it);break e}}Ke=tt}var rt,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(Ke)).split("."),i=ee(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ze){var st=et();rt=st||(parseInt(Ke,10)||void 0)}else rt=void 0;var ut=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ge){}var ct=!Ze||9<=Number(ut);function lt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ht(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){function i(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!d(o)||m(o)&&0<o.nodeType)i(o);else{e:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}V(a?$(o):o,i)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){s.setTimeout((function(){throw e}),0)}function bt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(_t)}}else dt=function(){var e=_t;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!fe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){i.next={Hb:e},i=i.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),yt||(dt(),yt=!0),wt.add(e,t)}var yt=!1,wt=new F;function _t(){for(var e;e=z();){try{e.a.call(e.b)}catch(e){gt(e)}B(U,e)}yt=!1}function kt(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Lt(n,Mt,e)}),(function(e){if(!(e instanceof Ht))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Lt(n,Et,e)}))}catch(e){Lt(this,Et,e)}}var St=0,Mt=2,Et=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new N((function(){return new Ct}),(function(e){e.reset()}));function Tt(e,t,n){var i=xt.get();return i.g=e,i.b=t,i.f=n,i}function It(e){if(e instanceof kt)return e;var t=new kt(h);return Lt(t,Mt,e),t}function At(e){return new kt((function(t,n){n(e)}))}function Ot(e,t,n){Nt(e,t,n,null)||bt(k(t,e))}function Pt(e){return new kt((function(t){var n=e.length,i=[];if(n)for(var r=function(e,r,o){n--,i[e]=r?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(i)},o=0;o<e.length;o++)Ot(e[o],k(r,o,!0),k(r,o,!1));else t(i)}))}function Rt(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var i=0,r=null,o=null,a=n.b;a&&(a.c||(i++,a.a==e&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==St&&1==i?Rt(n,t):(o?((i=o).next==n.f&&(n.f=i),i.next=i.next.next):Ft(n),Ut(n,r,Et,t)))}e.c=null}else Lt(e,Et,t)}function Dt(e,t){e.b||e.a!=Mt&&e.a!=Et||Bt(e),e.f?e.f.next=t:e.b=t,e.f=t}function jt(e,t,n,i){var r=Tt(null,null,null);return r.a=new kt((function(e,o){r.g=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){o(e)}}:e,r.b=n?function(t){try{var r=n.call(i,t);void 0===r&&t instanceof Ht?o(t):e(r)}catch(e){o(e)}}:o})),r.a.c=e,Dt(e,r),r.a}function Lt(e,t,n){e.a==St&&(e===n&&(t=Et,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Nt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Bt(e),t!=Et||n instanceof Ht||function(e,t){e.g=!0,bt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Nt(e,t,n,i){if(e instanceof kt)return Dt(e,Tt(t||h,n||null,i)),!0;if(R(e))return e.then(t,n,i),!0;if(m(e))try{var r=e.then;if(p(r))return function(e,t,n,i,r){function o(e){s||(s=!0,i.call(r,e))}function a(e){s||(s=!0,n.call(r,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}(e,r,t,n,i),!0}catch(e){return n.call(i,e),!0}return!1}function Bt(e){e.h||(e.h=!0,bt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,i){if(n==Et&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,i);else try{t.c?t.g.call(t.f):zt(t,n,i)}catch(e){qt.call(null,e)}B(xt,t)}function zt(e,t,n){t==Mt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}kt.prototype.then=function(e,t,n){return jt(this,p(e)?e:null,p(t)?t:null,n)},kt.prototype.$goog_Thenable=!0,(e=kt.prototype).oa=function(e,t){return(e=Tt(e,e,t)).c=!0,Dt(this,e),this},e.o=function(e,t){return jt(this,null,e,t)},e.cancel=function(e){if(this.a==St){var t=new Ht(e);bt((function(){Rt(this,t)}),this)}},e.$c=function(e){this.a=St,Lt(this,Mt,e)},e.ad=function(e){this.a=St,Lt(this,Et,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=gt;function Ht(e){D.call(this,e)}function Vt(){0!=Wt&&(Kt[v(this)]=this),this.ya=this.ya,this.pa=this.pa}M(Ht,D),Ht.prototype.name="cancel";var Wt=0,Kt={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=v(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}Vt.prototype.ya=!1,Vt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Yt=Object.freeze||function(e){return e},Zt=!Ze||9<=Number(ut),Jt=Ze&&!at("9"),Xt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(e){}return e}();function $t(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Qt(e,t){if($t.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if($e){e:{try{We(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}$t.prototype.preventDefault=function(){this.defaultPrevented=!0},M(Qt,$t);var en=Yt({2:"touch",3:"pen",4:"mouse"});Qt.prototype.preventDefault=function(){Qt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Jt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Qt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.Wa=r,this.key=++nn,this.wa=this.Qa=!1}function on(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function an(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&Z(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==i)return r}return-1}an.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=un(e,t,i,r);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new rn(t,this.src,o,!!i,r)).Qa=n,e.push(t)),t};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(e,t,n,i,r){if(i&&i.once)dn(e,t,n,i,r);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,i,r);else n=kn(n),e&&e[tn]?Mn(e,t,n,m(i)?!!i.capture:!!i,r):fn(e,t,n,!1,i,r)}function fn(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=m(r)?!!r.capture:!!r,s=wn(e);if(s||(e[cn]=s=new an(e)),!(n=s.add(t,n,i,a,o)).proxy){if(i=function(){var e=yn,t=Zt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Xt||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(vn(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}0}}function dn(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,i,r);else n=kn(n),e&&e[tn]?En(e,t,n,m(i)?!!i.capture:!!i,r):fn(e,t,n,!0,i,r)}function pn(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,i,r);else i=m(i)?!!i.capture:!!i,n=kn(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(o=e.a[t],n,i,r))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,i,r)),(n=-1<e?t[e]:null)&&mn(n))}function mn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(vn(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=wn(t))?(sn(n,e),0==n.b&&(n.src=null,t[cn]=null)):on(e)}}}function vn(e){return e in ln?ln[e]:ln[e]="on"+e}function gn(e,t,n,i){var r=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,i),r=r&&!1!==o)}return r}function bn(e,t){var n=e.listener,i=e.Wa||e.src;return e.Qa&&mn(e),n.call(i,t)}function yn(e,t){if(e.wa)return!0;if(!Zt){if(!t)e:{t=["window","event"];for(var n=s,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Qt(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.b;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;0<=r;r--){t.b=i[r];var o=gn(i[r],e,!0,t);n=n&&o}for(r=0;r<i.length;r++)t.b=i[r],o=gn(i[r],e,!1,t),n=n&&o}return n}return bn(e,new Qt(t,this))}function wn(e){return(e=e[cn])instanceof an?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(e){return p(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function Sn(){Vt.call(this),this.v=new an(this),this.bc=this,this.hb=null}function Mn(e,t,n,i,r){e.v.add(String(t),n,!1,i,r)}function En(e,t,n,i,r){e.v.add(String(t),n,!0,i,r)}function Cn(e,t,n,i){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(e.v,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}function xn(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Tn(e){var t=null;return new kt((function(n,i){-1==(t=xn((function(){n(void 0)}),e))&&i(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function In(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var i in t=[],n=0,e)t[n++]=i;return t}}function On(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof On)for(n=e.Y(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Rn(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)Rn(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}M(Sn,Vt),Sn.prototype[tn]=!0,Sn.prototype.addEventListener=function(e,t,n,i){hn(this,e,t,n,i)},Sn.prototype.removeEventListener=function(e,t,n,i){pn(this,e,t,n,i)},Sn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var i=e.type||e;if("string"==typeof e)e=new $t(e,n);else if(e instanceof $t)e.target=e.target||n;else{var r=e;ge(e=new $t(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];r=Cn(a,i,!0,e)&&r}if(r=Cn(a=e.b=n,i,!0,e)&&r,r=Cn(a,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Cn(a=e.b=t[o],i,!1,e)&&r;return r},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)on(n[i]);delete t.a[e],t.b--}}this.hb=null},(e=On.prototype).X=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Nn(this,e.g),this.f=e.f,Bn(this,ri(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Nn(this,n[4]),this.f=Hn(n[5]||"",!0),Bn(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Ln(e,t,n){e.c=n?Hn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Nn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Bn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ti(this,t),ii(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Vn(t,Zn)),e.b=new $n(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function zn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function qn(e,t,n,i){var r=new jn(null,void 0);return e&&Ln(r,e),t&&(r.a=t),n&&Nn(r,n),i&&(r.f=i),r}function Hn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Vn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Vn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?Yn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Vn(n,Jn)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var i=e.f;if(n)Nn(t,e.g);else if(n=!!e.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=t.f.lastIndexOf("/");-1!=r&&(i=t.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ue(r,"./")||ue(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?t.f=i:n=""!==e.b.toString(),n?Bn(t,ri(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,Yn=/[#\?]/g,Zn=/[#\?@]/g,Jn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new On,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ei(e){var t=An(e);if(void 0===t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=In(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];Array.isArray(o)?ii(n,r,o):n.add(r,o)}return n}function ti(e,t){Qn(e),t=oi(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function ni(e,t){return Qn(e),t=oi(e,t),Rn(e.a.b,t)}function ii(e,t,n){ti(e,t),0<n.length&&(e.c=null,e.a.set(oi(e,t),$(n)),e.b+=n.length)}function ri(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new On(e.a),t.b=e.b),t}function oi(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ai(e){var t=[];return ui(new si,e,t),t.join("")}function si(){}function ui(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var i=t;t=i.length,n.push("[");for(var r="",o=0;o<t;o++)n.push(r),ui(e,i[o],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,i)&&("function"!=typeof(o=t[i])&&(n.push(r),hi(i,n),n.push(":"),ui(e,o,n),r=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hi(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=$n.prototype).add=function(e,t){Qn(this),this.c=null,e=oi(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach((function(n,i){V(n,(function(n){e.call(t,n,i,this)}),this)}),this)},e.Y=function(){Qn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.X=function(e){Qn(this);var t=[];if("string"==typeof e)ni(this,e)&&(t=X(t,this.a.get(oi(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,ni(this,e=oi(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.X(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")};var ci={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},li=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hi(e,t){t.push('"',e.replace(li,(function(e){var t=ci[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ci[e]=t),t})),'"')}function fi(){var e=Pi();return Ze&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function di(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pi(e,t){t=t||s.window;var n="about:blank";e&&(n=Pe(Le(e)||Fe)),t.location.href=n}function mi(e,t){var n,i=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?i.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<mi(e[n],t[n]).length&&i.push(n):e[n]!==t[n]&&i.push(n):i.push(n);for(n in t)n in e||i.push(n);return i}function vi(e){return!!((e=(e||Pi()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function gi(e){e=e||s.window;try{e.close()}catch(e){}}function bi(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pi().toLowerCase(),i&&(t.target=i,ue(n,"crios/")&&(t.target="_blank")),Ii(Pi())==xi&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof Oe?n:Le(void 0!==n.href?n.href:String(n))||Fe,n=e.target||n.target,r=[],e)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(e[a]?1:0))}var a=r.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(be(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Ne(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",i,n,a),e=Pe(t),a&&(Xe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">',e=new Ue(e=(i=Me())?i.createHTML(e):e,null,ze),i=a.document)&&(i.write(function(e){return e instanceof Ue&&e.constructor===Ue?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),i.close())):(a=qe(t,i,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wi=/^[^@]+@[^@]+$/;function _i(){var e=null;return new kt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function ki(e){return e=e||Pi(),!("file:"!==Ni()&&"ionic:"!==Ni()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Si(){var e=s.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Mi(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Ei(){return Xn.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xn.INTERNAL.hasOwnProperty("node")?"Node":Mi()?"Worker":"Browser"}function Ci(){var e=Ei();return"ReactNative"===e||"Node"===e}var xi="Firefox",Ti="Chrome";function Ii(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?xi:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ti:"Safari"}var Ai={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Oi(e,t){t=t||[];var n,i=[],r={};for(n in Ai)r[Ai[n]]=!0;for(n=0;n<t.length;n++)void 0!==r[t[n]]&&(delete r[t[n]],i.push(t[n]));return i.sort(),(t=i).length||(t=["FirebaseCore-web"]),"Browser"===(i=Ei())?i=Ii(r=Pi()):"Worker"===i&&(i=Ii(r=Pi())+"-"+i),i+"/JsCore/"+e+"/"+t.join(",")}function Pi(){return s.navigator&&s.navigator.userAgent||""}function Ri(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Di(){try{var e=s.localStorage,t=qi();if(e)return e.setItem(t,"1"),e.removeItem(t),!fi()||!!s.indexedDB}catch(e){return Mi()&&!!s.indexedDB}return!1}function ji(){return(Li()||"chrome-extension:"===Ni()||ki())&&!Ci()&&Di()&&!Mi()}function Li(){return"http:"===Ni()||"https:"===Ni()}function Ni(){return s.location&&s.location.protocol||null}function Bi(e){return!vi(e=e||Pi())&&Ii(e)!=xi}function Fi(e){return void 0===e?null:ai(e)}function Ui(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function zi(e){if(null!==e)return JSON.parse(e)}function qi(e){return e||Math.floor(1e9*Math.random()).toString()}function Hi(e){return"Safari"!=Ii(e=e||Pi())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vi(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Wi(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Pi(),t=Ei(),this.b=vi(e)||"ReactNative"===t}function Ki(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Gi(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Yi(){return!(!Ri("fireauth.oauthhelper",s)&&!Ri("fireauth.iframe",s))}Wi.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!Li()&&"chrome-extension:"!==Ni()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Zi,Ji={};function Xi(e){Ji[e]||(Ji[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var $i={};Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:2}),Zi=2==$i.abcd}catch(Ge){Zi=!1}function Qi(e,t,n){Zi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function er(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qi(e,n,t[n])}function tr(e){var t={};return er(t,e),t}function nr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qi(t,n,nr(e[n]));return t}function ir(e){var t=e&&(e[ur]?"phone":null);if(!(t&&e&&e[sr]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Qi(this,"uid",e[sr]),Qi(this,"displayName",e[or]||null);var n=null;e[ar]&&(n=new Date(e[ar]).toUTCString()),Qi(this,"enrollmentTime",n),Qi(this,"factorId",t)}function rr(e){try{var t=new cr(e)}catch(e){t=null}return t}ir.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var or="displayName",ar="enrolledAt",sr="mfaEnrollmentId",ur="phoneInfo";function cr(e){ir.call(this,e),Qi(this,"phoneNumber",e[ur])}function lr(e){var t={},n=e[pr],i=e[vr],r=e[gr];if(e=rr(e[mr]),!r||r!=fr&&r!=dr&&!n||r==dr&&!i||r==hr&&!e)throw Error("Invalid checkActionCode response!");r==dr?(t[yr]=n||null,t[_r]=n||null,t[br]=i):(t[yr]=i||null,t[_r]=i||null,t[br]=n||null),t[wr]=e||null,Qi(this,Sr,r),Qi(this,kr,nr(t))}M(cr,ir),cr.prototype.w=function(){var e=cr.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var hr="REVERT_SECOND_FACTOR_ADDITION",fr="EMAIL_SIGNIN",dr="VERIFY_AND_CHANGE_EMAIL",pr="email",mr="mfaInfo",vr="newEmail",gr="requestType",br="email",yr="fromEmail",wr="multiFactorInfo",_r="previousEmail",kr="data",Sr="operation";function Mr(e){var t=Un(e=zn(e),Er)||null,n=Un(e,Cr)||null,i=Un(e,Ir)||null;if(i=i&&Or[i]||null,!t||!n||!i)throw new C("argument-error",Er+", "+Cr+"and "+Ir+" are required in a valid action code URL.");er(this,{apiKey:t,operation:i,code:n,continueUrl:Un(e,xr)||null,languageCode:Un(e,Tr)||null,tenantId:Un(e,Ar)||null})}var Er="apiKey",Cr="oobCode",xr="continueUrl",Tr="languageCode",Ir="mode",Ar="tenantId",Or={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hr,signIn:fr,verifyAndChangeEmail:dr,verifyEmail:"VERIFY_EMAIL"};function Pr(e){try{return new Mr(e)}catch(e){return null}}function Rr(e){var t=e[Br];if(void 0===t)throw new C("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new C("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Dr];if(n&&"object"==typeof n){t=n[zr];var i=n[Fr];if(n=n[Ur],"string"==typeof t&&t.length){if(this.a=t,void 0!==i&&"boolean"!=typeof i)throw new C("argument-error",Fr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Ur+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new C("argument-error",zr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Dr+" property must be a non null object when specified.");if(this.f=null,(t=e[Nr])&&"object"==typeof t){if("string"==typeof(t=t[qr])&&t.length)this.f=t;else if(void 0!==t)throw new C("argument-error",qr+" property must be a non empty string when specified.")}else if(void 0!==t)throw new C("argument-error",Nr+" property must be a non null object when specified.");if(void 0!==(t=e[Lr])&&"boolean"!=typeof t)throw new C("argument-error",Lr+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[jr])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new C("argument-error",jr+" property must be a non empty string when specified.");this.i=e||null}var Dr="android",jr="dynamicLinkDomain",Lr="handleCodeInApp",Nr="iOS",Br="url",Fr="installApp",Ur="minimumVersion",zr="packageName",qr="bundleId";function Hr(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vr=null;function Wr(e){var t=[];return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=Vr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vr){Vr={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=e.concat(t[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Vr[o]&&(Vr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Kr(e){var t=Yr(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Gr(e){try{return new Kr(e)}catch(e){return null}}function Yr(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var i=Wr(e);for(e=[],n=t=0;t<i.length;){var r=i[t++];if(128>r)e[n++]=String.fromCharCode(r);else if(191<r&&224>r){var o=i[t++];e[n++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&365>r){o=i[t++];var a=i[t++],s=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&i[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=i[t++],a=i[t++],e[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Kr.prototype.T=function(){return this.f},Kr.prototype.l=function(){return this.c},Kr.prototype.toString=function(){return this.h};var Zr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Jr=["client_id","response_type","scope","redirect_uri","state"],Xr={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Jr},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Jr},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Jr},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Zr},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $r(e){for(var t in Xr)if(Xr[t].fa==e)return Xr[t];return null}function Qr(e){var t={};t["facebook.com"]=ro,t["google.com"]=ao,t["github.com"]=oo,t["twitter.com"]=so;var n=e&&e[to];try{if(n)return t[n]?new t[n](e):new io(e);if(void 0!==e[eo])return new no(e)}catch(e){}return null}var eo="idToken",to="providerId";function no(e){var t=e[to];if(!t&&e[eo]){var n=Gr(e[eo]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qi(this,"providerId",t),Qi(this,"isNewUser",n)}function io(e){no.call(this,e),Qi(this,"profile",nr((e=zi(e.rawUserInfo||"{}"))||{}))}function ro(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",this.profile&&this.profile.login||null)}function ao(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",e.screenName||null)}function uo(e){var t=zn(e),n=Un(t,"link"),i=Un(zn(n),"link");return t=Un(t,"deep_link_id"),Un(zn(t),"link")||t||i||n||e}function co(e,t){if(!e&&!t)throw new C("internal-error","Internal assert: no raw session string available");if(e&&t)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?lo:ho}M(io,no),M(ro,io),M(oo,io),M(ao,io),M(so,io);var lo="enroll",ho="signin";function fo(){}function po(e,t){return e.then((function(e){if(e[ns]){var n=Gr(e[ns]);if(!n||t!=n.i)throw new C("user-mismatch");return e}throw new C("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new C("user-mismatch"):e}))}function mo(e,t){if(!t)throw new C("internal-error","failed to construct a credential");this.a=t,Qi(this,"providerId",e),Qi(this,"signInMethod",e)}function vo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function go(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(e){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qi(this,"idToken",t.idToken),t.accessToken&&Qi(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qi(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Qi(this,"accessToken",t.oauthToken),Qi(this,"secret",t.oauthTokenSecret)}Qi(this,"providerId",e),Qi(this,"signInMethod",n)}function yo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:ei(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function _o(e,t){this.Qc=t||[],er(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=($r(e)||{}).Ja||null,this.pb=null}function ko(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,e,[])}function So(e){_o.call(this,e,Jr),this.a=[]}function Mo(){So.call(this,"facebook.com")}function Eo(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Mo).credential({accessToken:t})}function Co(){So.call(this,"github.com")}function xo(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Co).credential({accessToken:t})}function To(){So.call(this,"google.com"),this.Ca("profile")}function Io(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new To).credential({idToken:n,accessToken:t})}function Ao(){_o.call(this,"twitter.com",Zr)}function Oo(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Po(e,t,n){this.a=e,this.f=t,Qi(this,"providerId","password"),Qi(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ro(e){return e&&e.email&&e.password?new Po(e.email,e.password,e.signInMethod):null}function Do(){er(this,{providerId:"password",isOAuthProvider:!1})}function jo(e,t){if(!(t=Lo(t)))throw new C("argument-error","Invalid email link!");return new Po(e,t.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(e){return(e=Pr(e=uo(e)))&&e.operation===fr?e:null}function No(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new C("internal-error");this.a=e,Qi(this,"providerId","phone"),this.fa="phone",Qi(this,"signInMethod","phone")}function Bo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new No(t)}return null}function Fo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Uo(e){try{this.a=e||Xn.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new C("missing-verification-id");if(!t)throw new C("missing-verification-code");return new No({fb:e,eb:t})}function qo(e){if(e.temporaryProof&&e.phoneNumber)return new No({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret,r=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Io(o,n);case"facebook.com":return Eo(n);case"github.com":return xo(n);case"twitter.com":return Oo(n,i);default:return n||i||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new So(t).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(e){return null}}function Ho(e){if(!e.isOAuthProvider)throw new C("invalid-oauth-provider")}function Vo(e,t,n,i,r,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Wo(e){return(e=e||{}).type?new Vo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&x(e.error),e.postBody,e.tenantId):null}function Ko(){this.b=null,this.a=[]}co.prototype.Ha=function(){return this.a?It(this.a):It(this.b)},co.prototype.w=function(){return this.type==lo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},fo.prototype.ka=function(){},fo.prototype.b=function(){},fo.prototype.c=function(){},fo.prototype.w=function(){},mo.prototype.ka=function(e){return Ms(e,vo(this))},mo.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Es(e,n)},mo.prototype.c=function(e,t){return po(Cs(e,vo(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return Ms(e,yo(this))},bo.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Es(e,n)},bo.prototype.c=function(e,t){return po(Cs(e,yo(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},_o.prototype.Ka=function(e){return this.Jb=me(e),this},M(ko,_o),M(So,_o),So.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},So.prototype.Rb=function(){return $(this.a)},So.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},M(Mo,So),Qi(Mo,"PROVIDER_ID","facebook.com"),Qi(Mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),M(Co,So),Qi(Co,"PROVIDER_ID","github.com"),Qi(Co,"GITHUB_SIGN_IN_METHOD","github.com"),M(To,So),Qi(To,"PROVIDER_ID","google.com"),Qi(To,"GOOGLE_SIGN_IN_METHOD","google.com"),M(Ao,_o),Qi(Ao,"PROVIDER_ID","twitter.com"),Qi(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),Po.prototype.ka=function(e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ds,{email:this.a,oobCode:this.f}):su(e,nu,{email:this.a,password:this.f})},Po.prototype.b=function(e,t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?su(e,js,{idToken:t,email:this.a,oobCode:this.f}):su(e,Ys,{idToken:t,email:this.a,password:this.f})},Po.prototype.c=function(e,t){return po(this.ka(e),t)},Po.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},er(Do,{PROVIDER_ID:"password"}),er(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(e){return e.gb(Fo(this))},No.prototype.b=function(e,t){var n=Fo(this);return n.idToken=t,su(e,ru,n)},No.prototype.c=function(e,t){var n=Fo(this);return n.operation="REAUTH",po(e=su(e,ou,n),t)},No.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Uo.prototype.gb=function(e,t){var n=this.a.a;return It(t.verify()).then((function(i){if("string"!=typeof i)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var r=m(e)?e.session:null,o=m(e)?e.phoneNumber:e;return(r&&r.type==lo?r.Ha().then((function(e){return function(e,t){return su(e,Js,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==ho?r.Ha().then((function(t){return function(e,t){return su(e,Xs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(e,t){return su(e,Ks,t)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},er(Uo,{PROVIDER_ID:"phone"}),er(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Go,Yo=null;function Zo(e){var t="unauthorized-domain",n=void 0,i=zn(e);e=i.a,"chrome-extension"==(i=i.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",C.call(this,t,n)}function Jo(e,t,n){C.call(this,e,n),(e=t||{}).Kb&&Qi(this,"email",e.Kb),e.ea&&Qi(this,"phoneNumber",e.ea),e.credential&&Qi(this,"credential",e.credential),e.$b&&Qi(this,"tenantId",e.$b)}function Xo(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:qo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new C(t,e.message||void 0);return new Jo(t,n,e.message)}return null}function $o(){}function Qo(e){return e.c||(e.c=e.b())}function ea(){}function ta(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.f=i}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function na(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function ra(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function oa(e,t,n){this.reset(e,t,n,void 0,void 0)}M(Zo,C),M(Jo,C),Jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Jo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,M(ea,$o),ea.prototype.a=function(){var e=ta(this);return e?new ActiveXObject(e):new XMLHttpRequest},ea.prototype.b=function(){var e={};return ta(this)&&(e[0]=!0,e[1]=!0),e},Go=new ea,M(na,$o),na.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},na.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ra(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},oa.prototype.a=null;function aa(e){this.f=e,this.b=this.c=this.a=null}function sa(e,t){this.name=e,this.value=t}oa.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,i||S(),delete this.a},sa.prototype.toString=function(){return this.name};var ua=new sa("SEVERE",1e3),ca=new sa("WARNING",900),la=new sa("CONFIG",700),ha=new sa("FINE",500);function fa(e){return e.c?e.c:e.a?fa(e.a):(L("Root logger has no level set."),null)}aa.prototype.log=function(e,t,n){if(e.value>=fa(this).value)for(p(t)&&(t=t()),e=new oa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var da={},pa=null;function ma(e){var t;if(pa||(pa=new aa(""),da[""]=pa,pa.c=la),!(t=da[e])){t=new aa(e);var n=e.lastIndexOf("."),i=e.substr(n+1);(n=ma(e.substr(0,n))).b||(n.b={}),n.b[i]=t,t.a=n,da[e]=t}return t}function va(e,t){e&&e.log(ha,t,void 0)}function ga(e){this.f=e}function ba(e){Sn.call(this),this.u=e,this.h=void 0,this.readyState=ya,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(ga,$o),ga.prototype.a=function(){return new ba(this.f)},ga.prototype.b=function(e){return function(){return e}}({}),M(ba,Sn);var ya=0;function wa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function _a(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ka(e)}function ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Sa(e){Sn.call(this),this.headers=new On,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ma,this.u=this.S=!1}(e=ba.prototype).open=function(e,t){if(this.readyState!=ya)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ka(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ya},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ka(this)),this.a&&(this.readyState=3,ka(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,wa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?_a(this):ka(this),3==this.readyState&&wa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,_a(this))},e.sc=function(e){this.a&&(this.response=e,_a(this))},e.Va=function(e){var t=this.i;t&&t.log(ca,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&_a(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ca,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ca,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),M(Sa,Sn);var Ma="";Sa.prototype.b=ma("goog.net.XhrIo");var Ea=/^https?$/i,Ca=["POST","PUT"];function xa(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Go.a(),e.C=e.D?Qo(e.D):Qo(Go),e.a.onreadystatechange=_(e.Wb,e);try{va(e.b,La(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){return va(e.b,La(e,"Error opening Xhr: "+t.message)),void Ia(e,t)}t=i||"";var o=new On(e.headers);r&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)V(e,t,void 0);else for(var n=An(e),i=In(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Ta,n=e.length,i="string"==typeof e?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),i=s.FormData&&t instanceof s.FormData,!Y(Ca,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ra(e),0<e.g&&(e.u=function(e){return Ze&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),va(e.b,La(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=xn(e.Ma,e.g,e)),va(e.b,La(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){va(e.b,La(e,"Send error: "+t.message)),Ia(e,t)}}function Ta(e){return"content-type"==e.toLowerCase()}function Ia(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Aa(e),Pa(e)}function Aa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Oa(e){if(e.c&&void 0!==a)if(e.C[1]&&4==Da(e)&&2==ja(e))va(e.b,La(e,"Local request error detected and ignored"));else if(e.i&&4==Da(e))xn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Da(e)){va(e.b,La(e,"Request complete")),e.c=!1;try{var t,n=ja(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var r;if(r=0===n){var o=String(e.l).match(Dn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}r=!Ea.test(o?o.toLowerCase():"")}t=r}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Da(e)?e.a.statusText:""}catch(t){va(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+ja(e)+"]",Aa(e)}}finally{Pa(e)}}}function Pa(e,t){if(e.a){Ra(e);var n=e.a,i=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.b)&&e.log(ua,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Ra(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Da(e){return e.a?e.a.readyState:0}function ja(e){try{return 2<Da(e)?e.a.status:-1}catch(e){return-1}}function La(e,t){return t+" ["+e.P+" "+e.l+" "+ja(e)+"]"}function Na(e){var t=Ya;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ba(e,t,n){e.a=!0,e.c=n,e.f=!t,qa(e)}function Fa(e){if(e.a){if(!e.v)throw new Ha(e);e.v=!1}}function Ua(e,t,n,i){e.g.push([t,n,i]),e.a&&qa(e)}function za(e){return G(e.g,(function(e){return p(e[1])}))}function qa(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Ka[t];n&&(s.clearTimeout(n.a),delete Ka[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=n=!1;e.g.length&&!e.i;){var r=e.g.shift(),o=r[0],a=r[1];if(r=r[2],o=e.f?a:o)try{var u=o.call(r||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(i=!0,e.i=!0)}catch(i){t=i,e.f=!0,za(e)||(n=!0)}}e.c=t,i&&(u=_(e.m,e,!0),i=_(e.m,e,!1),t instanceof Na?(Ua(t,u,i),t.C=!0):t.then(u,i)),n&&(t=new Wa(t),Ka[t.a]=t,e.h=t.a)}function Ha(){D.call(this)}function Va(){D.call(this)}function Wa(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=Sa.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",va(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(va(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),Sa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Oa(this):this.Jc())},e.Jc=function(){Oa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ua,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return va(this.b,"Can not get response: "+e.message),null}},Na.prototype.cancel=function(e){if(this.a)this.c instanceof Na&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Va(this),Fa(this),Ba(this,!1,e))}},Na.prototype.m=function(e,t){this.i=!1,Ba(this,e,t)},Na.prototype.then=function(e,t,n){var i,r,o=new kt((function(e,t){i=e,r=t}));return Ua(this,i,(function(e){e instanceof Va?o.cancel():r(e)})),o.then(e,t,n)},Na.prototype.$goog_Thenable=!0,M(Ha,D),Ha.prototype.message="Deferred has already fired",Ha.prototype.name="AlreadyCalledError",M(Va,D),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Ga(e){var t={},n=t.document||document,i=Ce(e).toString(),r=vt(document,"SCRIPT"),o={Xb:r,Ma:void 0},a=new Na(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Za(r,!0);var e=new $a(Xa,"Timeout reached for loading script "+i);Fa(a),Ba(a,!1,e)}),h),o.Ma=u),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Za(r,t.xd||!1,u),Fa(a),Ba(a,!0,null))},r.onerror=function(){Za(r,!0,u);var e=new $a(Ja,"Error while loading script "+i);Fa(a),Ba(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(r,o),function(e,t){be(e,"HTMLScriptElement"),e.src=Ce(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(r,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}function Ya(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Za(e,!0,this.Ma)}}function Za(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ja=0,Xa=1;function $a(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Qa(e){this.f=e}function es(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||is,this.g=me(e.secureTokenHeaders||rs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||os,this.a=me(e.firebaseHeaders||as),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ei(),!(n=s.XMLHttpRequest||n&&Xn.INTERNAL.node&&Xn.INTERNAL.node.XMLHttpRequest)&&!Mi())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Mi()?this.f=new ga(self):Ci()?this.f=new Qa(n):this.f=new na,this.b=null}M($a,D),M(Qa,$o),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var ts,ns="idToken",is=new Wi(3e4,6e4),rs={"Content-Type":"application/x-www-form-urlencoded"},os=new Wi(3e4,6e4),as={"Content-Type":"application/json"};function ss(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function us(e,t){t&&(e.l=cs("https://securetoken.googleapis.com/v1/token",t),e.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=cs("https://identitytoolkit.googleapis.com/v2/",t))}function cs(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Nn(e,t.g),e.toString()}function ls(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function hs(e,t,n,i,r,o,a){(function(){var e=Pi();return!((e=Ii(e)!=Ti?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ze&&ut&&!(9<ut))})()||Mi()?e=_(e.u,e):(ts||(ts=new kt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ds]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ua(e,null,t,void 0)}(Ga(xe(fs,{onload:ds})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=_(e.s,e)),e(t,n,i,r,o,a)}es.prototype.T=function(){return this.b},es.prototype.u=function(e,t,n,i,r,o){if(Mi()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Sa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Mn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return va(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),En(a,"ready",(function(){u&&clearTimeout(u),Gt(this)})),En(a,"timeout",(function(){u&&clearTimeout(u),Gt(this),t&&t(null)})),xa(a,e,n,i,r)};var fs=new ye(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(e,t,n,i,r,o,a){var s=zn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&Fn(s,c,r[c]);return new kt((function(t,n){hs(e,s.toString(),(function(e){e?e.error?n(cu(e,o||{})):t(e):n(new C("network-request-failed"))}),i,u?void 0:ai(Ui(r)),e.a,e.v.get())}))}function ms(e){if("string"!=typeof(e=e.email)||!wi.test(e))throw new C("invalid-email")}function vs(e){"email"in e&&ms(e)}function gs(e){if(!e[ns]){if(e.mfaPendingCredential)throw new C("multi-factor-auth-required",null,me(e));throw new C("internal-error")}}function bs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new C("internal-error")}else{if(!e.sessionInfo)throw new C("missing-verification-id");if(!e.code)throw new C("missing-verification-code")}}es.prototype.s=function(e,t,n,i,r){var o=this;ts.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:i,headers:r,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},es.prototype.Ab=function(){return su(this,Zs,{})},es.prototype.Cb=function(e,t){return su(this,Gs,{idToken:e,email:t})},es.prototype.Db=function(e,t){return su(this,Ys,{idToken:e,password:t})};var ys={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(e){if(!e.phoneVerificationInfo)throw new C("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new C("missing-verification-code")}function _s(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new C("internal-error")}function ks(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(ni(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ss(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xo(e)):e.errorMessage&&(t=uu(e.errorMessage)),t)throw t;gs(e)}function Ms(e,t){return t.returnIdpCredential=!0,su(e,$s,t)}function Es(e,t){return t.returnIdpCredential=!0,su(e,eu,t)}function Cs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,su(e,Qs,t)}function xs(e){if(!e.oobCode)throw new C("invalid-action-code")}(e=es.prototype).Eb=function(e,t){var n={idToken:e},i=[];return de(ys,(function(e,r){var o=t[r];null===o?i.push(e):r in t&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),su(this,Gs,n)},e.wb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),su(this,qs,e)},e.xb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),su(this,Fs,e)},e.vb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),su(this,Us,e)},e.Fb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),su(this,zs,e)},e.gb=function(e){return su(this,iu,e)},e.ob=function(e,t){return su(this,Ws,{oobCode:e,newPassword:t})},e.Sa=function(e){return su(this,Is,{oobCode:e})},e.kb=function(e){return su(this,Ts,{oobCode:e})};var Ts={endpoint:"setAccountInfo",A:xs,Z:"email",B:!0},Is={endpoint:"resetPassword",A:xs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new C("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(e){if(ms(e),!e.password)throw new C("weak-password")},G:gs,V:!0,B:!0},Os={endpoint:"createAuthUri",B:!0},Ps={endpoint:"deleteAccount",O:["idToken"]},Rs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new C("internal-error")}},Ds={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ms,G:gs,V:!0,B:!0},js={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ms,G:gs,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Ns={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Bs={endpoint:"getAccountInfo"},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new C("internal-error");ms(e)},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new C("internal-error");ms(e)},Z:"email",B:!0},Hs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Vs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new C("internal-error")}},Ws={endpoint:"resetPassword",A:xs,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:vs,V:!0},Ys={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(vs(e),!e.password)throw new C("weak-password")},G:gs,V:!0},Zs={endpoint:"signupNewUser",G:gs,V:!0,B:!0},Js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new C("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},$s={endpoint:"verifyAssertion",A:_s,Za:ks,G:Ss,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:_s,Za:ks,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new C("user-not-found");if(e.errorMessage)throw uu(e.errorMessage);gs(e)},V:!0,B:!0},eu={endpoint:"verifyAssertion",A:function(e){if(_s(e),!e.idToken)throw new C("internal-error")},Za:ks,G:Ss,V:!0},tu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new C("invalid-custom-token")},G:gs,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(e){if(ms(e),!e.password)throw new C("wrong-password")},G:gs,V:!0,B:!0},iu={endpoint:"verifyPhoneNumber",A:bs,G:gs,B:!0},ru={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new C("internal-error");bs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xo(e);gs(e)}},ou={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:bs,G:gs,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ns]^!!e.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function su(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(null==i||""===i)return!1}return!0}(n,t.O))return At(new C("internal-error"));var i,r=!!t.Na,o=t.Vb||"POST";return It(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),ps(e,r?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return i=e,t.Za?t.Za(n,i):i})).then(t.G).then((function(){if(!t.Z)return i;if(!(t.Z in i))throw new C("internal-error");return i[t.Z]}))}function uu(e){return cu({error:{errors:[{message:e}],code:400,message:e}})}function cu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new C(i[n]):null)return n;for(var r in n=e.error&&e.error.message||"",ge(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===n.indexOf(r))return new C(i[r],t);return!t&&e&&(t=Fi(e)),new C("internal-error",t)}function lu(e){this.b=e,this.a=null,this.sb=function(e){return(pu||(pu=new kt((function(e,t){function n(){Vi(),Ri("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vi(),t(Error("Network Error"))},timeout:fu.get()})}if(Ri("gapi.iframes.Iframe"))e();else if(Ri("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[i]=function(){Ri("gapi.load")?n():t(Error("Network Error"))},It(Ga(i=xe(hu,{onload:i}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw pu=null,e})))).then((function(){return new kt((function(t,n){Ri("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),du.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var hu=new ye(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),fu=new Wi(3e4,6e4),du=new Wi(5e3,15e3),pu=null;function mu(e,t,n,i){this.l=e,this.h=t,this.i=n,this.g=i,this.f=null,this.g?e=qn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function vu(e,t,n,i,r,o){this.u=e,this.s=t,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function gu(e){try{return Xn.app(e).auth().Ga()}catch(e){return[]}}function bu(e,t,n,i,r,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function yu(e){var t=di();return function(e){return su(e,Hs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),i=n.c;n=n.a;for(var r=0;r<e.length;r++){var o=e[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yi.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Zo(di())}))}function wu(e){return e.m||(e.m=_i().then((function(){if(!e.u){var t=e.c,n=e.i,i=gu(e.b),r=new mu(e.s,e.g,e.b,e.f);r.f=t,r.b=n,r.c=$(i||[]),e.u=r.toString()}e.v=new lu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var i=!1;for(t=Wo(t.authEvent),n=0;n<e.h.length;n++)i=e.h[n](t)||i;return(n={}).status=i?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)}))}(e)}))),e.m}function _u(e){return e.l||(e.C=e.c?Oi(e.c,gu(e.b)):null,e.l=new es(e.g,P(e.i),e.C),e.f&&us(e.l,e.f)),e.l}function ku(e,t,n,i,r,o,a,s,u,c,l,h){return(e=new vu(e,t,n,i,r,h)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function Su(e){if(this.a=e||Xn.INTERNAL.reactNative&&Xn.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Mu(e){this.b=e,this.a={},this.f=_(this.c,this)}mu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):ti(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):ti(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):ti(this.a.b,"fw"),this.a.toString()},vu.prototype.zb=function(e){return this.h=e,this},vu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Xn.app(this.c).auth().la()}catch(e){n=null}for(var i in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Ui((n=this.a).Jb))t[i]=t[i].toString();i=n.Qc,t=me(t);for(var r=0;r<i.length;r++){var o=i[r];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",Fi(t))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Fn(e,"scopes",n.join(","))),this.l?Fn(e,"redirectUrl",this.l):ti(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):ti(e.b,"eventId"),this.i?Fn(e,"v",this.i):ti(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):ti(e.b,"tid"),this.f?Fn(e,"eid",this.f):ti(e.b,"eid"),(a=gu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(e=bu.prototype).Pb=function(e,t,n){var i=new C("popup-closed-by-user"),r=new C("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return wu(e).then((function(){return function(e,t){return e.sb.then((function(){return new kt((function(n){e.a.send(t.type,t,n,Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&gi(e),t(r),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new kt((function(t){return function n(){Tn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Tn(n).then((function(){t(i)}))}))},e.Yb=function(){var e=Pi();return!Bi(e)&&!Hi(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,i,r,o,a,s){if(!e)return At(new C("popup-blocked"));if(a&&!Bi())return this.ma().o((function(t){gi(e),r(t)})),i(),It();this.a||(this.a=yu(_u(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw gi(e),r(t),t}));return i(),t})).then((function(){(Ho(n),a)||pi(ku(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,i){this.a||(this.a=yu(_u(this)));var r=this;return this.a.then((function(){Ho(t),pi(ku(r.s,r.g,r.b,e,t,di(),n,r.c,void 0,r.i,i,r.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e}))},e.ma=function(){var e=this;return wu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new C("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){J(this.h,(function(t){return t==e}))},(e=Su.prototype).get=function(e){return It(this.a.getItem(e)).then((function(e){return e&&zi(e)}))},e.set=function(e,t){return It(this.a.setItem(e,Fi(t)))},e.U=function(e){return It(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Eu,Cu=[];function xu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Tu(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function Au(e,t,n,i){var r,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new kt((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===r&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))})).then((function(t){return Ou(e,c),t})).o((function(t){throw Ou(e,c),t}))}function Ou(e,t){if(t){var n=t.messageChannel,i=t.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),J(e.a,(function(e){return e==t}))}}function Pu(){if(!Lu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Mi()&&self?(this.v=function(){var e=Mi()?self:null;if(V(Cu,(function(n){n.b==e&&(t=n)})),!t){var t=new Mu(e);Cu.push(t)}return t}(),xu(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&V(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),xu(this.v,"ping",(function(){return It(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?It().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):It(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Tu(t)),Au(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Ru(e){return new kt((function(t,n){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(i):function(e){return new kt((function(t,n){var i=e.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){t()},i.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Ru(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Du(e){return e.i||(e.i=Ru(e)),e.i}function ju(e,t){var n=0;return new kt((function i(r,o){Du(e).then(t).then(r).o((function(t){if(!(3<++n))return Du(e).then((function(t){return t.close(),e.i=void 0,i(r,o)})).o((function(e){o(e)}));o(t)}))}))}function Lu(){try{return!!s.indexedDB}catch(e){return!1}}function Nu(e){return e.objectStore("firebaseLocalStorage")}function Bu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Fu(e){return new kt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Uu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Au(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):It()}function zu(e){return Du(e).then((function(e){var t=Nu(Bu(e,!1));return t.getAll?Fu(t.getAll()):new kt((function(e,n){var i=[],r=t.openCursor();r.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},r.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},i=[];if(0==e.b){for(i=0;i<t.length;i++)n[t[i].fbase_key]=t[i].value;i=mi(e.c,n),e.c=n}return i}))}function qu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Hu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=It().then((function(){if(Lu()){var e=qi(),i="__sak"+e;return Eu||(Eu=new Pu),(n=Eu).set(i,e).then((function(){return n.get(i)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(i)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){V(t.a,(function(t){t(e)}))})),e}))}function Vu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==Ei();if(!(e=Ku()||e&&Xn.INTERNAL.node&&Xn.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ei())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Ku()||Xn.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var e=s.localStorage,t=qi();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Gu(){this.type="nullStorage"}function Yu(){if(!function(){var e="Node"==Ei();if(!(e=Zu()||e&&Xn.INTERNAL.node&&Xn.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ei())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Zu()||Xn.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zu(){try{var e=s.sessionStorage,t=qi();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Ju(){var e={};e.Browser=Qu,e.Node=ec,e.ReactNative=tc,e.Worker=nc,this.a=e[Ei()]}Mu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,i=this.a[t];if(i&&0<i.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var r=[];V(i,(function(t){r.push(It().then((function(){return t(e.origin,e.data.data)})))})),Pt(r).then((function(i){var r=[];V(i,(function(e){r.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),V(r,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:r})}))}},Tu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(e=Pu.prototype).set=function(e,t){var n=this,i=!1;return ju(this,(function(t){return Fu((t=Nu(Bu(t,!0))).get(e))})).then((function(r){return ju(n,(function(o){if(o=Nu(Bu(o,!0)),r)return r.value=t,Fu(o.put(r));n.b++,i=!0;var a={};return a.fbase_key=e,a.value=t,Fu(o.add(a))}))})).then((function(){return n.c[e]=t,Uu(n,e)})).oa((function(){i&&n.b--}))},e.get=function(e){return ju(this,(function(t){return Fu(Nu(Bu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return ju(this,(function(i){return n=!0,t.b++,Fu(Nu(Bu(i,!0)).delete(e))})).then((function(){return delete t.c[e],Uu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&V(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}qu(e),t()}(this),this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e})),0==this.a.length&&qu(this)},(e=Hu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e}))},(e=Vu.prototype).get=function(e){return It(this.a[e])},e.set=function(e,t){return this.a[e]=t,It()},e.U=function(e){return delete this.a[e],It()},e.ca=function(){},e.ia=function(){},(e=Wu.prototype).get=function(e){var t=this;return It().then((function(){return zi(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var i=Fi(t);null===i?n.U(e):n.a.setItem(e,i)}))},e.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&hn(s.window,"storage",e)},e.ia=function(e){s.window&&pn(s.window,"storage",e)},(e=Gu.prototype).get=function(){return It(null)},e.set=function(){return It()},e.U=function(){return It()},e.ca=function(){},e.ia=function(){},(e=Yu.prototype).get=function(e){var t=this;return It().then((function(){return zi(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var i=Fi(t);null===i?n.U(e):n.a.setItem(e,i)}))},e.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Xu,$u,Qu={F:Wu,cb:Yu},ec={F:Wu,cb:Yu},tc={F:Su,cb:Gu},nc={F:Wu,cb:Gu},ic={rd:"local",NONE:"none",td:"session"};function rc(){var e=!(Hi(Pi())||!Si()),t=Bi(),n=Di();this.m=e,this.h=t,this.l=n,this.a={},Xu||(Xu=new Ju),e=Xu;try{this.g=!fi()&&Yi()||!s.indexedDB?new e.a.F:new Hu(Mi()?new Vu:new e.a.F)}catch(e){this.g=new Vu,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new Vu}this.v=new Vu,this.f=_(this.Zb,this),this.b={}}function oc(){return $u||($u=new rc),$u}function ac(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function uc(e,t,n){return n=sc(t,n),"local"==t.F&&(e.b[n]=null),ac(e,t.F).U(n)}function cc(e){e.c&&(clearInterval(e.c),e.c=null)}function lc(e){this.a=e,this.b=oc()}(e=rc.prototype).get=function(e,t){return ac(this,e.F).get(sc(e,t))},e.set=function(e,t,n){var i=sc(e,n),r=this,o=ac(this,e.F);return o.set(i,t).then((function(){return o.get(i)})).then((function(t){"local"==e.F&&(r.b[i]=t)}))},e.addListener=function(e,t,n){e=sc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(ac(this,"local").ca(this.f),this.h||(fi()||!Yi())&&s.indexedDB||!this.l||function(e){cc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),i=e.b[t];n!=i&&(e.b[t]=n,n=new Qt({type:"storage",key:t,target:window,oldValue:i,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=sc(e,t),this.a[e]&&(J(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(ac(this,"local").ia(this.f),cc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=s.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=s.localStorage.getItem(t),(i=e.a.newValue)!==n)null!==i?s.localStorage.setItem(t,i):s.localStorage.removeItem(t);else if(this.b[t]===i&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ze&&ut&&10==ut&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&V(this.a[e],(function(e){e()}))};var hc,fc={name:"authEvent",F:"local"};function dc(){this.a=oc()}function pc(e,t){this.b=mc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===hc&&(hc=s.Int32Array?new Int32Array(kc):kc),this.reset()}M(pc,(function(){this.b=-1}));for(var mc=64,vc=mc-1,gc=[],bc=0;bc<vc;bc++)gc[bc]=0;var yc=X(128,gc);function wc(e){for(var t=e.f,n=e.l,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;64>t;t++){r=0|n[t-15],i=0|n[t-2];var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[t-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[t]=o+a|0}i=0|e.a[0],r=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|hc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+r|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function _c(e,t,n){void 0===n&&(n=t.length);var i=0,r=e.c;if("string"==typeof t)for(;i<n;)e.f[r++]=t.charCodeAt(i++),r==e.b&&(wc(e),r=0);else{if(!d(t))throw Error("message must be string or array");for(;i<n;){var o=t[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[r++]=o,r==e.b&&(wc(e),r=0)}}e.c=r,e.g+=n}pc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):$(this.h)};var kc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sc(){pc.call(this,8,Mc)}M(Sc,pc);var Mc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(e,t,n,i,r,o){this.v=e,this.i=t,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=t+":"+n,this.C=new dc,this.g=new lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cc(e){return new C("invalid-cordova-configuration",e)}function xc(e){var t=new Sc;_c(t,e),e=[];var n=8*t.g;56>t.c?_c(t,yc,56-t.c):_c(t,yc,t.b-(t.c-56));for(var i=63;56<=i;i--)t.f[i]=255&n,n/=256;for(wc(t),i=n=0;i<t.i;i++)for(var r=24;0<=r;r-=8)e[n++]=t.a[i]>>r&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Tc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ic(e){return e.f||(e.f=e.ma().then((function(){return new kt((function(t){e.Ea((function n(i){return t(i),e.Ta(n),!1})),function(e){function t(t){i=!0,r&&r.cancel(),Ac(e).then((function(i){var r=n;if(i&&t&&t.url){var o=null;-1!=(r=uo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=zi(Un(o=zn(r),"firebaseError")||null))?x(o):null)?new Vo(i.c,i.b,null,null,o,null,i.T()):new Vo(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}Tc(e,r)}))}var n=new Vo("unknown",null,null,null,new C("no-auth-event")),i=!1,r=Tn(500).then((function(){return Ac(e).then((function(){i||Tc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ri("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Yo||(Yo=new Ko),function(e){var t=Yo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Ri("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ac(e){var t=null;return function(e){return e.b.get(fc,e.a).then((function(e){return Wo(e)}))}(e.g).then((function(n){return t=n,uc((n=e.g).b,fc,n.a)})).then((function(){return t}))}function Oc(e){this.a=e,this.b=oc()}(e=Ec.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(ki(void 0)?_i().then((function(){return new kt((function(e,t){var n=s.document,i=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ri("universalLinks.subscribe",s))throw Cc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ri("BuildInfo.packageName",s))throw Cc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ri("cordova.plugins.browsertab.openUrl",s))throw Cc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ri("cordova.InAppBrowser.open",s))throw Cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},e.Pb=function(e,t){return t(new C("operation-not-supported-in-this-environment")),It()},e.Nb=function(){return At(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,i){if(this.c)return At(new C("redirect-operation-pending"));var r=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=It().then((function(){return Ho(t),Ic(r)})).then((function(){return function(e,t,n,i,r){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Vo(t,i,null,o,new C("no-auth-event"),null,r),u=Ri("BuildInfo.packageName",s);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Ri("BuildInfo.displayName",s),l={};if(Pi().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Pi().toLowerCase().match(/android/))return At(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=xc(o),l.sessionId=o;var h=ku(e.v,e.i,e.l,t,n,null,i,e.m,l,e.u,r,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(fc,a.w(),t)})).then((function(){var t=Ri("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new C("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Ri("cordova.plugins.browsertab.openUrl",s)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ri("cordova.InAppBrowser.open",s)))throw new C("invalid-cordova-configuration");t=Pi(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,e,t,n,i)})).then((function(){return new kt((function(e,t){u=function(){var t=Ri("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(u),c=function(){a||(a=Tn(2e3).then((function(){t(new C("redirect-cancelled-by-user"))})))},l=function(){Ki()&&c()},o.addEventListener("resume",c,!1),Pi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Ac(r).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&r.Ta(u),r.c=null}))},e.Ea=function(e){this.b.push(e),Ic(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Vo("unknown",null,null,null,new C("no-auth-event")),e(t))}))},e.Ta=function(e){J(this.b,(function(t){return t==e}))};var Pc={name:"pendingRedirect",F:"session"};function Rc(e){return uc(e.b,Pc,e.a)}function Dc(e,t,n,i){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Zc,this.C=new el,this.g=new Oc(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,T,this.J)}function jc(e,t,n,i,r){var o=Xn.SDK_VERSION||null;return ki()?new Ec(e,t,n,o,i,r):new bu(e,t,n,o,i,r)}function Lc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Nc(e){e.a.Yb()&&Lc(e).o((function(t){var n=new Vo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)})),e.a.Ub()||Jc(e.b)}function Bc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Pc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Rc(e.g).then((function(){Lc(e).o((function(t){var n=new Vo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)}))})):Nc(e)})).o((function(){Nc(e)}))}function Fc(e,t){J(e.h,(function(e){return e==t}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(e){if(!e)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,i),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Jc(this.b),t};var Uc=new Wi(2e3,1e4),zc=new Wi(3e4,6e4);function qc(e,t,n,i,r,o,a){return e.a.Nb(t,n,i,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),r,o,a)}function Hc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Vc(e,t,n,i,r){var o;return function(e){return e.b.set(Pc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,i,r).o((function(t){if(Hc(t))throw new C("operation-not-supported-in-this-environment");return o=t,Rc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new kt((function(){})):Rc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Wc(e,t,n,i,r){return e.a.Pb(i,(function(e){t.na(n,null,e,r)}),Uc.get())}Dc.prototype.ra=function(){return this.b.ra()};var Kc={};function Gc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Yc(e,t,n,i){var r=Gc(t,n,i);return Kc[r]||(Kc[r]=new Dc(e,t,n,i)),Kc[r]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Xc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function $c(e,t){if(e.b=function(){return It(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,i){t?i?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,i):$c(e,n):$c(e,{user:null}),e.f=[],e.c=[]}function el(){}function tl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function nl(e,t){this.a=t,Qi(this,"verificationId",e)}function il(e,t,n,i){return new Uo(e).gb(t,n).then((function(e){return new nl(e,i)}))}function rl(e){var t=Yr(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:e,expirationTime:Gi(1e3*t.exp),authTime:Gi(1e3*t.auth_time),issuedAtTime:Gi(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function ol(e,t,n){var i=t&&t[sl];if(!i)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new co(null,i),this.b=[];var r=this;V(t[al]||[],(function(e){(e=rr(e))&&r.b.push(e)})),Qi(this,"auth",this.a),Qi(this,"session",this.c),Qi(this,"hints",this.b)}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,i=e.b,r=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?e.a?(Qc(this,!0,null,e.a),It()):t.Fa(n,i)?function(e,t,n){n=n.Fa(t.c,t.b);var i=t.g,r=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(i,r,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):At(new C("invalid-auth-event")):(Qc(this,!1,null,null),It())}else At(new C("invalid-auth-event"))},Zc.prototype.ra=function(){var e=this;return new kt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new C("timeout");e.a&&e.a.cancel(),e.a=Tn(zc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},el.prototype.h=function(e,t){if(e){var n=e.c,i=e.b;e.a?(t.na(e.c,null,e.a,e.b),It()):t.Fa(n,i)?function(e,t){var n=e.b,i=e.c;t.Fa(i,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(i,e,null,n)})).o((function(e){t.na(i,null,e,n)}))}(e,t):At(new C("invalid-auth-event"))}else At(new C("invalid-auth-event"))},nl.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var al="mfaInfo",sl="mfaPendingCredential";function ul(e,t,n,i){C.call(this,"multi-factor-auth-required",i,t),this.b=new ol(e,t,n),Qi(this,"resolver",this.b)}function cl(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ul(t,e.serverResponse,n,e.message)}catch(e){}return null}function ll(){}function hl(e){Qi(this,"factorId",e.fa),this.a=e}function fl(e){if(hl.call(this,e),this.a.fa!=Uo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dl(e,t){for(var n in $t.call(this,e),t)this[n]=t[n]}function pl(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&V(t.multiFactor.enrolledFactors,(function(e){var t=null,i={};if(e){e.uid&&(i[sr]=e.uid),e.displayName&&(i[or]=e.displayName),e.enrollmentTime&&(i[ar]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(i[ur]=e.phoneNumber);try{t=new cr(i)}catch(e){}e=t}else e=null;e&&n.push(e)})),ml(this,n)}function ml(e,t){e.b=t,Qi(e,"enrolledFactors",t)}function vl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gl(e,t){e.stop(),e.b=Tn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Ki()||!e?It():new kt((function(n){t=function(){Ki()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){gl(e,!0)})).o((function(t){e.i(t)&&gl(e,!1)}))}function bl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function yl(e,t){void 0===t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function wl(e,t){e.b=Gr(t[ns]||""),e.a=t.refreshToken,yl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function _l(e,t){return function(e,t){return new kt((function(n,i){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?hs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?i(cu(e)):e.access_token&&e.refresh_token?n(e):i(new C("internal-error")):i(new C("network-request-failed"))}),"POST",ei(t).toString(),e.g,e.m.get()):i(new C("internal-error"))}))}(e.f,t).then((function(t){return e.b=Gr(t.access_token),e.a=t.refresh_token,yl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function kl(e,t){this.a=e||null,this.b=t||null,er(this,{lastSignInTime:Gi(t||null),creationTime:Gi(e||null)})}function Sl(e,t,n,i,r,o){er(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:t})}function Ml(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=Xn.SDK_VERSION?Oi(Xn.SDK_VERSION):null;this.a=new es(this.l,P(T),i),(this.u=e.emulatorConfig||null)&&us(this.a,this.u),this.h=new bl(this.a),Rl(this,t[ns]),wl(this.h,t),Qi(this,"refreshToken",this.h.a),Ll(this,n||{}),Sn.call(this),this.P=!1,this.s&&ji()&&(this.b=Yc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new vl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var r=this;this.za=null,this.Pa=function(e){r.xa(e.h)},this.qa=null,this.Ba=function(e){El(r,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Tl(r,e.f)},this.ja=null,this.S=new pl(this,n),Qi(this,"multiFactor",this.S)}function El(e,t){e.u=t,us(e.a,t),e.b&&(t=e.b,e.b=Yc(e.s,e.l,e.m,e.u),e.P&&(Fc(t,e),Bc(e.b,e)))}function Cl(e,t){e.qa&&pn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&hn(t,"languageCodeChanged",e.Pa)}function xl(e,t){e.$&&pn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&hn(t,"emulatorConfigChanged",e.Ba)}function Tl(e,t){e.aa=t,ls(e.a,Xn.SDK_VERSION?Oi(Xn.SDK_VERSION,e.aa):null)}function Il(e,t){e.ja&&pn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&hn(t,"frameworkChanged",e.Oa)}function Al(e){try{return Xn.app(e.m).auth()}catch(t){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ol(e){e.J||e.D.b||(e.D.start(),pn(e,"tokenChanged",e.ba),hn(e,"tokenChanged",e.ba))}function Pl(e){pn(e,"tokenChanged",e.ba),e.D.stop()}function Rl(e,t){e.Aa=t,Qi(e,"_lat",t)}function Dl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Pt(t).then((function(){return e}))}function jl(e){e.b&&!e.P&&(e.P=!0,Bc(e.b,e))}function Ll(e,t){er(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new kl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Nl(){}function Bl(e){return It().then((function(){if(e.J)throw new C("app-deleted")}))}function Fl(e){return K(e.providerData,(function(e){return e.providerId}))}function Ul(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){J(e.providerData,(function(e){return e.providerId==t}))}function ql(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qi(e,t,n)}function Hl(e,t){e!=t&&(er(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qi(e,"metadata",function(e){return new kl(e.a,e.b)}(t.metadata)):Qi(e,"metadata",new kl),V(t.providerData,(function(t){Ul(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Qi(e,"refreshToken",e.h.a),ml(e.S,t.S.b))}function Vl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return su(e.a,Bs,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||ql(e,"isAnonymous",!1),t}))}))}function Wl(e,t){t[ns]&&e.Aa!=t[ns]&&(wl(e.h,t),e.dispatchEvent(new dl("tokenChanged")),Rl(e,t[ns]),ql(e,"refreshToken",e.h.a))}function Kl(e,t){return Vl(e).then((function(){if(Y(Fl(e),t))return Dl(e).then((function(){throw new C("provider-already-linked")}))}))}function Gl(e,t,n){return tr({user:e,credential:qo(t),additionalUserInfo:t=Qr(t),operationType:n})}function Yl(e,t){return Wl(e,t),e.reload().then((function(){return e}))}function Zl(e,t,n,i,r){if(!ji())return At(new C("operation-not-supported-in-this-environment"));if(e.i&&!r)return At(e.i);var o=$r(n.providerId),a=qi(e.uid+":::"),s=null;(!Bi()||Si())&&e.s&&n.isOAuthProvider&&(s=ku(e.s,e.l,e.m,t,n,null,a,Xn.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=bi(s,o&&o.va,o&&o.ua);return i=i().then((function(){if(Xl(e),!r)return e.I().then((function(){}))})).then((function(){return qc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new kt((function(n,i){e.na(t,null,new C("cancelled-popup-request"),e.g||null),e.f=n,e.C=i,e.g=a,e.c=Wc(e.b,e,t,u,a)}))})).then((function(e){return u&&gi(u),e?tr(e):null})).o((function(e){throw u&&gi(u),e})),$l(e,i,r)}function Jl(e,t,n,i,r){if(!ji())return At(new C("operation-not-supported-in-this-environment"));if(e.i&&!r)return At(e.i);var o=null,a=qi(e.uid+":::");return i=i().then((function(){if(Xl(e),!r)return e.I().then((function(){}))})).then((function(){return e.ga=a,Dl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(th,e.w(),t.a)),t})).then((function(){return Vc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return nh(e.ha);throw o})).then((function(){if(o)throw o})),$l(e,i,r)}function Xl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function $l(e,t,n){var i=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new dl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(i),i.oa((function(){Z(e.N,i)})),i.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),Al(e),_(e.jc,e))),n||t}))}function Ql(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[ns]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var i=e.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new Ml(t,n,e);return e.providerData&&V(e.providerData,(function(e){e&&Ul(r,tr(e))})),e.redirectEventId&&(r.ga=e.redirectEventId),r}function eh(e){this.a=e,this.b=oc()}ol.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=me(t.f);return delete n[al],delete n[sl],ge(n,e),t.g(n)}))},M(ul,C),ll.prototype.tb=function(e,t,n){return t.type==lo?function(e,t,n,i){return n.Ha().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),ge(n,{phoneVerificationInfo:Fo(e.a)}),su(t,Ls,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(e.a)}),su(t,Ns,n)}))}(this,e,t)},M(hl,ll),M(fl,hl),M(dl,$t),(e=pl.prototype).yc=function(e){ml(this,function(e){var t=[];return V(e.mfaInfo||[],(function(e){(e=rr(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new co(e,null)}))},e.fc=function(e,t){var n=this,i=this.a.a;return this.Sb().then((function(n){return e.tb(i,n,t)})).then((function(e){return Wl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,i=this.a.a;return this.a.I().then((function(e){return su(i,au,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var i=W(t.b,(function(e){return e.uid!=n}));return ml(t,i),Wl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},vl.prototype.start=function(){this.a=this.c,gl(this,!0)},vl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},bl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new C("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?_l(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},kl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},M(Ml,Sn),Ml.prototype.xa=function(e){this.za=e,ss(this.a,e)},Ml.prototype.la=function(){return this.za},Ml.prototype.Ga=function(){return $(this.aa)},Ml.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qi(Ml.prototype,"providerId","firebase"),(e=Ml.prototype).reload=function(){var e=this;return $l(this,Bl(this).then((function(){return Vl(e).then((function(){return Dl(e)})).then(Nl)})))},e.oc=function(e){return this.I(e).then((function(e){return new rl(e)}))},e.I=function(e){var t=this;return $l(this,Bl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new C("internal-error");return e.accessToken!=t.Aa&&(Rl(t,e.accessToken),t.dispatchEvent(new dl("tokenChanged"))),ql(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new C("internal-error");Ll(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new Sl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ul(this,t[n]);ql(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new dl("userReloaded",{hd:e}))},e.Lc=function(e){return Xi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return $l(this,e.c(this.a,this.uid).then((function(e){return Wl(t,e),n=Gl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Xi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return $l(this,Kl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Gl(t,e,"link"),Yl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return $l(this,Kl(this,"phone").then((function(){return il(Al(n),e,t,_(n.rb,n))})))},e.Mc=function(e,t){var n=this;return $l(this,It().then((function(){return il(Al(n),e,t,_(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return $l(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Wl(t,e),t.reload()})))},e.ed=function(e){var t=this;return $l(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Wl(t,e),t.reload()})))},e.Db=function(e){var t=this;return $l(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Wl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Bl(this);var t=this;return $l(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Wl(t,e),ql(t,"displayName",e.displayName||null),ql(t,"photoURL",e.photoUrl||null),V(t.providerData,(function(e){"password"===e.providerId&&(Qi(e,"displayName",t.displayName),Qi(e,"photoURL",t.photoURL))})),Dl(t)})).then(Nl))},e.cd=function(e){var t=this;return $l(this,Vl(this).then((function(n){return Y(Fl(t),e)?function(e,t,n){return su(e,Rs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return V(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),V(Fl(t),(function(e){n[e]||zl(t,e)})),n[Uo.PROVIDER_ID]||Qi(t,"phoneNumber",null),Dl(t)})):Dl(t).then((function(){throw new C("no-such-provider")}))})))},e.delete=function(){var e=this;return $l(this,this.I().then((function(t){return su(e.a,Ps,{idToken:t})})).then((function(){e.dispatchEvent(new dl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Cl(e,null),xl(e,null),Il(e,null),e.N=[],e.J=!0,Pl(e),Qi(e,"refreshToken",null),e.b&&Fc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return Zl(this,"linkViaPopup",e,(function(){return Kl(t,e.providerId).then((function(){return Dl(t)}))}),!1)},e.Nc=function(e){return Zl(this,"reauthViaPopup",e,(function(){return It()}),!0)},e.Fc=function(e){var t=this;return Jl(this,"linkViaRedirect",e,(function(){return Kl(t,e.providerId)}),!1)},e.Oc=function(e){return Jl(this,"reauthViaRedirect",e,(function(){return It()}),!0)},e.Lb=function(e,t,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,this.I().then((function(n){return Es(r.a,{requestUri:e,postBody:i,sessionId:t,idToken:n})})).then((function(e){return o=Gl(r,e,"link"),Yl(r,e)})).then((function(){return o})))},e.Mb=function(e,t,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,It().then((function(){return po(Cs(r.a,{requestUri:e,sessionId:t,postBody:i,tenantId:n}),r.uid)})).then((function(e){return o=Gl(r,e,"reauthenticate"),Wl(r,e),r.i=null,r.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return $l(this,this.I().then((function(t){return n=t,void 0===e||pe(e)?{}:Hr(new Rr(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,i=null;return $l(this,this.I().then((function(e){return i=e,void 0===t||pe(t)?{}:Hr(new Rr(t))})).then((function(t){return n.a.Fb(i,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return $l(this,e=po(It(e),n.uid).then((function(e){return t=Gl(n,e,"reauthenticate"),Wl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),V(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.S.w()),e};var th={name:"redirectUser",F:"session"};function nh(e){return uc(e.b,th,e.a)}function ih(e){this.a=e,this.b=oc(),this.c=null,this.f=function(e){var t=ah("local"),n=ah("session"),i=ah("none");return function(e,t,n){var i=sc(t,n),r=ac(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=zi(s.localStorage.getItem(i))}catch(e){}if(a&&!o)return s.localStorage.removeItem(i),e.set(t,a,n);a&&o&&"localStorage"!=r.type&&s.localStorage.removeItem(i)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(r){return r?n:e.b.get(i,e.a).then((function(n){return n?i:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(oh,e.a).then((function(e){return e?ah(e):t}))}))}))})).then((function(t){return e.c=t,rh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ah("local"),this.a,_(this.g,this))}function rh(e,t){var n,i=[];for(n in ic)ic[n]!==t&&i.push(uc(e.b,ah(ic[n]),e.a));return i.push(uc(e.b,oh,e.a)),function(e){return new kt((function(t,n){var i=e.length,r=[];if(i)for(var o=function(e,n){i--,r[e]=n,0==i&&t(r)},a=function(e){n(e)},s=0;s<e.length;s++)Ot(e[s],k(o,s),a);else t(r)}))}(i)}ih.prototype.g=function(){var e=this,t=ah("local");lh(this,(function(){return It().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return rh(e,"local").then((function(){e.c=t}))}))}))};var oh={name:"persistence",F:"session"};function ah(e){return{name:"authUser",F:e}}function sh(e,t){return lh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function uh(e){return lh(e,(function(){return uc(e.b,e.c,e.a)}))}function ch(e,t,n){return lh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ql(e||{})}))}))}function lh(e,t){return e.f=e.f.then(t,t),e.f}function hh(e){if(this.l=!1,Qi(this,"settings",new tl),Qi(this,"app",e),!wh(this).options||!wh(this).options.apiKey)throw new C("invalid-api-key");e=Xn.SDK_VERSION?Oi(Xn.SDK_VERSION):null,this.a=new es(wh(this).options&&wh(this).options.apiKey,P(T),e),this.P=[],this.s=[],this.N=[],this.Pa=Xn.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Xn.INTERNAL.createSubscribe(_(this.Ac,this)),bh(this,null),this.i=new ih(wh(this).options.apiKey+":"+wh(this).name),this.D=new eh(wh(this).options.apiKey+":"+wh(this).name),this.$=Mh(this,function(e){var t=wh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(th,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ql(e||{})}))}(e.D,wh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),nh(e.D)}));return Mh(e,t)}(e).then((function(){return ch(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return sh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:uh(e.i)}))):null})).then((function(t){bh(e,t||null)}));return Mh(e,n)}(this)),this.h=Mh(this,function(e){return e.$.then((function(){return vh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(ah("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=wh(e).options.authDomain,n=wh(e).options.apiKey;t&&ji()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Yc(t,n,wh(e).name,e.R),Bc(e.b,e),_h(e)&&jl(_h(e)),e.m){jl(e.m);var i=e.m;i.xa(e.la()),Cl(i,e),Tl(i=e.m,e.J),Il(i,e),El(i=e.m,e.R),xl(i,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,Sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=zn(this.R.url);e=tr({protocol:e.c,host:e.a,port:e.g,options:tr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function fh(e){$t.call(this,"languageCodeChanged"),this.h=e}function dh(e){$t.call(this,"emulatorConfigChanged"),this.c=e}function ph(e){$t.call(this,"frameworkChanged"),this.f=e}function mh(e){return e.Oa||At(new C("auth-domain-config-required"))}function vh(e){if(!ji())return At(new C("operation-not-supported-in-this-environment"));var t=mh(e).then((function(){return e.b.ra()})).then((function(e){return e?tr(e):null}));return Mh(e,t)}function gh(e,t){var n={};return n.apiKey=wh(e).options.apiKey,n.authDomain=wh(e).options.authDomain,n.appName=wh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,i){var r=new Ml(e,t);return n&&(r.ha=n),i&&Tl(r,i),r.reload().then((function(){return r}))}(n,t,e.D,e.Ga())})).then((function(t){return _h(e)&&t.uid==_h(e).uid?(Hl(_h(e),t),e.da(t)):(bh(e,t),jl(t),e.da(t))})).then((function(){Sh(e)}))}function bh(e,t){_h(e)&&(function(e,t){J(e.W,(function(e){return e==t}))}(_h(e),e.Ba),pn(_h(e),"tokenChanged",e.qa),pn(_h(e),"userDeleted",e.za),pn(_h(e),"userInvalidated",e.Aa),Pl(_h(e))),t&&(t.W.push(e.Ba),hn(t,"tokenChanged",e.qa),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&Ol(t)),Qi(e,"currentUser",t),t&&(t.xa(e.la()),Cl(t,e),Tl(t,e.J),Il(t,e),El(t,e.R),xl(t,e))}function yh(e,t){var n=null,i=null;return Mh(e,t.then((function(t){return n=qo(t),i=Qr(t),gh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),e,_(e.kc,e))),n||t})).then((function(){return tr({user:_h(e),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function wh(e){return e.app}function _h(e){return e.currentUser}function kh(e){return _h(e)&&_h(e)._lat||null}function Sh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](kh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](kh(e))}}function Mh(e,t){return e.P.push(t),t.oa((function(){Z(e.P,t)})),t}function Eh(){}function Ch(){this.a={},this.b=1e12}ih.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");e:{for(i in ic)if(ic[i]==e){var i=!0;break e}i=!1}if(!i||"string"!=typeof e)throw t;switch(Ei()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Lu()&&"none"!==e)throw n;break;default:if(!Di()&&"none"!==e)throw n}}(e),lh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(i){return t=i,rh(n,e)})).then((function(){if(n.c=ah(e),t)return n.b.set(n.c,t,n.a)})):It()}))},M(hh,Sn),M(fh,$t),M(dh,$t),M(ph,$t),(e=hh.prototype).yb=function(e){return Mh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ss(this.a,this.aa),this.dispatchEvent(new fh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&_i().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,us(this.a,this.R),this.dispatchEvent(new dh(this.R))}},e.Gc=function(e){this.J.push(e),ls(this.a,Xn.SDK_VERSION?Oi(Xn.SDK_VERSION,this.J):null),this.dispatchEvent(new ph(this.J))},e.Ga=function(){return $(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:wh(this).options.apiKey,authDomain:wh(this).options.authDomain,appName:wh(this).name,currentUser:_h(this)&&_h(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,i){"signInViaPopup"==e&&this.g==i&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,i){var r=this,o={requestUri:e,postBody:i,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then((function(){return yh(r,Ms(r.a,o))}))},e.Xc=function(e){if(!ji())return At(new C("operation-not-supported-in-this-environment"));var t=this,n=$r(e.providerId),i=qi(),r=null;(!Bi()||Si())&&wh(this).options.authDomain&&e.isOAuthProvider&&(r=ku(wh(this).options.authDomain,wh(this).options.apiKey,wh(this).name,"signInViaPopup",e,null,i,Xn.SDK_VERSION||null,null,null,this.T(),this.R));var o=bi(r,n&&n.va,n&&n.ua);return Mh(this,n=mh(this).then((function(n){return qc(n,o,"signInViaPopup",e,i,!!r,t.T())})).then((function(){return new kt((function(e,n){t.na("signInViaPopup",null,new C("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Wc(t.b,t,"signInViaPopup",o,i)}))})).then((function(e){return o&&gi(o),e?tr(e):null})).o((function(e){throw o&&gi(o),e})))},e.Yc=function(e){if(!ji())return At(new C("operation-not-supported-in-this-environment"));var t=this;return Mh(this,mh(this).then((function(){return function(e){return lh(e,(function(){return e.b.set(oh,e.c.F,e.a)}))}(t.i)})).then((function(){return Vc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return vh(this).then((function(t){return e.b&&Xc(e.b.b),t})).o((function(t){throw e.b&&Xc(e.b.b),t}))},e.dd=function(e){if(!e)return At(new C("null-user"));if(this.S!=e.tenantId)return At(new C("tenant-id-mismatch"));var t=this,n={};n.apiKey=wh(this).options.apiKey,n.authDomain=wh(this).options.authDomain,n.appName=wh(this).name;var i=function(e,t,n,i){var r=e.h,o={};return o[ns]=r.b&&r.b.toString(),o.refreshToken=r.a,t=new Ml(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),i&&Tl(t,i),Hl(t,e),t}(e,n,t.D,t.Ga());return Mh(this,this.h.then((function(){if(wh(t).options.apiKey!=e.l)return i.reload()})).then((function(){return _h(t)&&e.uid==_h(t).uid?(Hl(_h(t),e),t.da(e)):(bh(t,i),jl(i),t.da(i))})).then((function(){Sh(t)})))},e.Bb=function(){var e=this;return Mh(this,this.h.then((function(){return e.b&&Xc(e.b.b),_h(e)?(bh(e,null),uh(e.i).then((function(){Sh(e)}))):It()})))},e.Zc=function(){var e=this;return ch(this.i,wh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=_h(e)&&t){n=_h(e).uid;var i=t.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Hl(_h(e),t),_h(e).I();(_h(e)||t)&&(bh(e,t),t&&(jl(t),t.ha=e.D),e.b&&Bc(e.b,e),Sh(e))}}))},e.da=function(e){return sh(this.i,e)},e.mc=function(){Sh(this),this.da(_h(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return yh(t,It(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(_h(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Mh(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(kh(e)))})))}(this,(function(){e.next(_h(t))}))},e.Ic=function(e,t,n){var i=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(_h(i)):"function"==typeof e.next&&e.next(_h(i))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var i=this;return this.ba&&Promise.resolve().then((function(){i.W=i.getUid(),"function"==typeof e?e(_h(i)):"function"==typeof e.next&&e.next(_h(i))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return Mh(this,this.h.then((function(){return _h(t)?_h(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return yh(t,su(t.a,tu,{token:e}))})).then((function(e){var n=e.user;return ql(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return yh(n,su(n.a,nu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return yh(n,su(n.a,As,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return yh(t,e.ka(t.a))}))},e.Sc=function(e){return Xi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=_h(e);if(t&&t.isAnonymous){var n=tr({providerId:null,isNewUser:!1});return tr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yh(e,e.a.Ab()).then((function(t){var n=t.user;return ql(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return _h(this)&&_h(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&_h(this)&&Ol(_h(this))},e.Pc=function(e){var t=this;V(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&_h(this)&&Pl(_h(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Mh(this,this.h.then((function(){t.l||Y(t.s,e)&&e(kh(t))})))},e.removeAuthTokenListener=function(e){J(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ah("local"),e.a,this.ja),this.b&&(Fc(this.b,this),Xc(this.b.b)),Promise.resolve()},e.hc=function(e){return Mh(this,function(e,t){return su(e,Os,{identifier:t,continueUri:Li()?di():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Lo(e)},e.xb=function(e,t){var n=this;return Mh(this,It().then((function(){var e=new Rr(t);if(!e.c)throw new C("argument-error",Lr+" must be true when sending sign in link to email");return Hr(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Mh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Mh(this,this.a.Sa(e).then((function(e){return new lr(e)})))},e.kb=function(e){return Mh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Mh(this,It().then((function(){return void 0===t||pe(t)?{}:Hr(new Rr(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Mh(this,il(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return Mh(this,It().then((function(){var i=t||di(),r=jo(e,i);if(!(i=Lo(i)))throw new C("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(r)})))},Eh.prototype.render=function(){},Eh.prototype.reset=function(){},Eh.prototype.getResponse=function(){},Eh.prototype.execute=function(){};var xh=null;function Th(e,t){return(t=Ih(t))&&e.a[t]||null}function Ih(e){return(e=void 0===e?1e12:e)?e.toString():null}function Ah(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Oh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ph(){}function Rh(){}Ch.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ah(e,t),this.b++},Ch.prototype.reset=function(e){var t=Th(this,e);e=Ih(e),t&&e&&(t.delete(),delete this.a[e])},Ch.prototype.getResponse=function(e){return(e=Th(this,e))?e.getResponse():null},Ch.prototype.execute=function(e){(e=Th(this,e))&&e.execute()},Ah.prototype.getResponse=function(){return Oh(this),this.b},Ah.prototype.execute=function(){Oh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Ah.prototype.delete=function(){Oh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Qi(Ph,"FACTOR_ID","phone"),Rh.prototype.g=function(){return xh||(xh=new Ch),It(xh)},Rh.prototype.c=function(){};var Dh=null;function jh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lh=new ye(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nh=new Wi(3e4,6e4);jh.prototype.g=function(e){var t=this;return new kt((function(n,i){var r=setTimeout((function(){i(new C("network-request-failed"))}),Nh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(r),n(s.grecaptcha)}else clearTimeout(r),i(new C("internal-error"));delete s[t.a]},It(Ga(xe(Lh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(r),i(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(s.grecaptcha))}))},jh.prototype.c=function(){this.b--};var Bh=null;function Fh(e,t,n,i,r,o,a){if(Qi(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Dh||(Dh=new Rh),a=Dh):(Bh||(Bh=new jh),a=Bh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hh],!s.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new es(e,o||null,r||null),this.u=i||function(){return null};var u=this;this.l=[];var c=this.a[Uh];this.a[Uh]=function(e){if(Vh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Ri(c,s);"function"==typeof t&&t(e)}};var l=this.a[zh];this.a[zh]=function(){if(Vh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Ri(l,s);"function"==typeof e&&e()}}}var Uh="callback",zh="expired-callback",qh="sitekey",Hh="size";function Vh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Wh(e,t){return e.h.push(t),t.oa((function(){Z(e.h,t)})),t}function Kh(e){if(e.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gh(e,t,n){var i=!1;try{this.b=n||Xn.app()}catch(e){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Xn.SDK_VERSION?Oi(Xn.SDK_VERSION,o):null,Fh.call(this,n,e,t,(function(){try{var e=r.b.auth().la()}catch(t){e=null}return e}),o,P(T),i)}function Yh(e,t,n,i){e:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=t.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=t[r].optional&&void 0===n[r],!t[r].M(n[r])&&!o){if(t=t[r],0>r||r>=Zh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Zh[r],i=(i?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}i=null}}if(i)throw new C("argument-error",e+" failed: "+i)}(e=Fh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Wh(this,It().then((function(){if(Li()&&!Mi())return _i();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,su(e.s,Vs,{})})).then((function(t){e.a[qh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Kh(this);var e=this;return Wh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(r,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<i.length&&mt(r,o,i),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Kh(this);var e=this;return Wh(this,this.render().then((function(t){return new kt((function(n){var i=e.g.getResponse(t);if(i)n(i);else{var r=function(t){t&&(function(e,t){J(e.l,(function(e){return e==t}))}(e,r),n(t))};e.l.push(r),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Kh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Kh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},M(Gh,Fh);var Zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Xh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function $h(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function Qh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function ef(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function tf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function nf(e,t){return m(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function rf(e){return m(e)&&"string"==typeof e.uid}function of(e,t,n,i){return{name:n||"",K:e.K+" or "+t.K,optional:!!i,M:function(n){return e.M(n)||t.M(n)}}}function af(e,t){for(var n in t){var i=t[n].name;e[i]=cf(i,e[n],t[n].j)}}function sf(e,t){for(var n in t){var i=t[n].name;i!==n&&Object.defineProperty(e,i,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,i){Yh(e,[n],[i],!0),this[t]=i}),i,n,t[n].lb),enumerable:!0})}}function uf(e,t,n,i){e[t]=cf(t,n,i)}function cf(e,t,n){function i(){var e=Array.prototype.slice.call(arguments);return Yh(o,n,e),t.apply(this,e)}if(!n)return t;var r,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(r in t)i[r]=t[r];for(r in t.prototype)i.prototype[r]=t.prototype[r];return i}af(hh.prototype,{kb:{name:"applyActionCode",j:[Jh("code")]},Sa:{name:"checkActionCode",j:[Jh("code")]},ob:{name:"confirmPasswordReset",j:[Jh("code"),Jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jh("email"),Jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[of($h(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[of($h(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Jh("email"),of($h("opt_actionCodeSettings",!0),ef(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Jh("email"),$h("actionCodeSettings")]},yb:{name:"setPersistence",j:[Jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[tf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[tf()]},Tc:{name:"signInWithCustomToken",j:[Jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jh("email"),Jh("password")]},Vc:{name:"signInWithEmailLink",j:[Jh("email"),Jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[of({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Ml)}},ef(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jh("url"),$h("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jh("code")]}}),sf(hh.prototype,{lc:{name:"languageCode",lb:of(Jh(),ef(),"languageCode")},ti:{name:"tenantId",lb:of(Jh(),ef(),"tenantId")}}),hh.Persistence=ic,hh.Persistence.LOCAL="local",hh.Persistence.SESSION="session",hh.Persistence.NONE="none",af(Ml.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[tf()]},rb:{name:"linkWithCredential",j:[tf()]},Dc:{name:"linkWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[tf()]},ub:{name:"reauthenticateWithCredential",j:[tf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[of($h("opt_actionCodeSettings",!0),ef(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},cd:{name:"unlink",j:[Jh("provider")]},Cb:{name:"updateEmail",j:[Jh("email")]},Db:{name:"updatePassword",j:[Jh("password")]},ed:{name:"updatePhoneNumber",j:[tf("phone")]},Eb:{name:"updateProfile",j:[$h("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Jh("email"),of($h("opt_actionCodeSettings",!0),ef(null,!0),"opt_actionCodeSettings",!0)]}}),af(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sf(tl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Xh("appVerificationDisabledForTesting")}}),af(nl.prototype,{confirm:{name:"confirm",j:[Jh("verificationCode")]}}),uf(fo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[wo,Ro,Bo,go],i=0;i<n.length;i++)if(t=n[i](e))return t;return null}),[of(Jh(),$h(),"json")]),uf(Do,"credential",(function(e,t){return new Po(e,t)}),[Jh("email"),Jh("password")]),af(Po.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),af(Mo.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),uf(Mo,"credential",Eo,[of(Jh(),$h(),"token")]),uf(Do,"credentialWithLink",jo,[Jh("email"),Jh("emailLink")]),af(Co.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),uf(Co,"credential",xo,[of(Jh(),$h(),"token")]),af(To.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),uf(To,"credential",Io,[of(Jh(),of($h(),ef()),"idToken"),of(Jh(),ef(),"accessToken",!0)]),af(Ao.prototype,{Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),uf(Ao,"credential",Oo,[of(Jh(),$h(),"token"),Jh("secret",!0)]),af(So.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},credential:{name:"credential",j:[of(Jh(),of($h(),ef()),"optionsOrIdToken"),of(Jh(),ef(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),af(bo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),af(mo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Uo,"credential",zo,[Jh("verificationId"),Jh("verificationCode")]),af(Uo.prototype,{gb:{name:"verifyPhoneNumber",j:[of(Jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?nf(e.session,lo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?nf(e.session,ho)&&rf(e.multiFactorHint):e.session&&e.multiFactorUid?nf(e.session,ho)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),af(No.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),af(C.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),af(Jo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),af(Zo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),af(ul.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),af(ol.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),af(pl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Jh("displayName",!0)]},bd:{name:"unenroll",j:[of({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rf},Jh(),"multiFactorInfoIdentifier")]}}),af(Gh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),uf(Mr,"parseLink",Pr,[Jh("link")]),uf(Ph,"assertion",(function(e){return new fl(e)}),[tf("phone")]),function(){if(void 0===Xn||!Xn.INTERNAL||!Xn.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hr,VERIFY_AND_CHANGE_EMAIL:dr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hh,AuthCredential:fo,Error:C};uf(e,"EmailAuthProvider",Do,[]),uf(e,"FacebookAuthProvider",Mo,[]),uf(e,"GithubAuthProvider",Co,[]),uf(e,"GoogleAuthProvider",To,[]),uf(e,"TwitterAuthProvider",Ao,[]),uf(e,"OAuthProvider",So,[Jh("providerId")]),uf(e,"SAMLAuthProvider",ko,[Jh("providerId")]),uf(e,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof hh)}}]),uf(e,"RecaptchaVerifier",Gh,[of(Jh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),$h("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Xn.app.App)}}]),uf(e,"ActionCodeURL",Mr,[]),uf(e,"PhoneMultiFactorGenerator",Ph,[]),Xn.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new hh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Xn.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Xn.registerVersion("@firebase/auth","0.16.8"),Xn.INTERNAL.extendNamespace({User:Ml})}()}.apply(void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});o.register("77Jfo",(function(e,t){"use strict";var n=o("6RDd7"),i=o("1TrDb"),r=o("5zxIY"),a=o("6hYqr");function s(e){var t=new r(e),o=i(r.prototype.request,t);return n.extend(o,r.prototype,t),n.extend(o,t),o}var u=s(o("nVkK6"));u.Axios=r,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=o("6EOPV"),u.CancelToken=o("6aEsB"),u.isCancel=o("6eB1R"),u.all=function(e){return Promise.all(e)},u.spread=o("7L8n1"),u.isAxiosError=o("3UF4m"),e.exports=u,e.exports.default=u})),o.register("6RDd7",(function(e,t){"use strict";var n=o("1TrDb"),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,i){u(t[i])&&u(n)?t[i]=e(t[i],n):u(n)?t[i]=e({},n):r(n)?t[i]=n.slice():t[i]=n}for(var i=0,o=arguments.length;i<o;i++)l(arguments[i],n);return t},extend:function(e,t,i){return l(t,(function(t,r){e[r]=i&&"function"==typeof t?n(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}})),o.register("1TrDb",(function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}})),o.register("5zxIY",(function(e,t){"use strict";var n=o("6RDd7"),i=o("2z8O1"),r=o("4w4it"),a=o("2AS5r"),s=o("6hYqr"),u=o("PwX1x"),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new r,response:new r}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!i){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l.concat(o),r=Promise.resolve(e);l.length;)r=r.then(l.shift(),l.shift());return r}for(var h=e;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(e){d(e);break}}try{r=a(h)}catch(e){return Promise.reject(e)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=l})),o.register("2z8O1",(function(e,t){"use strict";var n=o("6RDd7");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}})),o.register("4w4it",(function(e,t){"use strict";var n=o("6RDd7");function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i})),o.register("2AS5r",(function(e,t){"use strict";var n=o("6RDd7"),i=o("9EmR4"),r=o("6eB1R"),a=o("nVkK6");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}})),o.register("9EmR4",(function(e,t){"use strict";var n=o("6RDd7"),i=o("nVkK6");e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(n){e=n.call(o,e,t)})),e}})),o.register("nVkK6",(function(e,t){var n=o("7lbf0"),i=o("6RDd7"),r=o("6pXOn"),a=o("4FrPj"),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(c=o("7rdhw")),c),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),JSON.stringify(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(s)})),e.exports=l})),o.register("7lbf0",(function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}})),o.register("6pXOn",(function(e,t){"use strict";var n=o("6RDd7");e.exports=function(e,t){n.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}})),o.register("4FrPj",(function(e,t){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}})),o.register("7rdhw",(function(e,t){"use strict";var n=o("6RDd7"),i=o("12yYJ"),r=o("7wpGN"),a=o("2z8O1"),s=o("7oHk1"),u=o("RkgUK"),c=o("2vBuo"),l=o("6rU6y");e.exports=function(e){return new Promise((function(t,o){var h=e.data,f=e.headers,d=e.responseType;n.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+v)}var g=s(e.baseURL,e.url);function b(){if(p){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,r={data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,o,r),p=null}}if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(b)},p.onabort=function(){p&&(o(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){o(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),o(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var y=(e.withCredentials||c(g))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}"setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),o(e),p=null)})),h||(h=null),p.send(h)}))}})),o.register("12yYJ",(function(e,t){"use strict";var n=o("6rU6y");e.exports=function(e,t,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}})),o.register("6rU6y",(function(e,t){"use strict";var n=o("4FrPj");e.exports=function(e,t,i,r,o){var a=new Error(e);return n(a,t,i,r,o)}})),o.register("7wpGN",(function(e,t){"use strict";var n=o("6RDd7");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),o.register("7oHk1",(function(e,t){"use strict";var n=o("1gHMv"),i=o("6SL6e");e.exports=function(e,t){return e&&!n(t)?i(e,t):t}})),o.register("1gHMv",(function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}})),o.register("6SL6e",(function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}})),o.register("RkgUK",(function(e,t){"use strict";var n=o("6RDd7"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}})),o.register("2vBuo",(function(e,t){"use strict";var n=o("6RDd7");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=n.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}})),o.register("6eB1R",(function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}})),o.register("6hYqr",(function(e,t){"use strict";var n=o("6RDd7");e.exports=function(e,t){t=t||{};var i={},r=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(i[r]=u(void 0,e[r])):i[r]=u(e[r],t[r])}n.forEach(r,(function(e){n.isUndefined(t[e])||(i[e]=u(void 0,t[e]))})),n.forEach(o,c),n.forEach(a,(function(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(i[r]=u(void 0,e[r])):i[r]=u(void 0,t[r])})),n.forEach(s,(function(n){n in t?i[n]=u(e[n],t[n]):n in e&&(i[n]=u(void 0,e[n]))}));var l=r.concat(o).concat(a).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(h,c),i}})),o.register("PwX1x",(function(e,t){"use strict";var n=o("1CnNs"),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var r={},a=n.version.split(".");function s(e,t){for(var n=t?t.split("."):a,i=e.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}i.transitional=function(e,t,i){var o=t&&s(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return function(n,i,s){if(!1===e)throw new Error(a(i," has been removed in "+t));return o&&!r[i]&&(r[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}})),o.register("1CnNs",(function(e,t){e.exports=JSON.parse('{"_args":[["axios@0.21.2","/home/runner/work/azure-mud/azure-mud"]],"_from":"axios@0.21.2","_id":"axios@0.21.2","_inBundle":false,"_integrity":"sha512-87otirqUw3e8CzHTMO+/9kh/FSgXt/eVDvipijwDtEuwbkySWZ9SBm6VEubmJ/kLKEoLQV/POhxXFb66bfekfg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.2","name":"axios","escapedName":"axios","rawSpec":"0.21.2","saveSpec":null,"fetchSpec":"0.21.2"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.2.tgz","_spec":"0.21.2","_where":"/home/runner/work/azure-mud/azure-mud","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.2"}')})),o.register("6EOPV",(function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n})),o.register("6aEsB",(function(e,t){"use strict";var n=o("6EOPV");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new n(e),t(i.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i})),o.register("7L8n1",(function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}})),o.register("3UF4m",(function(e,t){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}}));var Qn=o("77Jfo").default;let ei,ti;async function ni(e,t){ei=e,ti=t;const n=await hi("connect");var i;console.log(n),t(Ht(n.roomId)),t(Wt(n.users)),n.roomData&&t((i=function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];t[n]={name:i.displayName,id:i.id,shortName:i.shortName,description:i.description,noMediaChat:i.noMediaChat,hasNoteWall:i.hasNoteWall,noteWallData:i.noteWallData,hidden:i.hidden,specialFeatures:i.specialFeatures}})),t}(n.roomData),{type:Bt.UpdatedRoomData,value:i})),n.profile&&t(zt(n.profile)),n.roomNotes&&t(sn(n.roomId,n.roomNotes)),t(Vt(n.presenceData)),async function(e,t){class n extends b.DefaultHttpClient{async send(e){await Xn.auth().currentUser.getIdToken(!1);return e.headers={...e.headers,userid:Xn.auth().currentUser.uid},super.send(e)}}const i=(new It).withUrl(`${fn.SERVER_HOSTNAME}/api`,{httpClient:new n(console)}).configureLogging(y.Debug).build();i.on("playerConnected",(e=>{console.log("Player joined!",e),t((e=>({type:Bt.PlayerConnected,value:e}))(e))})),i.on("playerDisconnected",(e=>{var n;console.log("Player left!",e),t((n=e,{type:Bt.PlayerDisconnected,value:n}))})),i.on("presenceData",(e=>{t(Vt(e))})),i.on("chatMessage",((n,i,r)=>{console.log("Received chat",i,r),console.log(i,r,e),i!==e&&t(((e,t,n)=>({type:Bt.ChatMessage,value:{messageId:e,name:t,message:n}}))(n,i,r))})),i.on("caption",((n,i,r)=>{console.log("Received caption",i,r),console.log(i,r,e),i!==e&&t(((e,t,n)=>({type:Bt.CaptionMessage,value:{messageId:e,name:t,message:n}}))(n,i,r))})),i.on("mods",((e,n)=>{t(((e,t)=>({type:Bt.ModMessage,value:{name:e,message:t}}))(e,n))})),i.on("deleteMessage",((e,n)=>{t(((e,t)=>({type:Bt.DeleteMessage,value:{modId:e,targetMessageId:t}}))(e,n))})),i.on("playerEntered",((n,i,r)=>{n!==e&&t(((e,t,n)=>({type:Bt.PlayerEntered,value:{name:e,fromId:t,fromName:n}}))(n,i,r))})),i.on("myProfile",(e=>{t(zt(e))})),i.on("serverSettings",(e=>{t(qt(e))})),i.on("whisper",((e,n)=>{t(((e,t)=>({type:Bt.Whisper,value:{name:e,message:t}}))(e,n))})),i.on("privateCommand",(e=>{t(un(e))})),i.on("privateItemPickup",(e=>{t(un(e))})),i.on("playerLeft",((n,i,r)=>{n!==e&&t(((e,t,n)=>({type:Bt.PlayerLeft,value:{name:e,toId:t,toName:n}}))(n,i,r))})),i.on("usernameMap",(e=>{console.log("Received map",e),t(Wt(e))})),i.on("playerBanned",(e=>{t(Kt(e))})),i.on("playerUnbanned",(e=>{t((e=>({type:Bt.PlayerUnbanned,value:e}))(e))})),i.on("clientDeployed",(()=>{t(tn(ln.ClientDeployed))})),i.on("shout",((e,n,i)=>{t(((e,t,n)=>({type:Bt.Shout,value:{messageId:e,name:t,message:n}}))(e,n,i))})),i.on("emote",((e,n,i)=>{t(((e,t,n)=>({type:Bt.Emote,value:{messageId:e,name:t,message:n}}))(e,n,i))})),i.on("dance",((e,n,i)=>{t(((e,t,n)=>({type:Bt.Dance,value:{messageId:e,name:t,message:n}}))(e,n,i))})),i.on("noteAdded",((e,n,i,r)=>{t(((e,t)=>({type:Bt.NoteAdd,value:{roomId:e,note:t}}))(e,{id:n,message:i,authorId:r}))})),i.on("noteRemoved",((e,n)=>{t(((e,t)=>({type:Bt.NoteRemove,value:{roomId:e,noteId:t}}))(e,n))})),i.on("noteLikesUpdated",((e,n,i)=>{t(((e,t,n)=>({type:Bt.NoteUpdateLikes,value:{roomId:e,noteId:t,likes:n}}))(e,n,i))})),i.on("spaceOpenedOrClosed",(e=>{var n;t((n=e,{type:Bt.SpaceOpenedOrClosed,value:n}))})),i.onclose((()=>{console.log("disconnected"),hi("disconnect")})),i.on("ping",(()=>{console.log("Received heartbeat ping"),hi("pong")})),window.addEventListener("beforeunload",(e=>{hi("disconnect")})),console.log("connecting..."),await i.start().then((()=>{console.log("Connected!")})).catch(console.error)}(e,t)}async function ii(e){const t=await async function(e){try{const t=await Xn.auth().currentUser.getIdToken(!1),n=await Qn.get(`${fn.SERVER_HOSTNAME}/api/${e}`,{withCredentials:!0,headers:{Authorization:`Bearer ${t}`}});return console.log(n),n.data}catch(e){return void console.log("Error",e)}}("serverSettings");e(qt(t))}async function ri(e){await hi("serverSettings",e)&&ti(nn())}async function oi(e){await hi("pickUpItem",{item:e})}async function ai(e){await hi("displayMessage",{list:e})}async function si(e){await hi("deleteRoomNote",{noteId:e})}async function ui(e){const t=await hi("moveRoom",{to:e});console.log(t),t.error?ti(Xt(t.error)):(ti(Ht(t.roomId)),t.roomNotes&&ti(sn(t.roomId,t.roomNotes)))}async function ci(e,t){if(t.length>cn)return void console.log("Sorry, can't send messages over 631 characters!");const n=await hi("sendChatMessage",{id:e,text:t});console.log(n),n&&n.roomId?ti(Ht(n.roomId)):n&&n.user?ti(en(n.user)):n&&n.error&&ti(Xt(n.error))}async function li(e){const t=await hi("fetchProfile",{userId:e});t.error?console.log("Could not fetch profile",t.erroc):ti(en(t.user))}async function hi(e,t){try{const n=await Xn.auth().currentUser.getIdToken(!1),i=await Qn.post(`${fn.SERVER_HOSTNAME}/api/${e}`,t,{withCredentials:!0,headers:{Authorization:`Bearer ${n}`}});return console.log(i),i.data}catch(e){return void console.log("Error",e)}}var fi;a=o("6Ti1v"),a=o("6Ti1v");o.register("3YQAp",(function(e,t){"use strict";var n=o("F0GiY");function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,i,r,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return o.PropTypes=o,o}})),o.register("F0GiY",(function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),fi=o("3YQAp")();var di={};!function(){var e={}.hasOwnProperty;function t(){for(var n=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)n.push(r);else if(Array.isArray(r)&&r.length){var a=t.apply(null,r);a&&n.push(a)}else if("object"===o)for(var s in r)e.call(r,s)&&r[s]&&n.push(s)}}return n.join(" ")}di?(t.default=t,di=t):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return t})):window.classNames=t}();var pi=o("1zGN4");pi=o("1zGN4");function mi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e&&e.apply(void 0,n)}function vi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var gi="react-contextmenu",bi="react-contextmenu--visible",yi="react-contextmenu-wrapper",wi="react-contextmenu-item",_i="react-contextmenu-item--active",ki="react-contextmenu-item--disabled",Si="react-contextmenu-item--divider",Mi="react-contextmenu-item--selected",Ei="react-contextmenu-submenu",Ci={},xi=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),Ti="REACT_CONTEXTMENU_SHOW",Ii="REACT_CONTEXTMENU_HIDE";function Ai(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(t,{detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!0,n),i&&(i.dispatchEvent(r),e(pi)(Ci,n))}function Oi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];Ai(Ti,e(pi)({},t,{type:Ti}),n)}function Pi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];Ai(Ii,e(pi)({},t,{type:Ii}),n)}var Ri=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)vi(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)vi(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var i=Math.random().toString(36).substring(7);return t.callbacks[i]={show:e,hide:n},i},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},xi&&(window.addEventListener(Ti,this.handleShowEvent),window.addEventListener(Ii,this.handleHideEvent))},Di=(a=o("6Ti1v"),a=o("6Ti1v"),pi=o("1zGN4"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),ji=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Fi=function(t){function n(){var t,i,r;Ni(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=r=Bi(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),r.handleClick=function(t){0!==t.button&&1!==t.button&&t.preventDefault(),r.props.disabled||r.props.divider||(mi(r.props.onClick,t,e(pi)({},r.props.data,Ci.data),Ci.target),r.props.preventClose||Pi())},Bi(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),ji(n,[{key:"render",value:function(){var t,n=this,i=this.props,r=i.attributes,o=i.children,s=i.className,u=i.disabled,c=i.divider,l=i.selected,h=e(di)(s,wi,r.className,(Li(t={},e(di)(ki,r.disabledClassName),u),Li(t,e(di)(Si,r.dividerClassName),c),Li(t,e(di)(Mi,r.selectedClassName),l),t));return e(a).createElement("div",Di({},r,{className:h,role:"menuitem",tabIndex:"-1","aria-disabled":u?"true":"false","aria-orientation":c?"horizontal":null,ref:function(e){n.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),c?null:o)}}]),n}(a.Component);Fi.propTypes={attributes:e(fi).object,children:e(fi).node,className:e(fi).string,data:e(fi).object,disabled:e(fi).bool,divider:e(fi).bool,onClick:e(fi).func,onMouseLeave:e(fi).func,onMouseMove:e(fi).func,preventClose:e(fi).bool,selected:e(fi).bool},Fi.defaultProps={attributes:{},children:null,className:"",data:{},disabled:!1,divider:!1,onClick:function(){return null},onMouseMove:function(){return null},onMouseLeave:function(){return null},preventClose:!1,selected:!1};var Ui=Fi;var zi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return qi.call(n),n.seletedItemRef=null,n.state={selectedItem:null,forceSubMenuOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.Component);zi.propTypes={children:e(fi).node.isRequired};var qi=function(){var t=this;this.handleKeyNavigation=function(e){if(!1!==t.state.isVisible)switch(e.keyCode){case 37:case 27:e.preventDefault(),t.hideMenu(e);break;case 38:e.preventDefault(),t.selectChildren(!0);break;case 40:e.preventDefault(),t.selectChildren(!1);break;case 39:t.tryToOpenSubMenu(e);break;case 13:e.preventDefault(),t.tryToOpenSubMenu(e);var n=t.seletedItemRef&&t.seletedItemRef.props&&t.seletedItemRef.props.disabled;t.seletedItemRef&&t.seletedItemRef.ref instanceof HTMLElement&&!n?t.seletedItemRef.ref.click():t.hideMenu(e)}},this.handleForceClose=function(){t.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(e){t.state.selectedItem&&t.state.selectedItem.type===t.getSubMenuType()&&(e.preventDefault(),t.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(n){var i=t.state.selectedItem,r=[],o=0,s={};if(e(a).Children.forEach(t.props.children,(function n(i,u){i&&([Ui,t.getSubMenuType()].indexOf(i.type)<0?e(a).Children.forEach(i.props.children,n):i.props.divider||(i.props.disabled&&(++o,s[u]=!0),r.push(i)))})),o!==r.length){var u=function(e){var t=e;do{n?--t:++t,t<0?t=r.length-1:t>=r.length&&(t=0)}while(t!==e&&s[t]);return t===e?null:t}(r.indexOf(i));null!==u&&t.setState({selectedItem:r[u],forceSubMenuOpen:!1})}},this.onChildMouseMove=function(e){t.state.selectedItem!==e&&t.setState({selectedItem:e,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){t.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(n){return e(a).Children.map(n,(function(n){var i={};return e(a).isValidElement(n)?[Ui,t.getSubMenuType()].indexOf(n.type)<0?(i.children=t.renderChildren(n.props.children),e(a).cloneElement(n,i)):(i.onMouseLeave=t.onChildMouseLeave.bind(t),n.type===t.getSubMenuType()&&(i.forceOpen=t.state.forceSubMenuOpen&&t.state.selectedItem===n,i.forceClose=t.handleForceClose,i.parentKeyNavigationHandler=t.handleKeyNavigation),n.props.divider||t.state.selectedItem!==n?(i.onMouseMove=function(){return t.onChildMouseMove(n)},e(a).cloneElement(n,i)):(i.selected=!0,i.ref=function(e){t.seletedItemRef=e},e(a).cloneElement(n,i))):n}))}},Hi=zi,Vi=(a=o("6Ti1v"),pi=o("1zGN4"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),Wi=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.getMenuPosition=function(){var e=window,t=e.innerWidth,n=e.innerHeight,r=i.subMenu.getBoundingClientRect(),o={};return r.bottom>n?o.bottom=0:o.top=0,r.right<t?o.left="100%":o.right="100%",o},i.getRTLMenuPosition=function(){var e=window.innerHeight,t=i.subMenu.getBoundingClientRect(),n={};return t.bottom>e?n.bottom=0:n.top=0,t.left<0?n.left="100%":n.right="100%",n},i.hideSubMenu=function(e){e.detail&&e.detail.id&&i.menu&&e.detail.id!==i.menu.id||(i.props.forceOpen&&i.props.forceClose(),i.setState({visible:!1,selectedItem:null}),i.unregisterHandlers())},i.handleClick=function(t){t.preventDefault(),i.props.disabled||(mi(i.props.onClick,t,e(pi)({},i.props.data,Ci.data),Ci.target),i.props.onClick&&!i.props.preventCloseOnClick&&Pi())},i.handleMouseEnter=function(){i.closetimer&&clearTimeout(i.closetimer),i.props.disabled||i.state.visible||(i.opentimer=setTimeout((function(){return i.setState({visible:!0,selectedItem:null})}),i.props.hoverDelay))},i.handleMouseLeave=function(){i.opentimer&&clearTimeout(i.opentimer),i.state.visible&&(i.closetimer=setTimeout((function(){return i.setState({visible:!1,selectedItem:null})}),i.props.hoverDelay))},i.menuRef=function(e){i.menu=e},i.subMenuRef=function(e){i.subMenu=e},i.registerHandlers=function(){document.removeEventListener("keydown",i.props.parentKeyNavigationHandler),document.addEventListener("keydown",i.handleKeyNavigation)},i.unregisterHandlers=function(e){document.removeEventListener("keydown",i.handleKeyNavigation),e||document.addEventListener("keydown",i.props.parentKeyNavigationHandler)},i.state=e(pi)({},i.state,{visible:!1}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Wi(n,[{key:"componentDidMount",value:function(){this.listenId=Ri.register((function(){}),this.hideSubMenu)}},{key:"getSubMenuType",value:function(){return n}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isVisibilityChange)if(this.props.forceOpen||this.state.visible){(window.requestAnimationFrame||setTimeout)((function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),vi(t,"top")&&(e.subMenu.style.top=t.top),vi(t,"left")&&(e.subMenu.style.left=t.left),vi(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),vi(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(bi),e.registerHandlers(),e.setState({selectedItem:null})}))}else{this.subMenu.addEventListener("transitionend",(function t(){e.subMenu.removeEventListener("transitionend",t),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("right"),e.subMenu.style.top=0,e.subMenu.style.left="100%",e.unregisterHandlers()})),this.subMenu.classList.remove(bi)}}},{key:"componentWillUnmount",value:function(){this.listenId&&Ri.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers(!0)}},{key:"render",value:function(){var t,n=this.props,i=n.children,r=n.attributes,o=n.disabled,s=n.title,u=n.selected,c=this.state.visible,l={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:e(di)(wi,Ei,r.listClassName),style:{position:"relative"}},h={className:e(di)(wi,r.className,(t={},Ki(t,e(di)(ki,r.disabledClassName),o),Ki(t,e(di)(_i,r.visibleClassName),c),Ki(t,e(di)(Mi,r.selectedClassName),u),t)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},f={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:e(di)(gi,this.props.className)};return e(a).createElement("nav",Vi({},l,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),e(a).createElement("div",Vi({},r,h),s),e(a).createElement("nav",Vi({},f,{role:"menu",tabIndex:"-1"}),this.renderChildren(i)))}}]),n}(Hi);Gi.propTypes={children:e(fi).node.isRequired,attributes:e(fi).object,title:e(fi).node.isRequired,className:e(fi).string,disabled:e(fi).bool,hoverDelay:e(fi).number,rtl:e(fi).bool,selected:e(fi).bool,onMouseMove:e(fi).func,onMouseOut:e(fi).func,forceOpen:e(fi).bool,forceClose:e(fi).func,parentKeyNavigationHandler:e(fi).func},Gi.defaultProps={disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var Yi=Gi,Zi=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Ji=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.registerHandlers=function(){document.addEventListener("mousedown",i.handleOutsideClick),document.addEventListener("touchstart",i.handleOutsideClick),i.props.preventHideOnScroll||document.addEventListener("scroll",i.handleHide),i.props.preventHideOnContextMenu||document.addEventListener("contextmenu",i.handleHide),document.addEventListener("keydown",i.handleKeyNavigation),i.props.preventHideOnResize||window.addEventListener("resize",i.handleHide)},i.unregisterHandlers=function(){document.removeEventListener("mousedown",i.handleOutsideClick),document.removeEventListener("touchstart",i.handleOutsideClick),document.removeEventListener("scroll",i.handleHide),document.removeEventListener("contextmenu",i.handleHide),document.removeEventListener("keydown",i.handleKeyNavigation),window.removeEventListener("resize",i.handleHide)},i.handleShow=function(e){if(e.detail.id===i.props.id&&!i.state.isVisible){var t=e.detail.position,n=t.x,r=t.y;i.setState({isVisible:!0,x:n,y:r}),i.registerHandlers(),mi(i.props.onShow,e)}},i.handleHide=function(e){!i.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==i.props.id||(i.unregisterHandlers(),i.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),mi(i.props.onHide,e))},i.handleOutsideClick=function(e){i.menu.contains(e.target)||Pi()},i.handleMouseLeave=function(t){t.preventDefault(),mi(i.props.onMouseLeave,t,e(pi)({},i.props.data,Ci.data),Ci.target),i.props.hideOnLeave&&Pi()},i.handleContextMenu=function(e){e.preventDefault(),i.handleHide(e)},i.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||Pi()},i.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={top:t,left:e};if(!i.menu)return n;var r=window,o=r.innerWidth,a=r.innerHeight,s=i.menu.getBoundingClientRect();return t+s.height>a&&(n.top-=s.height),e+s.width>o&&(n.left-=s.width),n.top<0&&(n.top=s.height<a?(a-s.height)/2:0),n.left<0&&(n.left=s.width<o?(o-s.width)/2:0),n},i.getRTLMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={top:t,left:e};if(!i.menu)return n;var r=window,o=r.innerWidth,a=r.innerHeight,s=i.menu.getBoundingClientRect();return n.left=e-s.width,t+s.height>a&&(n.top-=s.height),n.left<0&&(n.left+=s.width),n.top<0&&(n.top=s.height<a?(a-s.height)/2:0),n.left+s.width>o&&(n.left=s.width<o?(o-s.width)/2:0),n},i.menuRef=function(e){i.menu=e},i.state=e(pi)({},i.state,{x:0,y:0,isVisible:!1}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Zi(n,[{key:"getSubMenuType",value:function(){return Yi}},{key:"componentDidMount",value:function(){this.listenId=Ri.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this,t=window.requestAnimationFrame||setTimeout;this.state.isVisible?t((function(){var n=e.state,i=n.x,r=n.y,o=e.props.rtl?e.getRTLMenuPosition(i,r):e.getMenuPosition(i,r),a=o.top,s=o.left;t((function(){e.menu&&(e.menu.style.top=a+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")}))})):t((function(){e.menu&&(e.menu.style.opacity=0,e.menu.style.pointerEvents="none")}))}},{key:"componentWillUnmount",value:function(){this.listenId&&Ri.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var t,n,i,r=this.props,o=r.children,s=r.className,u=r.style,c=this.state.isVisible,l=e(pi)({},u,{position:"fixed",opacity:0,pointerEvents:"none"}),h=e(di)(gi,s,(i=c,(n=bi)in(t={})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return e(a).createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:l,className:h,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(o))}}]),n}(Hi);Ji.propTypes={id:e(fi).string.isRequired,children:e(fi).node.isRequired,data:e(fi).object,className:e(fi).string,hideOnLeave:e(fi).bool,rtl:e(fi).bool,onHide:e(fi).func,onMouseLeave:e(fi).func,onShow:e(fi).func,preventHideOnContextMenu:e(fi).bool,preventHideOnResize:e(fi).bool,preventHideOnScroll:e(fi).bool,style:e(fi).object},Ji.defaultProps={className:"",data:{},hideOnLeave:!1,rtl:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},preventHideOnContextMenu:!1,preventHideOnResize:!1,preventHideOnScroll:!1,style:{}};var Xi=Ji,$i=(a=o("6Ti1v"),pi=o("1zGN4"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var tr=function(t){function n(){var t,i,r;Qi(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=r=er(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),r.touchHandled=!1,r.handleMouseDown=function(e){r.props.holdToDisplay>=0&&0===e.button&&(e.persist(),e.stopPropagation(),r.mouseDownTimeoutId=setTimeout((function(){return r.handleContextClick(e)}),r.props.holdToDisplay)),mi(r.props.attributes.onMouseDown,e)},r.handleMouseUp=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),mi(r.props.attributes.onMouseUp,e)},r.handleMouseOut=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),mi(r.props.attributes.onMouseOut,e)},r.handleTouchstart=function(e){r.touchHandled=!1,r.props.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),r.touchstartTimeoutId=setTimeout((function(){r.handleContextClick(e),r.touchHandled=!0}),r.props.holdToDisplay)),mi(r.props.attributes.onTouchStart,e)},r.handleTouchEnd=function(e){r.touchHandled&&e.preventDefault(),clearTimeout(r.touchstartTimeoutId),mi(r.props.attributes.onTouchEnd,e)},r.handleContextMenu=function(e){e.button===r.props.mouseButton&&r.handleContextClick(e),mi(r.props.attributes.onContextMenu,e)},r.handleMouseClick=function(e){e.button===r.props.mouseButton&&r.handleContextClick(e),mi(r.props.attributes.onClick,e)},r.handleContextClick=function(t){if(!(r.props.disable||r.props.disableIfShiftIsPressed&&t.shiftKey)){t.preventDefault(),t.stopPropagation();var n=t.clientX||t.touches&&t.touches[0].pageX,i=t.clientY||t.touches&&t.touches[0].pageY;r.props.posX&&(n-=r.props.posX),r.props.posY&&(i-=r.props.posY),Pi();var o=mi(r.props.collect,r.props),a={position:{x:n,y:i},target:r.elem,id:r.props.id};o&&"function"==typeof o.then?o.then((function(n){a.data=e(pi)({},n,{target:t.target}),Oi(a)})):(a.data=e(pi)({},o,{target:t.target}),Oi(a))}},r.elemRef=function(e){r.elem=e},er(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),$i(n,[{key:"render",value:function(){var t=this.props,n=t.renderTag,i=t.attributes,r=t.children,o=e(pi)({},i,{className:e(di)(yi,i.className),onContextMenu:this.handleContextMenu,onClick:this.handleMouseClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return e(a).createElement(n,o,r)}}]),n}(a.Component);tr.propTypes={id:e(fi).string.isRequired,children:e(fi).node.isRequired,attributes:e(fi).object,collect:e(fi).func,disable:e(fi).bool,holdToDisplay:e(fi).number,posX:e(fi).number,posY:e(fi).number,renderTag:e(fi).elementType,mouseButton:e(fi).number,disableIfShiftIsPressed:e(fi).bool},tr.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div",posX:0,posY:0,mouseButton:2,disableIfShiftIsPressed:!1};var nr=tr;a=o("6Ti1v"),Object.assign,function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}}();[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(nr.propTypes)),["children"]);a=o("6Ti1v");var ir="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),rr=new Uint8Array(16);function or(){if(!ir)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ir(rr)}for(var ar=[],sr=0;sr<256;++sr)ar[sr]=(sr+256).toString(16).substr(1);var ur=function(e,t){var n=t||0,i=ar;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")};var cr=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||or)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[i+o]=r[o];return t||ur(r)};function lr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),e}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function br(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var yr={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},wr=function(e,t){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)};var _r=function(e,t){var n=this.state.show,i=this.props.id,r=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");r||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),kr(t.currentTarget,this.getTargetArray(i)),this.showTooltip(t))},kr=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},Sr={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:fr({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var Mr=function(e,t,n){var i=t.respectEffect,r=void 0!==i&&i,o=t.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||a){var h=null==s&&null==c||c===s;if(null!=u&&(!r||"float"===this.getEffect(l))&&h){var f=function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);f.currentTarget=l,e(f)}}},Er=function(e,t){var n={};return e.forEach((function(e){var i=e.getAttribute(t);i&&i.split(" ").forEach((function(e){return n[e]=!0}))})),n},Cr=function(){return document.getElementsByTagName("body")[0]};function xr(e,t,n,i,r,o,a){for(var s=Tr(n),u=s.width,c=s.height,l=Tr(t),h=l.width,f=l.height,d=Ir(e,t,o),p=d.mouseX,m=d.mouseY,v=Ar(o,h,f,u,c),g=Or(a),b=g.extraOffsetX,y=g.extraOffsetY,w=window.innerWidth,_=window.innerHeight,k=Pr(n),S=k.parentTop,M=k.parentLeft,E=function(e){var t=v[e].l;return p+t+b},C=function(e){var t=v[e].t;return m+t+y},x=function(e){return t=v[e].r,p+t+b>w;var t},T=function(e){return t=v[e].b,m+t+y>_;var t},I=function(e){return function(e){return E(e)<0}(e)||x(e)||function(e){return C(e)<0}(e)||T(e)},A=function(e){return!I(e)},O=["top","bottom","left","right"],P=[],R=0;R<4;R++){var D=O[R];A(D)&&P.push(D)}var j,L=!1,N=r!==i;return A(r)&&N?(L=!0,j=r):P.length>0&&I(r)&&I(i)&&(L=!0,j=P[0]),L?{isNewState:!0,newState:{place:j}}:{isNewState:!1,position:{left:parseInt(E(i)-M,10),top:parseInt(C(i)-S,10)}}}var Tr=function(e){var t=e.getBoundingClientRect(),n=t.height,i=t.width;return{height:parseInt(n,10),width:parseInt(i,10)}},Ir=function(e,t,n){var i=t.getBoundingClientRect(),r=i.top,o=i.left,a=Tr(t),s=a.width,u=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:r+u/2}},Ar=function(e,t,n,i,r){var o,a,s,u;return"float"===e?(o={l:-i/2,r:i/2,t:-(r+3+2),b:-3},s={l:-i/2,r:i/2,t:15,b:r+3+2+12},u={l:-(i+3+2),r:-3,t:-r/2,b:r/2},a={l:3,r:i+3+2,t:-r/2,b:r/2}):"solid"===e&&(o={l:-i/2,r:i/2,t:-(n/2+r+2),b:-n/2},s={l:-i/2,r:i/2,t:n/2,b:n/2+r+2},u={l:-(i+t/2+2),r:-t/2,t:-r/2,b:r/2},a={l:t/2,r:i+t/2+2,t:-r/2,b:r/2}),{top:o,bottom:s,left:u,right:a}},Or=function(e){var t=0,n=0;for(var i in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===i?n-=parseInt(e[i],10):"bottom"===i?n+=parseInt(e[i],10):"left"===i?t-=parseInt(e[i],10):"right"===i&&(t+=parseInt(e[i],10));return{extraOffsetX:t,extraOffsetY:n}},Pr=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function Rr(t,n,i,r){if(n)return n;if(null!=i)return i;if(null===i)return null;var o=/<br\s*\/?>/;return r&&"false"!==r&&o.test(t)?t.split(o).map((function(t,n){return e(a).createElement("span",{key:n,className:"multi-line"},t)})):t}function Dr(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function jr(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}!function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}');var Lr,Nr,Br,Fr={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function Ur(e,t,n,i){return function(e,t){var n=t.text,i=t.background,r=t.border,o=t.arrow;return"\n  \t.".concat(e," {\n\t    color: ").concat(n,";\n\t    background: ").concat(i,";\n\t    border: 1px solid ").concat(r,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,".place-top::before {\n        border-top: 8px solid ").concat(r,";\n    }\n    .").concat(e,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(o,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,".place-bottom::before {\n        border-bottom: 8px solid ").concat(r,";\n    }\n    .").concat(e,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(o,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,".place-left::before {\n        border-left: 8px solid ").concat(r,";\n    }\n    .").concat(e,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(o,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,".place-right::before {\n        border-right: 8px solid ").concat(r,";\n    }\n    .").concat(e,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(o,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(e,function(e,t,n){var i=e.text,r=e.background,o=e.border,a=e.arrow?e.arrow:e.background,s=function(e){return Fr[e]?mr({},Fr[e]):void 0}(t);i&&(s.text=i);r&&(s.background=r);n&&(s.border=o||("light"===t?"black":"white"));a&&(s.arrow=a);return s}(t,n,i))}var zr,qr=function(e){e.hide=function(e){wr(yr.HIDE,{target:e})},e.rebuild=function(){wr(yr.REBUILD)},e.show=function(e){wr(yr.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(Lr=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(yr.HIDE,this.globalHide),window.addEventListener(yr.HIDE,this.globalHide,!1),window.removeEventListener(yr.REBUILD,this.globalRebuild),window.addEventListener(yr.REBUILD,this.globalRebuild,!1),window.removeEventListener(yr.SHOW,this.globalShow),window.addEventListener(yr.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(yr.HIDE,this.globalHide),window.removeEventListener(yr.REBUILD,this.globalRebuild),window.removeEventListener(yr.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(Lr=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,i=n.event,r=n.eventOff,o=e.getAttribute("data-event")||i,a=e.getAttribute("data-event-off")||r;o.split(" ").forEach((function(n){e.removeEventListener(n,Sr.get(e,n));var i=_r.bind(t,a);Sr.set(e,n,i),e.addEventListener(n,i,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,i=t.eventOff,r=n||e.getAttribute("data-event"),o=i||e.getAttribute("data-event-off");e.removeEventListener(r,Sr.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(Lr=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(Lr=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(Lr=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,i=n.event,r=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=Cr(),u=Er(e,"data-event"),c=Er(e,"data-event-off");null!=i&&(u[i]=!0),null!=r&&(c[r]=!0),o.split(" ").forEach((function(e){return u[e]=!0})),a.split(" ").forEach((function(e){return c[e]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var h in null==i&&(l.mouseover=Mr.bind(this,this.showTooltip,{}),l.mousemove=Mr.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=Mr.bind(this,this.hideTooltip,{})),u)l[h]=Mr.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||r;_r.call(t,n,e)}),{customEvent:!0});for(var f in c)l[f]=Mr.bind(this,this.hideTooltip,{customEvent:!0});for(var d in l)s.addEventListener(d,l[d])},e.prototype.unbindBodyListener=function(e){e=e||Cr();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((Br=Nr=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=br(this,vr(n).call(this,e))).state={uuid:e.uuid||"t"+cr(),place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Dr(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},t.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),t.mount=!0,t.delayShowLoop=null,t.delayHideLoop=null,t.delayReshow=null,t.intervalUpdateContent=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gr(e,t)}(n,t),hr(n,null,[{key:"propTypes",get:function(){return{uuid:e(fi).string,children:e(fi).any,place:e(fi).string,type:e(fi).string,effect:e(fi).string,offset:e(fi).object,multiline:e(fi).bool,border:e(fi).bool,textColor:e(fi).string,backgroundColor:e(fi).string,borderColor:e(fi).string,arrowColor:e(fi).string,insecure:e(fi).bool,class:e(fi).string,className:e(fi).string,id:e(fi).string,html:e(fi).bool,delayHide:e(fi).number,delayUpdate:e(fi).number,delayShow:e(fi).number,event:e(fi).string,eventOff:e(fi).string,isCapture:e(fi).bool,globalEventOff:e(fi).string,getContent:e(fi).any,afterShow:e(fi).func,afterHide:e(fi).func,overridePosition:e(fi).func,disable:e(fi).bool,scrollHide:e(fi).bool,resizeHide:e(fi).bool,wrapper:e(fi).string,bodyMode:e(fi).bool,possibleCustomEvents:e(fi).string,possibleCustomEventsOff:e(fi).string,clickable:e(fi).bool}}}]),hr(n,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t)}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var i=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(i,'"]')}else t="[data-tip]:not([data-for])";return jr(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(jr(e.shadowRoot.querySelectorAll(t)))})),n.concat(jr(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,i=t.globalEventOff,r=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),i=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===i&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))})),i&&(window.removeEventListener(i,this.hideTooltip),window.addEventListener(i,this.hideTooltip,r)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,i=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),i&&window.removeEventListener(i,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,i=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),Rr(this.state.originTooltip,i,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,i=n.multiline,r=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||i||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(e.currentTarget),h=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},f=xr(e,e.currentTarget,this.tooltipRef,c,c,l,h);f.position&&this.props.overridePosition&&(f.position=this.props.overridePosition(f.position,e,e.currentTarget,this.tooltipRef,c,c,l,h));var d=f.isNewState?f.newState.place:c;this.clearTimer();var p=e.currentTarget,m=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,v=this,g=function(){v.setState({originTooltip:o,isMultiline:a,desiredPlace:c,place:d,type:p.getAttribute("data-type")||v.props.type||"dark",customColors:{text:p.getAttribute("data-text-color")||v.props.textColor||null,background:p.getAttribute("data-background-color")||v.props.backgroundColor||null,border:p.getAttribute("data-border-color")||v.props.borderColor||null,arrow:p.getAttribute("data-arrow-color")||v.props.arrowColor||null},effect:l,offset:h,html:(p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):v.props.html)||!1,delayShow:p.getAttribute("data-delay-show")||v.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||v.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||v.props.delayUpdate||0,border:(p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):v.props.border)||!1,extraClass:p.getAttribute("data-class")||v.props.class||v.props.className||"",disable:(p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):v.props.disable)||!1,currentTarget:p},(function(){u&&v.addScrollListener(v.state.currentTarget),v.updateTooltip(e),r&&Array.isArray(r)&&(v.intervalUpdateContent=setInterval((function(){if(v.mount){var e=v.props.getContent,t=Rr(o,"",e[0](),a),n=v.isEmptyTip(t);v.setState({isEmptyTip:n}),v.updatePosition()}}),r[1]))}))};m?this.delayReshow=setTimeout(g,m):g()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,i=n.delayShow,r=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(i,10),u=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!r){var c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:u,show:!0},(function(){t.updatePosition(),n&&o&&o(e)}))}};clearTimeout(this.delayShowLoop),i?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},r=this.state.disable,o=i.isScroll,a=o?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!r){if(t){var c=this.getTargetArray(this.props.id),l=c.some((function(t){return t===e.currentTarget}));if(!l||!this.state.show)return}var h=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&s&&s(e)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(h,parseInt(a,10)):h()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,i=t.currentTarget,r=t.place,o=t.desiredPlace,a=t.effect,s=t.offset,u=this.tooltipRef,c=xr(n,i,u,r,o,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,i,u,r,o,a,s)),c.isNewState)return this.setState(c.newState,(function(){e.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var t=this,i=this.state,r=i.extraClass,o=i.html,s=i.ariaProps,u=i.disable,c=this.getTooltipContent(),l=this.isEmptyTip(c),h=Ur(this.state.uuid,this.state.customColors,this.state.type,this.state.border),f="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||u||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),d=this.props.wrapper;n.supportedWrappers.indexOf(d)<0&&(d=n.defaultProps.wrapper);var p=[f,r].filter(Boolean).join(" ");if(o){var m="".concat(c,"\n<style>").concat(h,"</style>");return e(a).createElement(d,dr({className:"".concat(p),id:this.props.id,ref:function(e){return t.tooltipRef=e}},s,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:m}}))}return e(a).createElement(d,dr({className:"".concat(p),id:this.props.id},s,{ref:function(e){return t.tooltipRef=e},"data-id":"tooltip"}),e(a).createElement("style",{dangerouslySetInnerHTML:{__html:h}}),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,i=Dr(e);return Object.keys(i).some((function(e){return i[e]!==n[e]}))?mr({},t,{ariaProps:i}):null}}]),n}(e(a).Component),fr(Nr,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),fr(Nr,"supportedWrappers",["div","span"]),fr(Nr,"displayName","ReactTooltip"),(zr=Lr=Br).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.removedNodes.length;r++)if(i.removedNodes[r]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},Lr=void(zr.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||Lr))||Lr)||Lr)||Lr)||Lr)||Lr)||Lr;function Hr(t){const n=a.useContext(Xf),{userMap:i,myId:r}=a.useContext($f),o=i[t.userId],s=o&&o.username,u=o&&o.isMod,c=o&&o.isBanned,l=i[r],h=l&&l.isMod,f=(e,t)=>{n(nn()),li(t.id)},d=h?e(a).createElement(Ui,{data:{id:t.userId,username:s},onClick:(e,t)=>{var i;confirm(`Are you sure you would like to ${c?"unban":"ban"} the user '${t.username}'?`)&&n((i=t.id,{type:Bt.BanToggle,value:i}))}},c?"Unban":"Ban"):"",p=h?e(a).createElement(Ui,{data:{id:t.userId,username:s},onClick:(e,t)=>{var i;confirm(`Are you sure you would like to ${u?"remove":"add"} the user '${t.username}' ${u?"from":"to"} the mod list?`)&&n((i=t.id,{type:Bt.ModToggle,value:i}))}},u?"Remove Mod":"Make Mod"):"";var m="name";return o&&o.nameColor&&(m=m+" "+o.nameColor),e(a).createElement("span",{className:m,"data-tip":o&&o.pronouns},e(a).createElement(nr,{id:t.id,renderTag:"span",holdToDisplay:0},e(a).createElement("strong",{className:u?"mod":""},u?"[Mod] ":"",o&&o.polymorph||"",s||"unknown")),e(a).createElement(Xi,{id:t.id},e(a).createElement(Ui,{data:{id:t.userId},onClick:f},"Profile"),e(a).createElement(Ui,{data:{id:t.userId},onClick:f},"Whisper"),d,p),e(a).createElement(qr,null))}var Vr={};t(Vr,"GenIcon",(()=>Jr),(e=>Jr=e));a=o("6Ti1v"),a=o("6Ti1v");var Wr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kr=a.createContext&&a.createContext(Wr),Gr=function(){return(Gr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Yr=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n};function Zr(e){return e&&e.map((function(e,t){return a.createElement(e.tag,Gr({key:t},e.attr),Zr(e.child))}))}function Jr(e){return function(t){return a.createElement(Xr,Gr({attr:Gr({},e.attr)},t),Zr(e.child))}}function Xr(e){var t=function(t){var n,i=e.size||t.size||"1em";t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className);var r=e.attr,o=e.title,s=Yr(e,["attr","title"]);return a.createElement("svg",Gr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Gr({color:e.color||t.color},t.style,e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==Kr?a.createElement(Kr.Consumer,null,(function(e){return t(e)})):t(Wr)}var $r=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)};$r.displayName="FaChevronDown";var Qr=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)};Qr.displayName="FaCog";var eo=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}}]})(e)};eo.displayName="FaThumbsUp";var to=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"}}]})(e)};to.displayName="FaVideoSlash";var no=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)};no.displayName="FaVideo";var io=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"}}]})(e)};io.displayName="FaVolumeMute";var ro=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}}]})(e)};ro.displayName="FaVolumeUp";var oo=function(e){return Vr.GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}}]})(e)};oo.displayName="FaRegThumbsUp";const ao={id:"theater",displayName:"Theater",shortName:"the theater",description:"A stage, confusingly decorated with Halloween skulls and streamers. There are a few dozen flimsy metal chairs you can sit in, plus some comfy couches in the back. \n        You can return to the [[hall]]. Or if you'd like to speak to one of our speakers after their talk, you can head to breakout rooms: [[warrior]], [[mage]], [[rogue]], or [[tourist]].\n        <br/><br/>\n        <a href=\"stream.html\" onClick=\"window.open('stream.html#' + window.getComputedStyle(document.body).getPropertyValue('background-color'), 'stream', 'width=560,height=460'); return false\">Pop Out Stream</a><br/>\n        ",noMediaChat:!0,hasNoteWall:!0,noteWallData:{roomWallDescription:'There is a whiteboard set up to the side with "SPEAKER QUESTIONS" written at the top. "Questions for speakers not questions from speakers!" is hastily scrawled below it.',noteWallButton:"Write a question",addNoteLinkText:"add a question",addNotePrompt:"What would you like to ask?",noteWallDescription:"Questions for the current speaker, ranked by upvotes."}},so={loungeDungeonDrawingRoom:{id:"loungeDungeonDrawingRoom",displayName:"Drawing Room",shortName:"the drawing room",description:"A smaller, private room with a vintage wooden table in the center and eight antique chairs arranged around it. The floor is covered in thick, intricate carpets, and the walls feature ancient oak wainscoting. Sunlight pours in through four large windows, and through them you can grass over rolling green hills.<br/><br/>\n    You can return to the [[hall]], or you can continue on into the [[bedroom->loungeDungeonBedroom]].",hidden:!0},loungeDungeonBedroom:{id:"loungeDungeonBedroom",displayName:"Bedroom",shortName:"the bedroom",description:'A cosy room featuring an unreasonably wide bed, sporting an ornate canopy. To its left is an oak drawer, with a perfectly polished mirror above it, and to its right is a door with a note on it. Written in a shaky hand, the note reads "I am done organizing your closet, it is a futile, time-wasting endeavor!"<br/><br/>\n      You can return to the [[drawing room->loungeDungeonDrawingRoom]], or you can enter the [[closet->loungeDungeonClosetEntryway]].',hidden:!0},loungeDungeonClosetEntryway:{id:"loungeDungeonClosetEntryway",displayName:"Unreasonably Large Walk-In Closet",shortName:"the unreasonably large walk-in closet",description:"There are pith helmets strewn across dresses, piles of mismatched shoes, a dozen spotless white wedding dresses, ancient steel helmets and a pile of trousers six feet high. The massive piles of shoes, garments, accessories and other sundry items in front of you make it impossible to tell how large the room is.<br/><br/>\n      You can return to the [[bedroom->loungeDungeonBedroom]] or you can start [[pushing forward->loungeDungeonClosetPath]].",hidden:!0},loungeDungeonClosetPath:{id:"loungeDungeonClosetPath",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You pass a hundred umbrellas, standing upright in a gigantic bucket. You wade through a swamp of what look like napoleonic uniforms. You flee a collapsing tower of tall, fuzzy hats. A moat of very spiky armor bits threatens to stop your progress, but you shovel undershirts and chemises into it until you can cross.<br/><br/>\n      You can [[go back->loungeDungeonClosetEntryway]], or head towards the distant [[tower of shoes->loungeDungeonClosetShoePath]].",hidden:!0},loungeDungeonClosetShoePath:{id:"loungeDungeonClosetShoePath",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You pass through a forest of bare mannequins that watch you as you pass. You pull a sturdy walking stick from a copse of parasols. You tunnel through a hill of belts and ties, fending off the shoelaces that swarm to impede your path. Soon after you realize that you can't see the tower of shoes you were heading towards.<br/><br/>\n      You can [[go back->loungeDungeonClosetPath]] or [[venture onwards->loungeDungeonClosetShoePathEnd]].",hidden:!0},loungeDungeonClosetShoePathEnd:{id:"loungeDungeonClosetShoePathEnd",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You push blindly onwards. You can hear the shrieks of the bowties, now. They started about ten minutes ago, and their high-pitched calls have been growing in intensity. Your walking stick is sturdy, and you're a lot bigger than a bowtie, but you're on their home ground.<br/><br/>\n      You can [[go back->loungeDungeonClosetShoePath]], [[prepare for the bowties->loungeDungeonClosetBowtiePrep]], or [[venture onwards->loungeDungeonClosetMannequinAmbush]].",hidden:!0},loungeDungeonClosetBowtiePrep:{id:"loungeDungeonClosetBowtiePrep",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You've never fought bowties before. You didn't know they could make sounds, or move, or fly. You wonder if they'll really attack you. Maybe they're like mountain lions? Will looking very big deter them? Or will you need to find a weapon?<br/><br/>\n      You can [[find a scary coat->loungeDungeonClosetBowtieCoat]], [[find a weapon->loungeDungeonClosetBowtieWeapon]], or [[venture onwards->loungeDungeonClosetMannequinAmbush]].",hidden:!0},loungeDungeonClosetBowtieWeapon:{id:"loungeDungeonClosetBowtieWeapon",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You have no idea where you'd find a weapon. You already have a walking stick, and you're not sure anything else you've seen so far would be better. On reflection, you're not even sure if hitting a bowtie with a walking stick would kill it. Or if the bowties are even alive.<br/><br/>\n      You can [[fight the bowties->loungeDungeonClosetMannequinAmbush]] or [[venture onwards->loungeDungeonClosetMannequinAmbush]].",hidden:!0},loungeDungeonClosetBowtieCoat:{id:"loungeDungeonClosetBowtieCoat",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You backtrack a couple of minutes, to the base of a cliff of coats. You try to rip out an armful, but they're too tightly packed, so you're forced to pick from among the coats that have blown off the top.<br/><br/>\n      You can choose from an [[antiquated formal coat->loungeDungeonClosetBowtieCoatFight]], a [[worn trench coat->loungeDungeonClosetBowtieCoatFight]], a [[swanky suede coat->loungeDungeonClosetBowtieCoatFight]], a [[comfy-looking parka->loungeDungeonClosetBowtieCoatFight]], or an [[abandoned duster->loungeDungeonClosetBowtieCoatFight]].",hidden:!0},loungeDungeonClosetBowtieCoatFight:{id:"loungeDungeonClosetBowtieCoatFight",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You quickly don your coat and turn away from the cliff. You can see the swarm of bowties circling. You stare at them as you open your coat and spread your arms, waving them slowly. You call out, firmly. The swarm circles another couple of times, but eventually the cries stop and it seems to move on.<br/><br/>\n      You realize that you can see the path to the tower of shoes you were aiming for from here.\n      You can [[escape the closet->loungeDungeonBedroom]] or continue to the [[tower of shoes->loungeDungeonClosetTowerOfShoesDoor]].",hidden:!0},loungeDungeonClosetMannequinAmbush:{id:"loungeDungeonClosetMannequinAmbush",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"The bowties set up a cry, hundreds at once, and then rush you! You slap them from the sky, grabbing and ripping, leaving a path of silk guts and cotton wings strewn all around the glade. Eventually, the swarm flees, silently flowing back into the forest. You stand, trumphant, amid dozens of torn bowties.<br/><br/>\n      Then something kicks your legs out from under you, and you fall to the ground. Before you can react, everything goes black.<br/><br/>\n      [[Wake up.->hall]].",hidden:!0},loungeDungeonClosetTowerOfShoesDoor:{id:"loungeDungeonClosetTowerOfShoesDoor",displayName:"Somewhere In The Unreasonably Large Walk-In Closet",shortName:"somewhere in the unreasonably large walk-in closet",description:"You reach the tower of shoes. It's gigantic, six hundred feet high at least, but only some thirty feet wide. There's a door set into its base.<br/><br/>\n      You can [[escape the closet->loungeDungeonBedroom]] or enter the [[tower of shoes->hiddenPortalRoom]].",hidden:!0}};var uo,co;(co=uo||(uo={})).RainbowDoor="RAINBOW_DOOR",co.DullDoor="DULL_DOOR";const lo={id:"lights",displayName:"Hall of Lights",shortName:"the lights",description:"Two platforms, one with a column of ever-shifting sparkles, one seemingly perpetually in shadow. Or return to [[temple]].",specialFeatures:[uo.RainbowDoor,uo.DullDoor]};var ho;!function(e){e.RainbowDoor="RAINBOW_DOOR",e.DullDoor="DULL_DOOR",e.FullRoomIndex="FULL_ROOM_INDEX",e.VendingMachine="VENDING_MACHINE"}(ho||(ho={}));const fo={...{theater:ao,warrior:{id:"warrior",displayName:"Breakout room: Warrior's Training Grounds",shortName:"Warrior Breakout",description:"Stout training dummies, plenty of armour, a large variety of weapons - polearms with funny names, extremely sharp swords. A poster on the wall describes creatures that should not be attacked with blades - hydras, puddings. Or you can head back to the [[theater]]."},mage:{id:"mage",displayName:"Breakout room: Mage's Circle",shortName:"Mage Breakout",description:"Ever-changing sigils on the ground, pulsing with an eerie glow. A cauldrun bubbling in the corner, being stirred continuously by a capybara with a purple cape. Or you can head back to the [[theater]]."},rogue:{id:"rogue",displayName:"Breakout room: Rogue's Hideaway",shortName:"Rogue Breakout",description:"A mostly dark room; what you can see looks like scrolls in incomprehensible codes, and cloaks that flicker in and out of view. In another corner, targets, plus bows and crossbows and plenty of arrows and bolts. Or you can head back to the [[theater]]."},tourist:{id:"tourist",displayName:"Breakout room: Tourist's Gate",shortName:"Tourist Breakout",description:'Shockingly modern - the gate to an airport. Two very good dogs are manning the desk. One dog wants to give you a [[Platinum Yendorian Express Card->item]] the other has a dog tag labeled "GNU Terry Pratchett" and wants you to tell it about the clacks. Or you can head back to the [[theater]].'},unconference:{id:"unconference",displayName:"Unconferencing Lobby",shortName:"the unconferencing lobby",description:"Winding corridors lead to a large dungeon-like room. Sticky notes and magic markers are piled up on tables along with assorted adventuring gear. White banners with blocky black text label several hallways leading to the unconferencing rooms - [[cockatrice]], [[dragon]], [[naga]], [[skeleton]], [[tengu]], and [[yak]]. You can also return back to the [[theater]].",hasNoteWall:!0,noteWallData:{roomWallDescription:'One wall of this room is taken up by a large whiteboard titled "UNCONFERENCE TOPIC SUGGESTIONS!" Smaller font clarifies "Write what you want to chat with others about, and upvote topics you find interesting. Moderators will assign the top six topics rooms, 5 minutes into each unconference block. Have fun!"',noteWallButton:"Inspect the topics",addNoteLinkText:"suggest a topic",addNotePrompt:"What would you like to suggest?",noteWallDescription:"Topics for unconferencing discussion, ranked by upvotes."}},cockatrice:{id:"cockatrice",displayName:"Unconferencing: Cockatrice",shortName:"cockatrice",description:'This is an unconferencing room. A table labelled "NECESSARY PRECAUTIONS" in huge block letters has buckets for gloves, earplugs, and lizards... but troublingly all are empty. It\'s probably fine.<br/><br/>The other unconferencing rooms are [[dragon]], [[naga]], [[skeleton]], [[tengu]], and [[yak]]. Or you can climb the stairs back up to the [[unconferencing lobby->unconference]].',hasNoteWall:!0},dragon:{id:"dragon",displayName:"Unconferencing: dragon's lair",shortName:"dragon's lair",description:"This is an unconferencing room. It's a bit difficult to move around as the floor is stacked with piles of coins, gems, and scales. Passive aggressive post-its outline an outstanding series of arguments about which colour is superior and therefore deserves the most floor space. Best not to get involved.<br/><br/>The other unconferencing rooms are [[cockatrice]], [[naga]], [[skeleton]], [[tengu]], and [[yak]]. Or you can climb the stairs back up to the [[unconferencing lobby->unconference]].",hasNoteWall:!0},naga:{id:"naga",displayName:"Unconferencing: naga",shortName:"naga",description:"This is an unconferencing room. The door swings open with a push, not requiring you to use your hands. The floor is sandy and warm to the touch. Piled in a corner are Roguelike Celebration socks from various years, looking entirely unused for some reason.<br/><br/>The other unconferencing rooms are [[cockatrice]], [[dragon]], [[skeleton]], [[tengu]], and [[yak]]. Or you can climb the stairs back up to the [[unconferencing lobby->unconference]].",hasNoteWall:!0},skeleton:{id:"skeleton",displayName:"Unconferencing: skeleton",shortName:"skeleton",description:"This is an unconferencing room. The walls are plastered with unconventional [[motivational posters->readPoster]]. A mini-fridge hums in the corner, but when you pop it open is stocked only with jugs of milk.<br/><br/>The other unconferencing rooms are [[cockatrice]], [[dragon]], [[naga]], [[tengu]], and [[yak]]. Or you can climb the stairs back up to the [[unconferencing lobby->unconference]].",hasNoteWall:!0},tengu:{id:"tengu",displayName:"Unconferencing: tengu",shortName:"tengu",description:"This is an unconferencing room. Feathers of all sizes and hues are scattered through the room, and the seating options include traditional chairs as well as perches. Do take care sitting down - woopie cushions, wet paint, and similar mischief is to be expected here.<br/><br/>The other unconferencing rooms are [[cockatrice]], [[dragon]], [[naga]], [[skeleton]], and [[yak]]. Or you can climb the stairs back up to the [[unconferencing lobby->unconference]].",hasNoteWall:!0},yak:{id:"yak",displayName:"Unconferencing: yak",shortName:"yak",description:'This is an unconferencing room. The smell in here is... a lot. A sign at the entrance pleads "Please, no shaving!" A table is set up as if to offer refreshments but atop it are just blocks of solid salt, carved into abstract shapes by the licking of very large tongues.<br/><br/>The other unconferencing rooms are [[cockatrice]], [[dragon]], [[naga]], [[skeleton]], and [[tengu]]. Or you can climb the stairs back up to the [[unconferencing lobby->unconference]].',hasNoteWall:!0},sfHub:{id:"sfHub",displayName:"Space Hanger Observation Lounge",shortName:"Space Lounge",description:"An impossibly fast elevator whisks you up to a bright lounge of steel, chrome, and futuristic plastics. Spacecraft of all shapes and sizes constantly come and go in view of the giant observation window. Constrasting the vast depths of space, the lounge itself is strangely cozy. Floor-to-ceiling hexagonal bookshelves provide all the reading material you could ask for, with oddly shaped but fluffy ottoman-like chairs to settle into. A [[vending machine->vendingMachine]] offers refreshment, along with an extensive bar serving Cosmic Cryo-Brewed Coffee, Terrific Techno-Tea, and apple juice.</br></br>A little robot beckons you to the [[Robot Fabrication Lab->robots]]. In the corner, a [[dusty machine->timeMachine]] blinks invitingly. You can also go back to the central [[hall]].",hasNoteWall:!0,noteWallData:{roomWallDescription:'Among the seemingly infinite bookshelves, one has been emptied out and contains only a small pile of notebooks. A sign next to it reads "BOOKMARKS - PLEASE HELP US SIFT THE GOOD STUFF!"',noteWallButton:"Add a link",addNoteLinkText:"add a link",addNotePrompt:"What would you like to link to?",noteWallDescription:"Contributions of links to slides, videos, and articles of interest."}},robots:{id:"robots",displayName:"Robot Fabrication Lab",shortName:"robot lab",description:"Something witty about making a robot friend. Go back to the [[Spacehanger->sfHub]]."},timeMachine:{id:"timeMachine",displayName:"strange item",shortName:"strange item",description:"make a minigame that eventually leads to the [[old school hub->oldHub]]. Go back to the [[Spacehanger->sfHub]]."},vendingMachine:{id:"vendingMachine",displayName:"vending machine",shortName:"vending machine",description:'Set into the wall is a curious-looking vending machine labelled "Munxip\'s Magnifient Munchies". A touch screen flashes "[[Get Random Food!->generateFood]]" in cycling colours.</br></br>Go back to the [[Space Hanger->sfHub]].'},oldHub:{id:"oldHub",displayName:"the Hash Mark Dungeon",shortName:"/# dungeon",description:"Oh my god, it's made out of /#! You feel like you've entered an older time. You can visit the [[Oracle]], the [[Gelatinous Throne->jelly]], or the [[Treasure Vault->vault]]. Or head back to [[Spacehanger->sfHub]].",hasNoteWall:!0,noteWallData:{roomWallDescription:"Do you want your possessions identified?",noteWallButton:"y/n/q",addNoteLinkText:"Tell a story",addNotePrompt:"Tell us of yet another sad/silly/surprising death you've experienced.",noteWallDescription:"??"}},Oracle:{id:"Oracle",displayName:"Oracle",shortName:"oracle",description:'This peaceful space is decorated with burbling fountains, stately marble columns, and finely carved statues of centaurs in various poses. A small temple is the focal point. There is a bowl of fortune cookies labeled [["minor consultations"->getFortune]], or head back to the [[dungeon you came from->oldHub]].'},jelly:{id:"jelly",displayName:"Gelatinous Throne",shortName:"jelly throne room",description:"Get yourself a slime friend here! Or go [[back->oldHub]]."},vault:{id:"vault",displayName:"Treasure vault",shortName:"the treasure vault",description:"On various altars you can see [[a wand of digging->item]], [[a Proof of Stremf->item]], [[a pair of seven league boots->item]], and [[Planepacked->item]], the legendary limestone statue. Or you can go [[back->oldHub]]."},exploreHub:{id:"exploreHub",displayName:"Adventurer's Guild Hall",shortName:"the Guild",description:"Something about digging into a lush world. Avoid feeling like you're colonizing it, though. You can go back to the central [[hall]], or into the [[temple]].",hasNoteWall:!0,noteWallData:{roomWallDescription:'A mage\'s tome rests on a pillar, labeled "True Facts about Roguelikes 2021".',noteWallLinkText:"placeholder",addNoteLinkText:"placeholder",addNotePrompt:"placeholder",noteWallDescription:"placeholder",noteWallButton:"placeholder"}},temple:{id:"temple",displayName:"Temple of Transmutations",shortName:"the temple",description:"Most of the priests of the temple are busy crafting potions - you recognize the crates they're filling as matching the ones from the bar. There are three areas available though: [[Light->lights]], [[Libations->libations]], and [[Quest->quest]]."},lights:lo,libations:{id:"libations",displayName:"Libation Fountain",shortName:"the fountain",description:"Offer your food and drink here, and recieve wisdom. Or return to [[temple]]."},quest:{id:"quest",displayName:"Quest for the Whatevers",shortName:"the quest giver",description:"Oh, I'm so glad you're here! We're on a search for <strong>four items</strong> scattered throughout this strange space. If you find them all, bring them back here and I will be able to show you our greatest secret. Or return to [[temple]]."},entryway:{id:"entryway",displayName:"Registration Desk",shortName:"the registration desk",description:"A big banner before you reads 'Welcome to Roguelike Celebration 2021!' Beyond the doorway you hear welcoming chatter and merriment. Once you've got your bearings about you, you can move through to the [[Central Hall->hall]].",hidden:!0},hall:{id:"hall",displayName:"Central Hall",shortName:"the hall",description:"A magnificently hall stretches ahead of you, reminiscent of the grand terminal of a metropolis. Conversations echo on stone hewn walls, surrounding you in a warming background murmer of humanity. The vaulted ceiling feels impossibly high and depicts constellations of ASCII that look random at first but reveal hidden meaning the longer you stare.\n    <br/><br/>\n    In the center of the hall you see a circular booth overflowing with bits and bobs, labelled the [[Swag Table->swag]]. Further on, an ornate staircase leads up to the [[Bar->bar]], and blinking lights above a door advertise the [[Theater->theater]] entrance. \n    <br/><br/>\n    To your right, a short hallway leads to the [[unconferencing rooms->unconference]]. To your left, a much longer hallway labelled [[Destinations->destinations]].",hasNoteWall:!0,noteWallData:{roomWallDescription:'A big bulletin board sits in the middle of the hall, with a banner on top - "Social Space Feedback". An array of markers and sticky notes are nearby.',noteWallButton:"Add feedback",addNoteLinkText:"Add feedback",addNotePrompt:"What feedback do you have about the social space itself?",noteWallDescription:"Social Space Feedback"}},destinations:{id:"destinations",displayName:"Destinations",shortName:"destinations",description:"Lining both sides of this hall, huge doorways promise journeys to thrilling destinations. The majority of them are shut, with taped up [[paper signs->readClosedSign]] providing increasingly ludicrous reasons for their closure.<br/><br/>Only two halls are open, and while it's hard from here to tell where they'll go, one door shines with [[glass and chrome->sfHub]], and the other is [[crumbling and overgrown with plant life->exploreHub]].<br/><br/>You can also return to the [[Central Hall->hall]]"},swag:{id:"swag",displayName:"Swag Table",shortName:"the swag table",description:'A circular booth seems entirely packed with mismatched swag, spilling over the edge and forming messy piles of goods. At the top of the pile, you see items such as [[Roguelike Celebration mousepads->item]], [[a +1 longbow->item]], [[an unidentified scroll->item]], and (surprisingly!) [[a tiny puppy->item]].\n    <br/><br/>\n    There\'s also a set of <a href="https://www.aatwebstore.com/rc2021/shop/home" target="_blank">beautiful physical shirts and mousepads you can buy in real life</a>, designed by <a href="https://marlowedobbe.com/" target="_blank">Marlowe Dobbe</a> and printed by Ann Arbor T-shirt Company.\n    <br/><br/>\n    A plaque set into the floor here shows a list of <a href="https://github.com/lazerwalker/azure-mud/graphs/contributors" target="_blank" rel="noreferrer">code contributors</a>.\n    <br/><br/>\n    From here, you can walk back to the rest of the [[hall]].'},bar:{id:"bar",displayName:"Bar",shortName:"the bar",description:"The bustle of the hall fades away as you ascend the stairs, coming upon a beautiful long bar with hundreds of colourful bottles spanning up to the ceiling. A friendly bartender will happily make you whatever you want, sliding glasses over the table with ease. A laminated sign on the bartop advertises tonight's specials: [[Divine Nectar->item]] (a locally crafted mead, donated by intelligent philanthropic bees), [[the Fizzbuzz->item]] (a non-alcoholic flavored seltzer which alternates sour and sweet), and [[Yet Another Silly Drink->item]] (a colorful, layered drink with a toy cockatrice floating on top).\n    <br/>A self-serve table nearby has two coolers packed to the brim with potions. One is loaded with [[colourful potions->drinkPolymorph]] of many shapes and hues, and the other with [[plain potions of clear liquid->drinkCancellation]]\n    <br/><br/>\n    Three booths provide opportunities to sit and enjoy conversation in smaller groups - by the [[railing->barBoothA]], seated [[along the bar->barBoothB]], and tucked away [[at the back->barBoothC]]. Stairs at the back lead directly to the [[theater]], or back to the [[Central Hall->hall]].",hasNoteWall:!0,noteWallData:{roomWallDescription:"By the bathrooms there's a pile of pens and markers - it seems the bar decided if they can't stop graffitti, they might as well encourage patrons to use glitter pens instead of boring ballpoint.",noteWallButton:"Add your mark",addNoteLinkText:"Contribute",addNotePrompt:"Contribute to the graffitti?",noteWallDescription:"Someone has scratched Rodney was here on an absurdly large unisex bathroom stall wall."}},barBoothA:{id:"barBoothA",displayName:"Booth Along the Railing",shortName:"the booth by the railing",description:"A cozy booth with a perfect view down to your fellow attendees coming and going from the main hall.</br></br>\n      From here, you can see [[the seats at the bar->barBoothB]] or [[at the back of the room->barBoothC]], and the [[rest of the bar->bar]]."},barBoothB:{id:"barBoothB",displayName:"Seats Along the Bar",shortName:"the booth by the bar",description:"Seats let you comfortably squeeze in at the bar for fast service and casual conversation. Most importantly, they swivel. Whee!</br></br>\n      From here, you can see tables [[by the railing->barBoothA]] or [[at the back->barBoothC]], and the [[rest of the bar->bar]]."},barBoothC:{id:"barBoothC",displayName:"Booth at the Back",shortName:"the booth at the back",description:"A secluded booth, tucked in a corner and quiet enough to speak without raising your voice. A brooding mysterious figure in a cloak stands awkwardly nearby, looking petulant at losing their preferred seat.<br/><br/>\n      From here, you can see tables [[at the railing->barBoothA]] or [[along the bar->barBoothB]], and the [[rest of the bar->bar]]"},hiddenPortalRoom:{id:"hiddenPortalRoom",displayName:"Portal Room",shortName:"the portal room",description:'In the center of the room is a shimmering portal. Next to the portal is a pedestal with an open book. To your right is a table with a sign hung behind it, reading "Lending Table" in flowery wizard script. On the table you can see [[a wand of digging->item]], [[a Proof of Stremf->item]], [[a pair of seven league boots->item]], and [[Planepacked->item]], the legendary limestone statue.<br/><br/>\n      Once you\'ve finished here, you can [[leap into the shimmering portal->hall]]',specialFeatures:[ho.FullRoomIndex],hidden:!0}},...so};a=o("6Ti1v");function po(e){try{return void 0===e.movementMessagesHideThreshold||void 0===e.movementMessagesHideRoomIds||e.happeningNowEntries&&e.happeningNowEntries.every((e=>{!function(e){e.text&&("string"==typeof e.text||e.text instanceof String)&&e.roomId?"string"==typeof e.roomId||e.roomId:!e.externalLink||"string"==typeof e.externalLink||e.externalLink}(e)}))?null:{movementMessagesHideThreshold:e.movementMessagesHideThreshold,movementMessagesHideRoomIds:e.movementMessagesHideRoomIds,happeningNowEntries:e.happeningNowEntries?e.happeningNowEntries:[],spaceIsClosed:!!e.spaceIsClosed&&e.spaceIsOpen}}catch(e){return null}}var mo,vo;(vo=mo||(mo={})).Blue="Blue",vo.Cyan="Cyan",vo.Green="Green",vo.Magenta="Magenta",vo.Orange="Orange",vo.Red="Red",vo.Violet="Violet",vo.Yellow="Yellow";var go=o("4mTIe");const bo=()=>{const t=e(a).useContext(Xf);return e(a).createElement("div",{id:"rainbow-gate-div",className:"feature-room-view"},e(a).createElement("p",null,'There\'s an ornate stone gate, through which you see a many-colored maelstrom. In front of the gate is a sloppily-written wooden sign. It reads "Please do not jump through the gate." ',e(a).createElement("button",{id:"rainbow-gate-button",className:"link-styled-button",onClick:async()=>{await go.incrementGateVisits()>3&&t(Gt(function(e){const t=Object.values(e);return t[Math.floor(Math.random()*t.length)]}(mo))),t(tn(ln.FeatureRainbowGate))}},"Jump through the gate!")))};function yo(){const{userMap:t,myId:n}=a.useContext($f),[i,r]=a.useState(0);return a.useEffect((()=>{(async()=>{r(await go.getGateVisits())})()}),[]),1===i?e(a).createElement("div",null,e(a).createElement("h1",null,"You experience something truly wonderful."),e(a).createElement("p",null,"You leap through the gate, and immediately your senses are overwhelmed with the colors and, uh. The, uh, colors of the...unimaginable! It is a truly mindbending experience. You can feel indigo and smell purple, which, okay, yes, I've heard of synesthesia before, yes, no, no, I'm aware."),e(a).createElement("p",null,"Look, Jessie, I told you, I'm a doctor, not a writer."),e(a).createElement("p",null,"Okay there's a reason why I put that sign up, we'll just have to deal with these fine folk coming through here until the portal repair guy comes Monday and then -"),e(a).createElement("p",null,"Yes, yes, okay, look, thanks for visiting, sorry we're a little bit busy, would you mind just closing the window and being on your way? Yes, thank you. We appreciate it.")):2===i?e(a).createElement("div",null,e(a).createElement("h1",null,"Oh, it's you again."),e(a).createElement("p",null,"Oh, hey, not to be, uh, not to be touchy or anything but we'd appreciate it if you stopped portaling through our living room. You might not notice but uh, you're kind of leaving an ectoplasmic wake as you pass through which is going to be really annoying to clean up, so...we would really appreciate if you stopped.")):3===i?e(a).createElement("div",null,e(a).createElement("h1",null,"Please stop it."),e(a).createElement("p",null,"No, seriously. I've asked you politely and Jessie is getting very cross. If you come back through there will be Consequences.")):e(a).createElement("div",null,e(a).createElement("h1",null,"Okay, that's enough."),e(a).createElement("p",null,"You won't listen. You've been asked repeatedly not to, and you won't listen. I'm breaking out the curses now and you've nobody to blame but yourself."),e(a).createElement("p",null,e(a).createElement("em",null,"Your chat name color is now ",e(a).createElement("span",{className:`name ${t[n].nameColor}`},t[n].nameColor)),"."))}a=o("6Ti1v"),go=o("4mTIe");const wo=()=>{const t=e(a).useContext(Xf),{userMap:n,myId:i}=a.useContext($f),r=n[i];return e(a).createElement("div",{id:"dull-door-div",className:"feature-room-view"},e(a).createElement("p",null,"There is the boringest door imaginable standing in front of you. ",e(a).createElement("button",{id:"dull-door-button",className:"link-styled-button",onClick:()=>{r.nameColor?go.setWasColoredEntering(!0):go.setWasColoredEntering(!1),t(tn(ln.FeatureDullDoor))}},"Walk through the door"),"."))};function _o(){const t=e(a).useContext(Xf),[n,i]=a.useState(!1);a.useEffect((()=>{(async()=>{i(await go.getWasColoredEntering())})()}),[]);return n?e(a).createElement("div",null,e(a).createElement("h1",null,"You see a very, very bored octopode sitting in a cubicle."),e(a).createElement("p",null,"It's poking unenthusiastically at his computer with four tentacles and eating lunch with the rest. As it spots you, its eyes go wide. A coffee mug in one tentacle drops to its desk with a loud thump, and a fork in another clatters to the ground."),e(a).createElement("p",null,'"Oh!" it shouts, "Stay right where you are!". Before you can even turn to the door, the octopode jets in front of you in a cloud of dark gray smoke.'),e(a).createElement("p",null,"\"Look,\" says the octopode, \"I'm begging you! You don't know how dull this place is, and I've been stuck here for the last four nights doing these reports! They're overdue two days and they won't let me leave until they're done!\""),e(a).createElement("p",null,"\"That color you have in your name, that'll do the trick! I don't have time to explain, but suffice it to say I'm in a very tight spot and that color will fix things.\""),e(a).createElement("p",null,"\"You're free to go either way, but I'd be really grateful if you could leave me your color.\""),e(a).createElement("p",null,e(a).createElement("strong",null,"Leave your name color behind?")),e(a).createElement("button",{id:"dull-door-agree",onClick:()=>{t(Gt(null)),t(nn())}},"Agree"),e(a).createElement("button",{id:"dull-door-agree",onClick:()=>{t(nn())}},"Leave")):e(a).createElement("div",null,e(a).createElement("h1",null,"You see a very, very bored Octopode sitting in a cubicle."),e(a).createElement("p",null,'It\'s poking unenthusiastically at his computer with four of his tentacles and eating his lunch with the rest. It looks very tired. You wave to catch its attention, and it glances over at you. You can see it trying to muster some effort for a greeting, but then it sighs and sinks into its seat. "I\'m sorry," it says, "these reports were due two days ago. I don\'t have the time or energy to chat."'),e(a).createElement("p",null,"You leave it to its reports."))}a=o("6Ti1v");const ko=()=>{const t=e(a).useContext(Xf);return e(a).createElement("div",{id:"full-room-index-div",className:"feature-room-view"},e(a).createElement("button",{id:"full-room-index-button",onClick:()=>{t(tn(ln.FeatureFullRoomIndex))}},"Read the book"))};function So(t){return e(a).createElement("div",null,e(a).createElement("h1",null,"Unerring Teleport"),e(a).createElement("p",null,"Verbal elements - either the True Name of the destination, the two common names of the destination, or the name of the destination from an adjoining location (which can only be known from that destination, and is colored in green for whatever reason). The name must exact, but the volume of the incantation is irrelevant."),e(a).createElement("p",null,"Somatic elements - /go or /move"),e(a).createElement("p",null,"Material components - none"),e(a).createElement("p",null,"This spell will take you to whichever place you wish, hidden or not. The only issue is that the names of the hidden places are obscured by dark magics. I, the Great Wizard Teleportus, have researched long and hard, and at last produced a complete list of all the room in this space. Bow before my awesome intelligence!"),e(a).createElement("p",null,"Examples:"),e(a).createElement("ul",null,e(a).createElement("li",{key:"example-0"},e(a).createElement("em",null,"/go hiddenPortalRoom")," utilizes the true name to return here"),e(a).createElement("li",{key:"example-1"},e(a).createElement("em",null,"/move leap into the shimmering portal")," utilizes the name of the destination ('leap into the shimmering portal') from the adjacent room (here)"),e(a).createElement("li",{key:"example-2"},e(a).createElement("em",null,"/move Unconferencing: Sokoban")," utilizes the first common name"),e(a).createElement("li",{key:"example-3"},e(a).createElement("em",null,"/go the artists' atelier")," utilizes the second common name")),e(a).createElement("table",null,e(a).createElement("tbody",null,e(a).createElement("tr",null,e(a).createElement("th",{key:"common-1-header"},"common (first)"),e(a).createElement("th",{key:"common-2-header"},"common (second)"),e(a).createElement("th",{key:"true-header"},"true")),t.rooms.map((t=>e(a).createElement("tr",{key:t.id},e(a).createElement("td",{key:`common-1-${t.id}`},t.name),e(a).createElement("td",{key:`common-2-${t.id}`},t.shortName),e(a).createElement("td",{key:`true-${t.id}`},t.id)))))))}const Mo={generateFood:()=>{!async function(e){await hi("pickUpItem",{list:e})}("vendingMachineFood")},pickUpPuppy:()=>{oi("a tiny puppy")},drinkPolymorph:()=>{ci(Ut(),"/get colourful potion")},drinkCancellation:()=>{ci(Ut(),"/get clear potion")},getFortune:()=>{ci(Ut(),"/get fortune cookie")},readPoster:()=>{ai("motivationPosters")},readClosedSign:()=>{ai("closedSigns")}};a=o("6Ti1v");const Eo=e=>{throw Error("Not Implemented")},Co=e(a=o("6Ti1v")).createContext({prepareForMediaChat:async()=>console.log("Not implemented"),prepareMediaDevices:async()=>console.log("Not implemented"),publishMedia:()=>console.log("Not implemented"),publishAudio:()=>console.log("Not implemented"),unpublishMedia:()=>console.log("Not implemented"),publishingCamera:!1,publishingMic:!1,cameras:[],mics:[],setCurrentCamera:Eo,setCurrentMic:Eo,currentMic:void 0,currentCamera:void 0,localStreamView:e(a).createElement("div"),joinCall:Eo,leaveCall:()=>console.log("Not implemented"),callParticipants:void 0,cameraEnabled:!1,micEnabled:!1,setCameraEnabled:e=>console.log("Not implemented"),setMicEnabled:e=>console.log("Not implemented")}),xo=()=>a.useContext(Co);function To(e){const t=a.useContext(Xf),{prepareForMediaChat:n,currentMic:i,currentCamera:r,publishingCamera:o,publishingMic:s,joinCall:u,publishMedia:c,publishAudio:l,unpublishMedia:h}=xo(),{room:f}=e;a.useEffect((()=>{f&&!f.noMediaChat&&(e.keepCameraWhenMoving||m(),n(),u(e.room.id,e.keepCameraWhenMoving))}),[e.room.id]);const d=async()=>{i||r?c():t(tn(ln.MediaSelector))},p=async()=>{var e,n;i?l():t((e=ln.MediaSelector,n={hideVideo:!0},{type:Bt.ShowModalWithOptions,value:{modal:e,options:n}}))},m=()=>{t(Zt()),h()},v=()=>{t(tn(ln.NoteWall))},g=()=>{t(tn(ln.MediaSelector))};let b,y;if(f&&f.hasNoteWall&&(b=f.noteWallData?a.createElement("div",null,f.noteWallData.roomWallDescription," ",a.createElement("button",{onClick:v},f.noteWallData.noteWallButton)):a.createElement("div",null,"One of the walls has space for attendees to put up sticky notes."," ",a.createElement("button",{onClick:v},"View note wall"))),f&&!f.noMediaChat)if(e.inMediaChat){let e="";o&&s?e="Turn off Camera and Mic":o?e="Turn off Camera":s&&(e="Turn off Mic"),y=a.createElement(a.Fragment,null,a.createElement("button",{onClick:m,id:"join-video-chat"},e),a.createElement("button",{key:"show-media-selector",id:"big-reconfigure-media-selector",onClick:g,className:"link-styled-button video-button","aria-label":"Show Media Selector"},a.createElement(Qr,null)))}else y=[a.createElement("button",{key:"join-video",onClick:d,id:"join-video-chat"},"Join Video + Audio"),a.createElement("button",{key:"join-audio",onClick:p,id:"join-video-chat"},"Join Audio"),a.createElement("button",{key:"show-media-selector",id:"big-reconfigure-media-selector",onClick:g,className:"link-styled-button video-button","aria-label":"Show Media Selector"},a.createElement(Qr,null))];return a.createElement("div",{id:"room"},a.createElement("h1",{id:"room-name"},f?f.name:"Loading...",y),a.createElement("div",{id:"static-room-description",onClick:e=>{const t=e.target&&e.target.getAttribute&&e.target.getAttribute("data-room");if(t)return void ui(t);const n=e.target&&e.target.getAttribute&&e.target.getAttribute("data-item");n&&oi(n);const i=e.target&&e.target.getAttribute&&e.target.getAttribute("data-action");i&&Mo[i]()},dangerouslySetInnerHTML:{__html:f?Oo(f.description,e.roomData):"Loading current room..."}}),f&&"theater"===f.id?a.createElement(Po,null):null,f&&f.specialFeatures&&f.specialFeatures.includes(ho.RainbowDoor)?a.createElement(bo,null):"",f&&f.specialFeatures&&f.specialFeatures.includes(ho.DullDoor)?a.createElement(wo,null):"",f&&f.specialFeatures&&f.specialFeatures.includes(ho.FullRoomIndex)?a.createElement(ko,null):"",f?a.createElement(Ao,{users:f.users,userId:e.userId,videoUsers:f.videoUsers,roomId:f.id}):"",b)}const Io=()=>{const{userMap:e,myId:t}=a.useContext($f),n=e[t];return n.item?a.createElement("span",null,"You are holding ",n.item,"."," ",a.createElement("button",{className:"link-styled-button",onClick:()=>{!async function(){await hi("pickUpItem",{drop:!0})}()}},"Drop it"),"."):null},Ao=e=>{const{userMap:t,myId:n}=a.useContext($f);let{users:i,userId:r,videoUsers:o}=e;if(i&&r&&(i=i.filter((e=>e!==r))),i){let n;if(0===i.length)return a.createElement("div",{id:"dynamic-room-description"},"You are all alone here. ",a.createElement(Io,null));if("theater"===e.roomId)return a.createElement("div",{id:"dynamic-room-description"},"There are ",i.length," other people sitting in here.");const r=i.map(((e,n)=>{const i=t[e];if(!i)return a.createElement("span",null);const r=`presence-${n}`;return a.createElement("span",{key:`room-presence-${r}`},a.createElement(Hr,{userId:e,id:r,key:r}),o&&o.includes(e)?a.createElement(no,null):null,i.item?` (holding ${i.item})`:null)}));return n=1===i.length?r[0]:2===i.length?a.createElement("span",null,r[0]," and ",r[1]):a.createElement("span",null,(s=r.slice(0,i.length-1),u=", ",0===s.length?[]:s.slice(1).reduce((function(e,t,n){return e.concat([u,t])}),[s[0]])),", and"," ",r[r.length-1]),a.createElement("div",{id:"dynamic-room-description"},"Also here ",1===i.length?"is":"are"," ",n,". ",a.createElement(Io,null))}return a.createElement("div",{id:"dynamic-room-description"});var s,u};function Oo(e,t){return e=(e=e.replace(/\[\[([^\]]*?)\-\>([^\]]*?)\]\]/g,((e,n,i)=>{const r=t[i];if("item"===i)return`<a class='room-link' href='#' data-item='${n}'>${n}</a>`;if(r){return`<a class='room-link' href='#' data-room='${i}'>${n}${r&&r.users&&r.users.length>0?` (${r.users.length})`:""}</a>`}if(Mo[i])return`<a class='room-link' href='#' data-action='${i}'>${n}</a>`;console.log(`Dev warning: tried to link to room ${i}, which doesn't exist`)}))).replace(/\[\[(.+?)\]\]/g,((e,n)=>{const i=t[n];i||console.log(`Dev warning: tried to link to room ${n}, which doesn't exist`);return`<a class='room-link' href='#' data-room='${n}'>${n}${i&&i.users&&i.users.length>0?` (${i.users.length})`:""}</a>`}))}function Po(){const e=a.useRef(null),t=a.useRef(null);return a.createElement("div",{id:"iframes",style:{margin:"auto"}},a.createElement("iframe",{width:"560",title:"stream",ref:e,height:"315",src:"https://www.youtube.com/embed/live_stream?channel=UCKv_QzXft4mD6TXmQBZtzIA",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),a.createElement("iframe",{id:"captions",title:"captions",ref:t,width:"560",height:"100",src:"https://www.streamtext.net/player/?event=RoguelikeCelebration&chat=false&header=false&footer=false&indicator=false&ff=Consolas&fgc=93a1a1",frameBorder:"0",allow:"autoplay; encrypted-media;",allowFullScreen:!0}))}a=o("6Ti1v"),a=o("6Ti1v");var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});var Do={};Object.defineProperty(Do,"__esModule",{value:!0});var jo=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Lo=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a=o("6Ti1v")),No={};Object.defineProperty(No,"__esModule",{value:!0});var Bo=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a=o("6Ti1v"));No.default=function(e,t,n){return Bo.createElement("a",{href:e,key:n},t)};var Fo=sa(No),Uo={};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.default=function(e){return e};var zo=sa(Uo),qo={};Object.defineProperty(qo,"__esModule",{value:!0});function Ho(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function Vo(e){return Object.prototype.toString.call(e)}function Wo(e){return"[object Function]"===Vo(e)}function Ko(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var Go={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var Yo={"http:":{validate:function(e,t,n){var i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},Zo="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Jo(e){var t=e.re=o("4KzKK")(e.__opts__),n=e.__tlds__.slice();function i(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");var r=[];function a(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===Vo(n))return!function(e){return"[object RegExp]"===Vo(e)}(n.validate)?Wo(n.validate)?i.validate=n.validate:a(t,n):i.validate=function(e){return function(t,n){var i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}(n.validate),void(Wo(n.normalize)?i.normalize=n.normalize:n.normalize?a(t,n):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Vo(e)}(n)?a(t,n):r.push(t)}})),r.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var s=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(Ko).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Xo(e,t){var n=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=r,this.text=r,this.url=r}function $o(e,t){var n=new Xo(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Qo(e,t){if(!(this instanceof Qo))return new Qo(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||Go.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=Ho({},Go,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ho({},Yo,e),this.__compiled__={},this.__tlds__=Zo,this.__tlds_replaced__=!1,this.re={},Jo(this)}o.register("4KzKK",(function(e,t){"use strict";e.exports=function(e){var t={};t.src_Any=o("1NQQc").source,t.src_Cc=o("6cqwU").source,t.src_Z=o("2IcUM").source,t.src_P=o("5M8aG").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}})),o.register("1NQQc",(function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/})),o.register("6cqwU",(function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/})),o.register("2IcUM",(function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/})),o.register("5M8aG",(function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/})),Qo.prototype.add=function(e,t){return this.__schemas__[e]=t,Jo(this),this},Qo.prototype.set=function(e){return this.__opts__=Ho(this.__opts__,e),this},Qo.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,i,r,o,a,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(r=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},Qo.prototype.pretest=function(e){return this.re.pretest.test(e)},Qo.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Qo.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push($o(this,t)),t=this.__last_index__);for(var i=t?e.slice(t):e;this.test(i);)n.push($o(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},Qo.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),Jo(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Jo(this),this)},Qo.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Qo.prototype.onCompile=function(){};var ea=na(Qo),ta=na(JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","","","","","","","","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]'));function na(e){return e&&e.__esModule?e:{default:e}}var ia=new ea.default;ia.tlds(ta.default),qo.default=function(e){return ia.match(e)};var ra=sa(qo),oa={};Object.defineProperty(oa,"__esModule",{value:!0}),oa.default=function(e){return e};var aa=sa(oa);function sa(e){return e&&e.__esModule?e:{default:e}}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var la=function(e){function t(){return ua(this,t),ca(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),jo(t,[{key:"parseString",value:function(e){var t=this;if(""===e)return e;var n=this.props.matchDecorator(e);if(!n)return e;var i=[],r=0;return n.forEach((function(n,o){n.index>r&&i.push(e.substring(r,n.index));var a=t.props.hrefDecorator(n.url),s=t.props.textDecorator(n.text),u=t.props.componentDecorator(a,s,o);i.push(u),r=n.lastIndex})),e.length>r&&i.push(e.substring(r)),1===i.length?i[0]:i}},{key:"parse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e?this.parseString(e):Lo.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?Lo.cloneElement(e,{key:n},this.parse(e.props.children)):Array.isArray(e)?e.map((function(e,n){return t.parse(e,n)})):e}},{key:"render",value:function(){return Lo.createElement(Lo.Fragment,null,this.parse(this.props.children))}}]),t}(Lo.Component);la.defaultProps={componentDecorator:Fo.default,hrefDecorator:zo.default,matchDecorator:ra.default,textDecorator:aa.default},Do.default=la;var ha,fa,da=(ha=Do)&&ha.__esModule?ha:{default:ha};function pa(e){return[fa.Chat,fa.Emote,fa.Shout,fa.Dance,fa.Caption].includes(e.type)}Ro.default=da.default,function(e){e.Connected="CONNECTED",e.Disconnected="DISCONNECTED",e.Entered="ENTERED",e.Left="LEFT",e.MovedRoom="MOVED",e.SameRoom="SAME",e.Chat="CHAT",e.Whisper="WHISPER",e.Shout="SHOUT",e.Emote="EMOTE",e.Dance="DANCE",e.Mod="MOD",e.Error="ERROR",e.Command="COMMAND",e.Caption="CAPTION"}(fa||(fa={}));const ma=(e,t,n)=>({type:fa.Chat,messageId:e,userId:t,message:n,timestamp:new Date}),va=(e,t,n)=>({type:fa.Caption,messageId:e,userId:t,message:n,timestamp:new Date}),ga=(e,t,n=!1)=>({type:fa.Whisper,userId:e,message:t,senderIsSelf:n,timestamp:new Date}),ba=e=>({type:fa.Error,error:e,timestamp:new Date}),ya=e=>({type:fa.Command,command:e,timestamp:new Date}),wa=new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"});function _a(t){const{message:n}=t;if(!n)return e(a).createElement("div",null);const i={[fa.Connected]:Ea,[fa.Disconnected]:Ca,[fa.Entered]:xa,[fa.Left]:Ta,[fa.MovedRoom]:Ia,[fa.SameRoom]:Aa,[fa.Chat]:Oa,[fa.Whisper]:Ra,[fa.Shout]:ja,[fa.Emote]:La,[fa.Dance]:Na,[fa.Caption]:Pa,[fa.Error]:Ba,[fa.Mod]:Da,[fa.Command]:Fa}[n.type];if(!i)return console.log("Unexpected message type",n.type),e(a).createElement("div",null);const r="string"==typeof n.timestamp?new Date(n.timestamp):n.timestamp;return e(a).createElement("div",{className:"message-wrapper"},e(a).createElement("div",{className:`time ${t.hideTimestamp?"show-on-hover":null}`},wa.format(r)),e(a).createElement(i,{...n,id:t.id}))}const ka=(e,t)=>{confirm(`Are you sure you would like to delete the message '${t.message}'?`)&&async function(e){await hi("deleteMessage",{messageId:e})}(t.messageId)},Sa=(t,n,i)=>e(a).createElement("a",{href:t,key:i,target:"_blank",rel:"noopener noreferrer"},n),Ma=t=>{const{userMap:n,myId:i}=a.useContext($f);return n[i]&&n[i].isMod?e(a).createElement(e(Ro),{componentDecorator:Sa},e(a).createElement("span",{className:"deleteMenu"},e(a).createElement(nr,{id:t.messageId,mouseButton:2,renderTag:"span"},t.children),e(a).createElement(Xi,{id:t.messageId},e(a).createElement(Ui,{data:{messageId:t.messageId,message:t.children},onClick:ka},"Delete Message?")),e(a).createElement(qr,null))):e(a).createElement(e(Ro),{componentDecorator:Sa},t.children)},Ea=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{userId:t.userId,id:t.id})," has connected."),Ca=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{userId:t.userId,id:t.id})," has disconnected."),xa=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{userId:t.userId,id:t.id})," has entered from"," ",e(a).createElement("button",{onClick:()=>{ui(t.fromId)},className:"link-styled-button"},t.fromName,".")),Ta=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{id:t.id,userId:t.userId})," has wandered off to"," ",e(a).createElement("button",{onClick:()=>{ui(t.toId)},className:"link-styled-button"},t.toName,".")),Ia=t=>e(a).createElement("div",{className:"message"},"You have moved to ",t.to,"."),Aa=t=>e(a).createElement("div",{className:"message"},"You are already in ",t.roomId,"."),Oa=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{userId:t.userId,id:t.id}),": ",e(a).createElement(Ma,{messageId:t.messageId},t.message)),Pa=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{userId:t.userId,id:t.id})," (spoken): ",e(a).createElement(Ma,{messageId:t.messageId},t.message)),Ra=t=>{a.useContext(Xf);const n=()=>{li(t.userId)};return t.senderIsSelf?e(a).createElement("div",{className:"whisper",onClick:n},"You whisper to ",e(a).createElement(Hr,{id:t.id,userId:t.userId}),":"," ",t.message):e(a).createElement("div",{className:"whisper",onClick:n},e(a).createElement(Hr,{userId:t.userId,id:t.id})," whispers:"," ",t.message)},Da=t=>t.senderIsSelf?e(a).createElement("div",{className:"message"},e(a).createElement("em",null,e(a).createElement("strong",null,"You")," said to the ",e(a).createElement("strong",null,"mod team"),":"," ",t.message,e(a).createElement("br",null),"Someone from the ",e(a).createElement("strong",null,"mod team")," will be in touch soon.")):e(a).createElement("div",{className:"message"},e(a).createElement("em",null,e(a).createElement("span",{role:"img","aria-label":"red exclamation point"},""),e(a).createElement(Hr,{userId:t.userId,id:t.id})," says to the"," ",e(a).createElement("strong",null,"mods"),":",t.message,e(a).createElement("span",{role:"img","aria-label":"red exclamation point"},""))),ja=t=>e(a).createElement("div",{className:"message"},e(a).createElement(Hr,{userId:t.userId,id:t.id})," shouts: ",e(a).createElement(Ma,{messageId:t.messageId},t.message)),La=t=>e(a).createElement("div",{className:"message"},e(a).createElement("em",null,e(a).createElement(Hr,{userId:t.userId,id:t.id})," ",e(a).createElement(Ma,{messageId:t.messageId},t.message))),Na=t=>e(a).createElement("div",{className:"message"},e(a).createElement("em",null,e(a).createElement(Hr,{userId:t.userId,id:t.id})," ",e(a).createElement("span",{dangerouslySetInnerHTML:{__html:t.message}}))),Ba=t=>e(a).createElement("div",{className:"error"},t.error),Fa=t=>e(a).createElement("div",{className:"message"},e(a).createElement("em",null,e(a).createElement("span",{dangerouslySetInnerHTML:{__html:t.command}})));function Ua(t){const n=a.useContext(Xf);function i(e){return((n=e).type===fa.Connected||n.type===fa.Disconnected||n.type===fa.Entered||n.type===fa.Left)&&(t.serverSettings.movementMessagesHideRoomIds.includes(e.roomId)||e.numUsersInRoom>t.serverSettings.movementMessagesHideThreshold);var n}e(a).useEffect((()=>{const e=document.querySelector("#messages .message-wrapper:last-of-type");e&&t.autoscrollChat&&(e.parentNode.scrollTop=e.offsetTop-e.parentNode.offsetTop)}));const r=t.messages.filter((e=>!i(e)));return e(a).createElement("div",{id:"messages",onScroll:()=>{const e=document.querySelector("#messages"),i=e.scrollHeight===e.scrollTop+e.clientHeight;i&&!t.autoscrollChat?n({type:Bt.ActivateAutoscroll}):!i&&t.autoscrollChat&&n({type:Bt.DeactivateAutoscroll})}},r.slice(-150).reverse().map(((n,i)=>{let r=!1;const o=t.messages[i+1];if(o&&o.userId&&n.userId&&o.userId===n.userId){Math.abs(new Date(n.timestamp).getTime()-new Date(o.timestamp).getTime())<18e4&&(r=!0)}const s=`message-${i}`;return e(a).createElement(_a,{message:n,key:s,id:s,hideTimestamp:r})})))}a=o("6Ti1v");var za={};function qa(t){a.useContext(Xf);const[n,i]=a.useState(""),r=()=>{t.sendMessage(n),i("")};return a.useEffect((()=>{document.getElementById("chat-input").focus(),t.prepopulated&&i(t.prepopulated)}),[t.prepopulated]),e(a).createElement("div",{id:"input"},e(a).createElement("input",{type:"text",id:"chat-input",onChange:e=>{const t=za.emojify(e.currentTarget.value);i(t)},onKeyPress:e=>{"Enter"===e.key&&r()},value:n,"aria-label":"Chat text input box",autoComplete:"off"}),e(a).createElement("button",{id:"send",onClick:r},"Send"))}o.register("3qoO9",(function(e,t){var n=o("6yvnz"),i=o("4Zcy9"),r=/:([a-zA-Z0-9_\-\+]+):/g,a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function s(e){var t=e.indexOf(":");return t>-1?t===e.length-1?s(e=e.substring(0,t)):s(e=e.substr(t+1)):e}function u(e){return"string"==typeof e&&e.length>0?":"+e+":":e}var c=String.fromCharCode(65039),l=new RegExp(c,"g");function h(e){return e.replace(l,"")}var f=Object.keys(i).reduce((function(e,t){return e[h(i[t])]=t,e}),{}),d={emoji:i};d._get=function(e){return i.hasOwnProperty(e)?i[e]:"string"==typeof(t=e)&&":"!==t[0]?u(t):t;var t},d.get=function(e){return e=s(e),d._get(e)},d.find=function(e){return d.findByName(e)||d.findByCode(e)},d.findByName=function(e){var t=s(e),n=i[t];return n?{emoji:n,key:t}:void 0},d.findByCode=function(e){var t=h(e),n=f[t];return n?{emoji:i[n],key:n}:void 0},d.hasEmoji=function(e){return d.hasEmojiByName(e)||d.hasEmojiByCode(e)},d.hasEmojiByName=function(e){var t=d.findByName(e);return!!t&&t.key===s(e)},d.hasEmojiByCode=function(e){var t=d.findByCode(e);return!!t&&h(t.emoji)===h(e)},d.which=function(e,t){var n=h(e),i=f[n];return t?u(i):i},d.emojify=function(e,t,n){return e?e.split(r).map((function(e,i){if(i%2==0)return e;var r=d._get(e),o=r.indexOf(":")>-1;return o&&"function"==typeof t?t(e):o||"function"!=typeof n?r:n(r,e)})).join(""):""},d.random=function(){var e=Object.keys(i),t=e[Math.floor(Math.random()*e.length)];return{key:t,emoji:d._get(t)}},d.search=function(e){var t=Object.keys(i),n=s(e);return t.filter((function(e){return 0===e.toString().indexOf(n)})).map((function(e){return{key:e,emoji:d._get(e)}}))},d.unemojify=function(e){return e?n(e).map((function(e){return d.which(e,!0)||e})).join(""):""},d.replace=function(e,t,i){if(!e)return"";var r="function"==typeof t?t:function(){return t},o=n(e),s=o.map((function(e,t){var n=d.findByCode(e);return n&&i&&" "===o[t+1]&&(o[t+1]=""),n?r(n):e})).join("");return i?s.replace(a,""):s},d.strip=function(e){return d.replace(e,"",!0)},e.exports=d})),o.register("6yvnz",(function(e,t){var i=9007199254740991,r="[object Arguments]",o="[object Map]",a="[object Promise]",s="[object Set]",u="[object WeakMap]",c="[object DataView]",l=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,f="[\\ud800-\\udfff]",d="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",p="[^\\ud800-\\udfff]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",g="(?:"+d+"|"+"\\ud83c[\\udffb-\\udfff])"+"?",b="[\\ufe0e\\ufe0f]?",y=b+g+("(?:\\u200d(?:"+[p,m,v].join("|")+")"+b+g+")*"),w="(?:"+[p+d+"?",d,m,v,f].join("|")+")",_=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+w+y,"g"),k=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),S="object"==typeof n&&n&&n.Object===Object&&n,M="object"==typeof self&&self&&self.Object===Object&&self,E=S||M||Function("return this")();function C(e,t){return function(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}(t,(function(t){return e[t]}))}function x(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function I(e){return function(e){return k.test(e)}(e)?function(e){return e.match(_)||[]}(e):function(e){return e.split("")}(e)}var A,O,P,R=Function.prototype,D=Object.prototype,j=E["__core-js_shared__"],L=(A=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",N=R.toString,B=D.hasOwnProperty,F=D.toString,U=RegExp("^"+N.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=E.Symbol,q=z?z.iterator:void 0,H=D.propertyIsEnumerable,V=(O=Object.keys,P=Object,function(e){return O(P(e))}),W=re(E,"DataView"),K=re(E,"Map"),G=re(E,"Promise"),Y=re(E,"Set"),Z=re(E,"WeakMap"),J=se(W),X=se(K),$=se(G),Q=se(Y),ee=se(Z);function te(e,t){var n=ue(e)||function(e){return function(e){return fe(e)&&ce(e)}(e)&&B.call(e,"callee")&&(!H.call(e,"callee")||F.call(e)==r)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!B.call(e,a)||o&&("length"==a||ae(a,i))||n.push(a);return n}function ne(e){return!(!he(e)||function(e){return!!L&&L in e}(e))&&(le(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?U:l).test(se(e))}function ie(e){if(n=(t=e)&&t.constructor,i="function"==typeof n&&n.prototype||D,t!==i)return V(e);var t,n,i,r=[];for(var o in Object(e))B.call(e,o)&&"constructor"!=o&&r.push(o);return r}function re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ne(n)?n:void 0}var oe=function(e){return F.call(e)};function ae(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||h.test(e))&&e>-1&&e%1==0&&e<t}function se(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(W&&oe(new W(new ArrayBuffer(1)))!=c||K&&oe(new K)!=o||G&&oe(G.resolve())!=a||Y&&oe(new Y)!=s||Z&&oe(new Z)!=u)&&(oe=function(e){var t=F.call(e),n="[object Object]"==t?e.constructor:void 0,i=n?se(n):void 0;if(i)switch(i){case J:return c;case X:return o;case $:return a;case Q:return s;case ee:return u}return t});var ue=Array.isArray;function ce(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!le(e)}function le(e){var t=he(e)?F.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function he(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function fe(e){return!!e&&"object"==typeof e}function de(e){return e?C(e,function(e){return ce(e)?te(e):ie(e)}(e)):[]}e.exports=function(e){if(!e)return[];if(ce(e))return function(e){return"string"==typeof e||!ue(e)&&fe(e)&&"[object String]"==F.call(e)}(e)?I(e):function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e);if(q&&e[q])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[q]());var t=oe(e);return(t==o?x:t==s?T:de)(e)}})),o.register("4Zcy9",(function(e,t){e.exports=JSON.parse('{"100":"","1234":"","umbrella_with_rain_drops":"","coffee":"","aries":"","taurus":"","sagittarius":"","capricorn":"","aquarius":"","pisces":"","anchor":"","white_check_mark":"","sparkles":"","question":"","grey_question":"","grey_exclamation":"","exclamation":"","heavy_exclamation_mark":"","heavy_plus_sign":"","heavy_minus_sign":"","heavy_division_sign":"","hash":"#","keycap_star":"*","zero":"0","one":"1","two":"2","three":"3","four":"4","five":"5","six":"6","seven":"7","eight":"8","nine":"9","copyright":"","registered":"","mahjong":"","black_joker":"","a":"","b":"","o2":"","parking":"","ab":"","cl":"","cool":"","free":"","id":"","new":"","ng":"","ok":"","sos":"","up":"","vs":"","flag-ac":"","flag-ad":"","flag-ae":"","flag-af":"","flag-ag":"","flag-ai":"","flag-al":"","flag-am":"","flag-ao":"","flag-aq":"","flag-ar":"","flag-as":"","flag-at":"","flag-au":"","flag-aw":"","flag-ax":"","flag-az":"","flag-ba":"","flag-bb":"","flag-bd":"","flag-be":"","flag-bf":"","flag-bg":"","flag-bh":"","flag-bi":"","flag-bj":"","flag-bl":"","flag-bm":"","flag-bn":"","flag-bo":"","flag-bq":"","flag-br":"","flag-bs":"","flag-bt":"","flag-bv":"","flag-bw":"","flag-by":"","flag-bz":"","flag-ca":"","flag-cc":"","flag-cd":"","flag-cf":"","flag-cg":"","flag-ch":"","flag-ci":"","flag-ck":"","flag-cl":"","flag-cm":"","cn":"","flag-cn":"","flag-co":"","flag-cp":"","flag-cr":"","flag-cu":"","flag-cv":"","flag-cw":"","flag-cx":"","flag-cy":"","flag-cz":"","de":"","flag-de":"","flag-dg":"","flag-dj":"","flag-dk":"","flag-dm":"","flag-do":"","flag-dz":"","flag-ea":"","flag-ec":"","flag-ee":"","flag-eg":"","flag-eh":"","flag-er":"","es":"","flag-es":"","flag-et":"","flag-eu":"","flag-fi":"","flag-fj":"","flag-fk":"","flag-fm":"","flag-fo":"","fr":"","flag-fr":"","flag-ga":"","gb":"","uk":"","flag-gb":"","flag-gd":"","flag-ge":"","flag-gf":"","flag-gg":"","flag-gh":"","flag-gi":"","flag-gl":"","flag-gm":"","flag-gn":"","flag-gp":"","flag-gq":"","flag-gr":"","flag-gs":"","flag-gt":"","flag-gu":"","flag-gw":"","flag-gy":"","flag-hk":"","flag-hm":"","flag-hn":"","flag-hr":"","flag-ht":"","flag-hu":"","flag-ic":"","flag-id":"","flag-ie":"","flag-il":"","flag-im":"","flag-in":"","flag-io":"","flag-iq":"","flag-ir":"","flag-is":"","it":"","flag-it":"","flag-je":"","flag-jm":"","flag-jo":"","jp":"","flag-jp":"","flag-ke":"","flag-kg":"","flag-kh":"","flag-ki":"","flag-km":"","flag-kn":"","flag-kp":"","kr":"","flag-kr":"","flag-kw":"","flag-ky":"","flag-kz":"","flag-la":"","flag-lb":"","flag-lc":"","flag-li":"","flag-lk":"","flag-lr":"","flag-ls":"","flag-lt":"","flag-lu":"","flag-lv":"","flag-ly":"","flag-ma":"","flag-mc":"","flag-md":"","flag-me":"","flag-mf":"","flag-mg":"","flag-mh":"","flag-mk":"","flag-ml":"","flag-mm":"","flag-mn":"","flag-mo":"","flag-mp":"","flag-mq":"","flag-mr":"","flag-ms":"","flag-mt":"","flag-mu":"","flag-mv":"","flag-mw":"","flag-mx":"","flag-my":"","flag-mz":"","flag-na":"","flag-nc":"","flag-ne":"","flag-nf":"","flag-ng":"","flag-ni":"","flag-nl":"","flag-no":"","flag-np":"","flag-nr":"","flag-nu":"","flag-nz":"","flag-om":"","flag-pa":"","flag-pe":"","flag-pf":"","flag-pg":"","flag-ph":"","flag-pk":"","flag-pl":"","flag-pm":"","flag-pn":"","flag-pr":"","flag-ps":"","flag-pt":"","flag-pw":"","flag-py":"","flag-qa":"","flag-re":"","flag-ro":"","flag-rs":"","ru":"","flag-ru":"","flag-rw":"","flag-sa":"","flag-sb":"","flag-sc":"","flag-sd":"","flag-se":"","flag-sg":"","flag-sh":"","flag-si":"","flag-sj":"","flag-sk":"","flag-sl":"","flag-sm":"","flag-sn":"","flag-so":"","flag-sr":"","flag-ss":"","flag-st":"","flag-sv":"","flag-sx":"","flag-sy":"","flag-sz":"","flag-ta":"","flag-tc":"","flag-td":"","flag-tf":"","flag-tg":"","flag-th":"","flag-tj":"","flag-tk":"","flag-tl":"","flag-tm":"","flag-tn":"","flag-to":"","flag-tr":"","flag-tt":"","flag-tv":"","flag-tw":"","flag-tz":"","flag-ua":"","flag-ug":"","flag-um":"","flag-un":"","us":"","flag-us":"","flag-uy":"","flag-uz":"","flag-va":"","flag-vc":"","flag-ve":"","flag-vg":"","flag-vi":"","flag-vn":"","flag-vu":"","flag-wf":"","flag-ws":"","flag-xk":"","flag-ye":"","flag-yt":"","flag-za":"","flag-zm":"","flag-zw":"","koko":"","sa":"","u7121":"","u6307":"","u7981":"","u7a7a":"","u5408":"","u6e80":"","u6709":"","u6708":"","u7533":"","u5272":"","u55b6":"","ideograph_advantage":"","accept":"","cyclone":"","foggy":"","closed_umbrella":"","night_with_stars":"","sunrise_over_mountains":"","sunrise":"","city_sunset":"","city_sunrise":"","rainbow":"","bridge_at_night":"","ocean":"","volcano":"","milky_way":"","earth_africa":"","earth_americas":"","earth_asia":"","globe_with_meridians":"","new_moon":"","waxing_crescent_moon":"","first_quarter_moon":"","moon":"","waxing_gibbous_moon":"","full_moon":"","waning_gibbous_moon":"","last_quarter_moon":"","waning_crescent_moon":"","crescent_moon":"","new_moon_with_face":"","first_quarter_moon_with_face":"","last_quarter_moon_with_face":"","full_moon_with_face":"","sun_with_face":"","star2":"","stars":"","thermometer":"","mostly_sunny":"","sun_small_cloud":"","barely_sunny":"","sun_behind_cloud":"","partly_sunny_rain":"","sun_behind_rain_cloud":"","rain_cloud":"","snow_cloud":"","lightning":"","lightning_cloud":"","tornado":"","tornado_cloud":"","fog":"","wind_blowing_face":"","hotdog":"","taco":"","burrito":"","chestnut":"","seedling":"","evergreen_tree":"","deciduous_tree":"","palm_tree":"","cactus":"","hot_pepper":"","tulip":"","cherry_blossom":"","rose":"","hibiscus":"","sunflower":"","blossom":"","corn":"","ear_of_rice":"","herb":"","four_leaf_clover":"","maple_leaf":"","fallen_leaf":"","leaves":"","mushroom":"","tomato":"","eggplant":"","grapes":"","melon":"","watermelon":"","tangerine":"","lemon":"","banana":"","pineapple":"","apple":"","green_apple":"","pear":"","peach":"","cherries":"","strawberry":"","hamburger":"","pizza":"","meat_on_bone":"","poultry_leg":"","rice_cracker":"","rice_ball":"","rice":"","curry":"","ramen":"","spaghetti":"","bread":"","fries":"","sweet_potato":"","dango":"","oden":"","sushi":"","fried_shrimp":"","fish_cake":"","icecream":"","shaved_ice":"","ice_cream":"","doughnut":"","cookie":"","chocolate_bar":"","candy":"","lollipop":"","custard":"","honey_pot":"","cake":"","bento":"","stew":"","fried_egg":"","cooking":"","fork_and_knife":"","tea":"","sake":"","wine_glass":"","cocktail":"","tropical_drink":"","beer":"","beers":"","baby_bottle":"","knife_fork_plate":"","champagne":"","popcorn":"","ribbon":"","gift":"","birthday":"","jack_o_lantern":"","christmas_tree":"","santa":"","fireworks":"","sparkler":"","balloon":"","tada":"","confetti_ball":"","tanabata_tree":"","crossed_flags":"","bamboo":"","dolls":"","flags":"","wind_chime":"","rice_scene":"","school_satchel":"","mortar_board":"","medal":"","reminder_ribbon":"","studio_microphone":"","level_slider":"","control_knobs":"","film_frames":"","admission_tickets":"","carousel_horse":"","ferris_wheel":"","roller_coaster":"","fishing_pole_and_fish":"","microphone":"","movie_camera":"","cinema":"","headphones":"","art":"","tophat":"","circus_tent":"","ticket":"","clapper":"","performing_arts":"","video_game":"","dart":"","slot_machine":"","8ball":"","game_die":"","bowling":"","flower_playing_cards":"","musical_note":"","notes":"","saxophone":"","guitar":"","musical_keyboard":"","trumpet":"","violin":"","musical_score":"","running_shirt_with_sash":"","tennis":"","ski":"","basketball":"","checkered_flag":"","snowboarder":"","woman-running":"","man-running":"","runner":"","running":"","woman-surfing":"","man-surfing":"","surfer":"","sports_medal":"","trophy":"","horse_racing":"","football":"","rugby_football":"","woman-swimming":"","man-swimming":"","swimmer":"","woman-lifting-weights":"","man-lifting-weights":"","weight_lifter":"","woman-golfing":"","man-golfing":"","golfer":"","racing_motorcycle":"","racing_car":"","cricket_bat_and_ball":"","volleyball":"","field_hockey_stick_and_ball":"","ice_hockey_stick_and_puck":"","table_tennis_paddle_and_ball":"","snow_capped_mountain":"","camping":"","beach_with_umbrella":"","building_construction":"","house_buildings":"","cityscape":"","derelict_house_building":"","classical_building":"","desert":"","desert_island":"","national_park":"","stadium":"","house":"","house_with_garden":"","office":"","post_office":"","european_post_office":"","hospital":"","bank":"","atm":"","hotel":"","love_hotel":"","convenience_store":"","school":"","department_store":"","factory":"","izakaya_lantern":"","lantern":"","japanese_castle":"","european_castle":"","rainbow-flag":"","waving_white_flag":"","flag-england":"","flag-scotland":"","flag-wales":"","waving_black_flag":"","rosette":"","label":"","badminton_racquet_and_shuttlecock":"","bow_and_arrow":"","amphora":"","skin-tone-2":"","skin-tone-3":"","skin-tone-4":"","skin-tone-5":"","skin-tone-6":"","rat":"","mouse2":"","ox":"","water_buffalo":"","cow2":"","tiger2":"","leopard":"","rabbit2":"","cat2":"","dragon":"","crocodile":"","whale2":"","snail":"","snake":"","racehorse":"","ram":"","goat":"","sheep":"","monkey":"","rooster":"","chicken":"","dog2":"","pig2":"","boar":"","elephant":"","octopus":"","shell":"","bug":"","ant":"","bee":"","honeybee":"","beetle":"","fish":"","tropical_fish":"","blowfish":"","turtle":"","hatching_chick":"","baby_chick":"","hatched_chick":"","bird":"","penguin":"","koala":"","poodle":"","dromedary_camel":"","camel":"","dolphin":"","flipper":"","mouse":"","cow":"","tiger":"","rabbit":"","cat":"","dragon_face":"","whale":"","horse":"","monkey_face":"","dog":"","pig":"","frog":"","hamster":"","wolf":"","bear":"","panda_face":"","pig_nose":"","feet":"","paw_prints":"","chipmunk":"","eyes":"","eye-in-speech-bubble":"","eye":"","ear":"","nose":"","lips":"","tongue":"","point_up_2":"","point_down":"","point_left":"","point_right":"","facepunch":"","punch":"","wave":"","ok_hand":"","+1":"","thumbsup":"","-1":"","thumbsdown":"","clap":"","open_hands":"","crown":"","womans_hat":"","eyeglasses":"","necktie":"","shirt":"","tshirt":"","jeans":"","dress":"","kimono":"","bikini":"","womans_clothes":"","purse":"","handbag":"","pouch":"","mans_shoe":"","shoe":"","athletic_shoe":"","high_heel":"","sandal":"","boot":"","footprints":"","bust_in_silhouette":"","busts_in_silhouette":"","boy":"","girl":"","male-farmer":"","male-cook":"","male-student":"","male-singer":"","male-artist":"","male-teacher":"","male-factory-worker":"","man-boy-boy":"","man-boy":"","man-girl-boy":"","man-girl-girl":"","man-girl":"","man-man-boy":"","man-man-boy-boy":"","man-man-girl":"","man-man-girl-boy":"","man-man-girl-girl":"","man-woman-boy":"","family":"","man-woman-boy-boy":"","man-woman-girl":"","man-woman-girl-boy":"","man-woman-girl-girl":"","male-technologist":"","male-office-worker":"","male-mechanic":"","male-scientist":"","male-astronaut":"","male-firefighter":"","male-doctor":"","male-judge":"","male-pilot":"","man-heart-man":"","man-kiss-man":"","man":"","female-farmer":"","female-cook":"","female-student":"","female-singer":"","female-artist":"","female-teacher":"","female-factory-worker":"","woman-boy-boy":"","woman-boy":"","woman-girl-boy":"","woman-girl-girl":"","woman-girl":"","woman-woman-boy":"","woman-woman-boy-boy":"","woman-woman-girl":"","woman-woman-girl-boy":"","woman-woman-girl-girl":"","female-technologist":"","female-office-worker":"","female-mechanic":"","female-scientist":"","female-astronaut":"","female-firefighter":"","female-doctor":"","female-judge":"","female-pilot":"","woman-heart-man":"","couple_with_heart":"","woman-heart-woman":"","woman-kiss-man":"","couplekiss":"","woman-kiss-woman":"","woman":"","couple":"","man_and_woman_holding_hands":"","two_men_holding_hands":"","two_women_holding_hands":"","female-police-officer":"","male-police-officer":"","cop":"","woman-with-bunny-ears-partying":"","dancers":"","man-with-bunny-ears-partying":"","bride_with_veil":"","blond-haired-woman":"","blond-haired-man":"","person_with_blond_hair":"","man_with_gua_pi_mao":"","woman-wearing-turban":"","man-wearing-turban":"","man_with_turban":"","older_man":"","older_woman":"","baby":"","female-construction-worker":"","male-construction-worker":"","construction_worker":"","princess":"","japanese_ogre":"","japanese_goblin":"","ghost":"","angel":"","alien":"","space_invader":"","imp":"","skull":"","woman-tipping-hand":"","information_desk_person":"","man-tipping-hand":"","female-guard":"","male-guard":"","guardsman":"","dancer":"","lipstick":"","nail_care":"","woman-getting-massage":"","massage":"","man-getting-massage":"","woman-getting-haircut":"","haircut":"","man-getting-haircut":"","barber":"","syringe":"","pill":"","kiss":"","love_letter":"","ring":"","gem":"","bouquet":"","wedding":"","heartbeat":"","broken_heart":"","two_hearts":"","sparkling_heart":"","heartpulse":"","cupid":"","blue_heart":"","green_heart":"","yellow_heart":"","purple_heart":"","gift_heart":"","revolving_hearts":"","heart_decoration":"","diamond_shape_with_a_dot_inside":"","bulb":"","anger":"","bomb":"","zzz":"","boom":"","collision":"","sweat_drops":"","droplet":"","dash":"","hankey":"","poop":"","shit":"","muscle":"","dizzy":"","speech_balloon":"","thought_balloon":"","white_flower":"","moneybag":"","currency_exchange":"","heavy_dollar_sign":"","credit_card":"","yen":"","dollar":"","euro":"","pound":"","money_with_wings":"","chart":"","seat":"","computer":"","briefcase":"","minidisc":"","floppy_disk":"","cd":"","dvd":"","file_folder":"","open_file_folder":"","page_with_curl":"","page_facing_up":"","date":"","calendar":"","card_index":"","chart_with_upwards_trend":"","chart_with_downwards_trend":"","bar_chart":"","clipboard":"","pushpin":"","round_pushpin":"","paperclip":"","straight_ruler":"","triangular_ruler":"","bookmark_tabs":"","ledger":"","notebook":"","notebook_with_decorative_cover":"","closed_book":"","book":"","open_book":"","green_book":"","blue_book":"","orange_book":"","books":"","name_badge":"","scroll":"","memo":"","pencil":"","telephone_receiver":"","pager":"","fax":"","satellite_antenna":"","loudspeaker":"","mega":"","outbox_tray":"","inbox_tray":"","package":"","e-mail":"","incoming_envelope":"","envelope_with_arrow":"","mailbox_closed":"","mailbox":"","mailbox_with_mail":"","mailbox_with_no_mail":"","postbox":"","postal_horn":"","newspaper":"","iphone":"","calling":"","vibration_mode":"","mobile_phone_off":"","no_mobile_phones":"","signal_strength":"","camera":"","camera_with_flash":"","video_camera":"","tv":"","radio":"","vhs":"","film_projector":"","prayer_beads":"","twisted_rightwards_arrows":"","repeat":"","repeat_one":"","arrows_clockwise":"","arrows_counterclockwise":"","low_brightness":"","high_brightness":"","mute":"","speaker":"","sound":"","loud_sound":"","battery":"","electric_plug":"","mag":"","mag_right":"","lock_with_ink_pen":"","closed_lock_with_key":"","key":"","lock":"","unlock":"","bell":"","no_bell":"","bookmark":"","link":"","radio_button":"","back":"","end":"","on":"","soon":"","top":"","underage":"","keycap_ten":"","capital_abcd":"","abcd":"","symbols":"","abc":"","fire":"","flashlight":"","wrench":"","hammer":"","nut_and_bolt":"","hocho":"","knife":"","gun":"","microscope":"","telescope":"","crystal_ball":"","six_pointed_star":"","beginner":"","trident":"","black_square_button":"","white_square_button":"","red_circle":"","large_blue_circle":"","large_orange_diamond":"","large_blue_diamond":"","small_orange_diamond":"","small_blue_diamond":"","small_red_triangle":"","small_red_triangle_down":"","arrow_up_small":"","arrow_down_small":"","om_symbol":"","dove_of_peace":"","kaaba":"","mosque":"","synagogue":"","menorah_with_nine_branches":"","clock1":"","clock2":"","clock3":"","clock4":"","clock5":"","clock6":"","clock7":"","clock8":"","clock9":"","clock10":"","clock11":"","clock12":"","clock130":"","clock230":"","clock330":"","clock430":"","clock530":"","clock630":"","clock730":"","clock830":"","clock930":"","clock1030":"","clock1130":"","clock1230":"","candle":"","mantelpiece_clock":"","hole":"","man_in_business_suit_levitating":"","female-detective":"","male-detective":"","sleuth_or_spy":"","dark_sunglasses":"","spider":"","spider_web":"","joystick":"","man_dancing":"","linked_paperclips":"","lower_left_ballpoint_pen":"","lower_left_fountain_pen":"","lower_left_paintbrush":"","lower_left_crayon":"","raised_hand_with_fingers_splayed":"","middle_finger":"","reversed_hand_with_middle_finger_extended":"","spock-hand":"","black_heart":"","desktop_computer":"","printer":"","three_button_mouse":"","trackball":"","frame_with_picture":"","card_index_dividers":"","card_file_box":"","file_cabinet":"","wastebasket":"","spiral_note_pad":"","spiral_calendar_pad":"","compression":"","old_key":"","rolled_up_newspaper":"","dagger_knife":"","speaking_head_in_silhouette":"","left_speech_bubble":"","right_anger_bubble":"","ballot_box_with_ballot":"","world_map":"","mount_fuji":"","tokyo_tower":"","statue_of_liberty":"","japan":"","moyai":"","grinning":"","grin":"","joy":"","smiley":"","smile":"","sweat_smile":"","laughing":"","satisfied":"","innocent":"","smiling_imp":"","wink":"","blush":"","yum":"","relieved":"","heart_eyes":"","sunglasses":"","smirk":"","neutral_face":"","expressionless":"","unamused":"","sweat":"","pensive":"","confused":"","confounded":"","kissing":"","kissing_heart":"","kissing_smiling_eyes":"","kissing_closed_eyes":"","stuck_out_tongue":"","stuck_out_tongue_winking_eye":"","stuck_out_tongue_closed_eyes":"","disappointed":"","worried":"","angry":"","rage":"","cry":"","persevere":"","triumph":"","disappointed_relieved":"","frowning":"","anguished":"","fearful":"","weary":"","sleepy":"","tired_face":"","grimacing":"","sob":"","open_mouth":"","hushed":"","cold_sweat":"","scream":"","astonished":"","flushed":"","sleeping":"","dizzy_face":"","no_mouth":"","mask":"","smile_cat":"","joy_cat":"","smiley_cat":"","heart_eyes_cat":"","smirk_cat":"","kissing_cat":"","pouting_cat":"","crying_cat_face":"","scream_cat":"","slightly_frowning_face":"","slightly_smiling_face":"","upside_down_face":"","face_with_rolling_eyes":"","woman-gesturing-no":"","no_good":"","man-gesturing-no":"","woman-gesturing-ok":"","ok_woman":"","man-gesturing-ok":"","woman-bowing":"","man-bowing":"","bow":"","see_no_evil":"","hear_no_evil":"","speak_no_evil":"","woman-raising-hand":"","raising_hand":"","man-raising-hand":"","raised_hands":"","woman-frowning":"","person_frowning":"","man-frowning":"","woman-pouting":"","person_with_pouting_face":"","man-pouting":"","pray":"","rocket":"","helicopter":"","steam_locomotive":"","railway_car":"","bullettrain_side":"","bullettrain_front":"","train2":"","metro":"","light_rail":"","station":"","tram":"","train":"","bus":"","oncoming_bus":"","trolleybus":"","busstop":"","minibus":"","ambulance":"","fire_engine":"","police_car":"","oncoming_police_car":"","taxi":"","oncoming_taxi":"","car":"","red_car":"","oncoming_automobile":"","blue_car":"","truck":"","articulated_lorry":"","tractor":"","monorail":"","mountain_railway":"","suspension_railway":"","mountain_cableway":"","aerial_tramway":"","ship":"","woman-rowing-boat":"","man-rowing-boat":"","rowboat":"","speedboat":"","traffic_light":"","vertical_traffic_light":"","construction":"","rotating_light":"","triangular_flag_on_post":"","door":"","no_entry_sign":"","smoking":"","no_smoking":"","put_litter_in_its_place":"","do_not_litter":"","potable_water":"","non-potable_water":"","bike":"","no_bicycles":"","woman-biking":"","man-biking":"","bicyclist":"","woman-mountain-biking":"","man-mountain-biking":"","mountain_bicyclist":"","woman-walking":"","man-walking":"","walking":"","no_pedestrians":"","children_crossing":"","mens":"","womens":"","restroom":"","baby_symbol":"","toilet":"","wc":"","shower":"","bath":"","bathtub":"","passport_control":"","customs":"","baggage_claim":"","left_luggage":"","couch_and_lamp":"","sleeping_accommodation":"","shopping_bags":"","bellhop_bell":"","bed":"","place_of_worship":"","octagonal_sign":"","shopping_trolley":"","hammer_and_wrench":"","shield":"","oil_drum":"","motorway":"","railway_track":"","motor_boat":"","small_airplane":"","airplane_departure":"","airplane_arriving":"","satellite":"","passenger_ship":"","scooter":"","motor_scooter":"","canoe":"","sled":"","flying_saucer":"","zipper_mouth_face":"","money_mouth_face":"","face_with_thermometer":"","nerd_face":"","thinking_face":"","face_with_head_bandage":"","robot_face":"","hugging_face":"","the_horns":"","sign_of_the_horns":"","call_me_hand":"","raised_back_of_hand":"","left-facing_fist":"","right-facing_fist":"","handshake":"","crossed_fingers":"","hand_with_index_and_middle_fingers_crossed":"","i_love_you_hand_sign":"","face_with_cowboy_hat":"","clown_face":"","nauseated_face":"","rolling_on_the_floor_laughing":"","drooling_face":"","lying_face":"","woman-facepalming":"","man-facepalming":"","face_palm":"","sneezing_face":"","face_with_raised_eyebrow":"","face_with_one_eyebrow_raised":"","star-struck":"","grinning_face_with_star_eyes":"","zany_face":"","grinning_face_with_one_large_and_one_small_eye":"","shushing_face":"","face_with_finger_covering_closed_lips":"","face_with_symbols_on_mouth":"","serious_face_with_symbols_covering_mouth":"","face_with_hand_over_mouth":"","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"","face_vomiting":"","face_with_open_mouth_vomiting":"","exploding_head":"","shocked_face_with_exploding_head":"","pregnant_woman":"","breast-feeding":"","palms_up_together":"","selfie":"","prince":"","man_in_tuxedo":"","mrs_claus":"","mother_christmas":"","woman-shrugging":"","man-shrugging":"","shrug":"","woman-cartwheeling":"","man-cartwheeling":"","person_doing_cartwheel":"","woman-juggling":"","man-juggling":"","juggling":"","fencer":"","woman-wrestling":"","man-wrestling":"","wrestlers":"","woman-playing-water-polo":"","man-playing-water-polo":"","water_polo":"","woman-playing-handball":"","man-playing-handball":"","handball":"","wilted_flower":"","drum_with_drumsticks":"","clinking_glasses":"","tumbler_glass":"","spoon":"","goal_net":"","first_place_medal":"","second_place_medal":"","third_place_medal":"","boxing_glove":"","martial_arts_uniform":"","curling_stone":"","croissant":"","avocado":"","cucumber":"","bacon":"","potato":"","carrot":"","baguette_bread":"","green_salad":"","shallow_pan_of_food":"","stuffed_flatbread":"","egg":"","glass_of_milk":"","peanuts":"","kiwifruit":"","pancakes":"","dumpling":"","fortune_cookie":"","takeout_box":"","chopsticks":"","bowl_with_spoon":"","cup_with_straw":"","coconut":"","broccoli":"","pie":"","pretzel":"","cut_of_meat":"","sandwich":"","canned_food":"","crab":"","lion_face":"","scorpion":"","turkey":"","unicorn_face":"","eagle":"","duck":"","bat":"","shark":"","owl":"","fox_face":"","butterfly":"","deer":"","gorilla":"","lizard":"","rhinoceros":"","shrimp":"","squid":"","giraffe_face":"","zebra_face":"","hedgehog":"","sauropod":"","t-rex":"","cricket":"","cheese_wedge":"","face_with_monocle":"","adult":"","child":"","older_adult":"","bearded_person":"","person_with_headscarf":"","woman_in_steamy_room":"","man_in_steamy_room":"","person_in_steamy_room":"","woman_climbing":"","person_climbing":"","man_climbing":"","woman_in_lotus_position":"","person_in_lotus_position":"","man_in_lotus_position":"","female_mage":"","mage":"","male_mage":"","female_fairy":"","fairy":"","male_fairy":"","female_vampire":"","vampire":"","male_vampire":"","mermaid":"","merman":"","merperson":"","female_elf":"","male_elf":"","elf":"","female_genie":"","male_genie":"","genie":"","female_zombie":"","male_zombie":"","zombie":"","brain":"","orange_heart":"","billed_cap":"","scarf":"","gloves":"","coat":"","socks":"","bangbang":"","interrobang":"","tm":"","information_source":"","left_right_arrow":"","arrow_up_down":"","arrow_upper_left":"","arrow_upper_right":"","arrow_lower_right":"","arrow_lower_left":"","leftwards_arrow_with_hook":"","arrow_right_hook":"","watch":"","hourglass":"","keyboard":"","eject":"","fast_forward":"","rewind":"","arrow_double_up":"","arrow_double_down":"","black_right_pointing_double_triangle_with_vertical_bar":"","black_left_pointing_double_triangle_with_vertical_bar":"","black_right_pointing_triangle_with_double_vertical_bar":"","alarm_clock":"","stopwatch":"","timer_clock":"","hourglass_flowing_sand":"","double_vertical_bar":"","black_square_for_stop":"","black_circle_for_record":"","m":"","black_small_square":"","white_small_square":"","arrow_forward":"","arrow_backward":"","white_medium_square":"","black_medium_square":"","white_medium_small_square":"","black_medium_small_square":"","sunny":"","cloud":"","umbrella":"","snowman":"","comet":"","phone":"","telephone":"","ballot_box_with_check":"","shamrock":"","point_up":"","skull_and_crossbones":"","radioactive_sign":"","biohazard_sign":"","orthodox_cross":"","star_and_crescent":"","peace_symbol":"","yin_yang":"","wheel_of_dharma":"","white_frowning_face":"","relaxed":"","female_sign":"","male_sign":"","gemini":"","cancer":"","leo":"","virgo":"","libra":"","scorpius":"","spades":"","clubs":"","hearts":"","diamonds":"","hotsprings":"","recycle":"","wheelchair":"","hammer_and_pick":"","crossed_swords":"","medical_symbol":"","staff_of_aesculapius":"","scales":"","alembic":"","gear":"","atom_symbol":"","fleur_de_lis":"","warning":"","zap":"","white_circle":"","black_circle":"","coffin":"","funeral_urn":"","soccer":"","baseball":"","snowman_without_snow":"","partly_sunny":"","thunder_cloud_and_rain":"","ophiuchus":"","pick":"","helmet_with_white_cross":"","chains":"","no_entry":"","shinto_shrine":"","church":"","mountain":"","umbrella_on_ground":"","fountain":"","golf":"","ferry":"","boat":"","sailboat":"","skier":"","ice_skate":"","woman-bouncing-ball":"","man-bouncing-ball":"","person_with_ball":"","tent":"","fuelpump":"","scissors":"","airplane":"","email":"","envelope":"","fist":"","hand":"","raised_hand":"","v":"","writing_hand":"","pencil2":"","black_nib":"","heavy_check_mark":"","heavy_multiplication_x":"","latin_cross":"","star_of_david":"","eight_spoked_asterisk":"","eight_pointed_black_star":"","snowflake":"","sparkle":"","x":"","negative_squared_cross_mark":"","heavy_heart_exclamation_mark_ornament":"","heart":"","arrow_right":"","curly_loop":"","loop":"","arrow_heading_up":"","arrow_heading_down":"","arrow_left":"","arrow_up":"","arrow_down":"","black_large_square":"","white_large_square":"","star":"","o":"","wavy_dash":"","part_alternation_mark":"","congratulations":"","secret":""}')})),za=o("3qoO9");const Ha=(e,t,n,i)=>({type:e,description:t,invocations:n,singleParameter:i});var Va,Wa;(Wa=Va||(Va={})).Help="HELP",Wa.Move="MOVE",Wa.Whisper="WHISPER",Wa.Shout="SHOUT",Wa.Emote="EMOTE",Wa.Dance="DANCE",Wa.Interact="INTERACT",Wa.ContactMod="CONTACT_MOD",Wa.Look="LOOK";const Ka=[Ha(Va.Help,"Lists the available commands",["/help"],!0),Ha(Va.Move,"Move from one room to another. You can also click on the link in the room description.",["/go","/move"],!1),Ha(Va.Whisper,"Whisper another user. You can also click directly on their name and select the whisper option.",["/whisper"],!1),Ha(Va.Shout,"Sends a message to everybody at once - has a 5 minute cooldown. Do not abuse this!",["/shout"],!1),Ha(Va.Emote,"Like a normal message, but in italics!",["/emote","/me"],!1),Ha(Va.Dance,"Bust a move!",["/dance"],!0),Ha(Va.ContactMod,"Sends a message to the mod team. We will be in touch shortly afterwards.",["/mod","/mods","/moderator","/moderators"],!1),Ha(Va.Look,"View the profile of another user. You can also click on their name and select the Profile option.",["/look"],!1),Ha(Va.Interact,"Interact with or get something in a room by referencing the name in the description - experiment as you explore!",["/interact","/get"],!1)];go=o("4mTIe");console.log(fn.FIREBASE_CONFIG);const Ga={firebaseApp:Xn.initializeApp(fn.FIREBASE_CONFIG),authenticated:!1,checkedAuthentication:!1,hasRegistered:!1,messages:[],whispers:[],autoscrollChat:!0,userMap:{},roomData:{},inMediaChat:!1,dominantSpeakerData:{dominantSpeakerId:null},activeModal:ln.None,activeModalOptions:{},isBanned:!1,serverSettings:{movementMessagesHideThreshold:20,movementMessagesHideRoomIds:["theater"],happeningNowEntries:[],spaceIsClosed:!1}};var Ya=(e,t)=>{console.log("In reducer",t);const n=JSON.parse(JSON.stringify(e));if(n.prepopulatedInput=void 0,t.type===Bt.ReceivedMyProfile&&(n.profileData=t.value),t.type===Bt.ReceivedServerSettings&&(n.serverSettings=t.value),t.type===Bt.UpdatedCurrentRoom){const e=n.roomId;if(n.roomId=t.value,"entryway"===n.roomId&&(n.activeModal=ln.Welcome),n.roomData&&n.roomData[t.value]){const r=n.roomData[t.value];n.roomId!==e?Za(n,(i=r.shortName,{type:fa.MovedRoom,to:i,timestamp:new Date})):Za(n,(e=>({type:fa.SameRoom,roomId:e,timestamp:new Date}))(r.shortName))}}var i,r,o,a,s;if(t.type===Bt.UpdatedRoomData&&(n.roomData={...n.roomData,...t.value}),t.type===Bt.UpdatedPresence&&Object.keys(t.value).forEach((e=>{n.roomData[e]&&(n.roomData[e].users=t.value[e])})),t.type===Bt.PlayerConnected){const e=t.value,i=n.roomData[n.roomId];i.users.includes(e.id)||(i.users.push(e.id),Za(n,(r=e.id,o=n.roomId,a=i.users.length,{type:fa.Connected,userId:r,roomId:o,numUsersInRoom:a,timestamp:new Date}))),n.userMap[e.id]=e}if(t.type===Bt.PlayerDisconnected){const e=n.roomData[n.roomId];e.users=e.users.filter((e=>e!==t.value)),Za(n,((e,t,n)=>({type:fa.Disconnected,userId:e,roomId:t,numUsersInRoom:n,timestamp:new Date}))(t.value,n.roomId,e.users.length))}if(t.type===Bt.PlayerEntered){const e=n.roomData[n.roomId];e.users.includes(t.value.name)||(e.users.push(t.value.name),Za(n,((e,t,n,i,r)=>({type:fa.Entered,userId:e,fromId:t,fromName:n,roomId:i,numUsersInRoom:r,timestamp:new Date}))(t.value.name,t.value.fromId,t.value.fromName,n.roomId,e.users.length)))}if(t.type===Bt.PlayerLeft){const e=n.roomData[n.roomId];e.users=e.users.filter((e=>e!==t.value.name)),Za(n,((e,t,n,i,r)=>({type:fa.Left,userId:e,toId:t,toName:n,roomId:i,numUsersInRoom:r,timestamp:new Date}))(t.value.name,t.value.toId,t.value.toName,n.roomId,e.users.length))}if(t.type===Bt.ChatMessage&&Za(n,ma(t.value.messageId,t.value.name,t.value.message)),t.type===Bt.CaptionMessage&&Za(n,va(t.value.messageId,t.value.name,t.value.message)),t.type===Bt.Whisper){const e=ga(t.value.name,t.value.message);Za(n,e),async function(e,t){e.whispers.push(t),go.setWhispers(e.whispers)}(n,e)}if(t.type===Bt.ModMessage&&Za(n,((e,t,n=!1)=>({type:fa.Mod,userId:e,message:t,senderIsSelf:n,timestamp:new Date}))(t.value.name,t.value.message,t.value.name===n.userId)),t.type===Bt.DeleteMessage&&function(e,t){const n=e.messages.find((e=>pa(e)&&e.messageId===t));pa(n)&&(n.message="message was removed by moderator",go.setMessages(e.messages))}(n,t.value.targetMessageId),t.type===Bt.Shout&&Za(n,((e,t,n)=>({type:fa.Shout,messageId:e,userId:t,message:n,timestamp:new Date}))(t.value.messageId,t.value.name,t.value.message)),t.type===Bt.Emote&&Za(n,((e,t,n)=>({type:fa.Emote,messageId:e,userId:t,message:n,timestamp:new Date}))(t.value.messageId,t.value.name,t.value.message)),t.type===Bt.Dance&&Za(n,((e,t,n)=>({type:fa.Dance,messageId:e,userId:t,message:n,timestamp:new Date}))(t.value.messageId,t.value.name,t.value.message)),t.type===Bt.UserMap&&(n.userMap={...n.userMap,...t.value},n.visibleProfile&&n.userMap[n.visibleProfile.id]&&li(n.visibleProfile.id)),t.type===Bt.PlayerBanned&&(t.value.id===n.userId?n.isBanned=!0:(n.userMap[t.value.id].isBanned=!0,Za(n,ba("User "+t.value.username+" was banned!")))),t.type===Bt.PlayerUnbanned&&(n.userMap[t.value.id]&&(n.userMap[t.value.id].isBanned=!1),Za(n,ba("User "+t.value.username+" was unbanned!"))),t.type===Bt.UpdateProfileColor&&(n.userMap[n.userId].nameColor=t.color,t.color?Za(n,ba("Your name color was changed to "+t.color)):Za(n,ba("Your name color has changed back to its original state.")),async function(e,t){await hi("updateProfileColor",{userId:e,color:t})}(n.userId,t.color)),t.type===Bt.Error&&Za(n,ba(t.value)),t.type===Bt.MediaReceivedSpeakingData&&(n.dominantSpeakerData.dominantSpeakerId=t.value),t.type===Bt.StartVideoChat&&(n.inMediaChat=!0),t.type===Bt.StopVideoChat&&(n.inMediaChat=!1),t.type===Bt.SendMessage){const e=Ut(),i=t.value.trim(),r=/^\/.+?/.exec(i),o=r?(s=i,Ka.find((e=>e.invocations.find((t=>e.singleParameter?s.startsWith(t):s.startsWith(t+" ")))))):void 0;if(i.length>cn)Za(n,ba("Your message is too long! Please try to keep it under ~600 characters!"));else if(i.split(" ").find((e=>e.length>60)))Za(n,ba("Your message has a word that is too long! Please keep it under 60 characters!"));else if(r&&void 0===o){const e=/^(\/.+?) (.+)/.exec(i);Za(n,ba(`Your command ${e?e[1]:t.value} is not a registered slash command!`))}else if(r&&o.type===Va.Whisper){const t=/^(\/.+?) (.+)/.exec(i),r=/^(.+?) (.+)/.exec(t[2]);if(r){ci(e,i);const[t,o,a]=r,s=Object.values(n.userMap).find((e=>e.username===o)),u=s&&s.id;if(u){const e=ga(u,a,!0);Za(n,e)}}else Za(n,ba(`Your whisper to ${t[2]} had no message!`))}else if(r&&o.type===Va.Help)n.activeModal=ln.Help,Za(n,ya("You consult the help docs. (You can also find them in sidebar!)"));else if(r&&o.type===Va.Look){const t=/^(\/.+?) (.+)/.exec(i);Za(n,ya(`You attempt to examine ${t[2]}. (You can also click on their username and select Profile!)`)),ci(e,i)}else r?ci(e,i):(ci(e,t.value),Za(n,ma(e,n.userId,t.value)))}if(t.type===Bt.SendCaption){const e=Ut();!async function(e,t){if(t.length>cn)return void console.log("Sorry, can't send messages over 631 characters!");const n=await hi("sendCaption",{id:e,text:t});console.log(n),n&&n.error&&ti(Xt(n.error))}(e,t.value),Za(n,va(e,n.userId,t.value))}if(t.type===Bt.StartWhisper&&(n.prepopulatedInput=`/whisper ${t.value} `),t.type===Bt.HideModalAction&&(n.activeModal=ln.None),t.type===Bt.ShowProfile&&(n.visibleProfile=t.value),t.type===Bt.HideProfile&&(n.visibleProfile=null),t.type===Bt.ShowModal&&(n.activeModal=t.value,n.activeModalOptions={}),t.type===Bt.ShowModalWithOptions&&(console.log("Showing",t),n.activeModal=t.value.modal,n.activeModalOptions=t.value.options),t.type===Bt.ShowSideMenu&&(n.mobileSideMenuIsVisible=!0),t.type===Bt.HideSideMenu&&(n.mobileSideMenuIsVisible=!1),t.type===Bt.DeactivateAutoscroll&&(n.autoscrollChat=!1),t.type===Bt.ActivateAutoscroll&&(n.autoscrollChat=!0),t.type===Bt.SetKeepCameraWhenMoving&&(n.keepCameraWhenMoving=t.value,go.setKeepCameraWhenMoving(t.value)),t.type===Bt.Authenticate&&(n.checkedAuthentication=!0,n.authenticationProvider=t.value.provider,n.mustVerifyEmail=t.value.mustVerifyEmail,t.value.userId&&t.value.name?(n.authenticated=!0,n.userId=t.value.userId,n.userMap[t.value.userId]={id:t.value.userId,username:t.value.name}):(n.authenticated=void 0,n.userId=void 0)),t.type===Bt.IsRegistered&&(n.hasRegistered=!0),t.type===Bt.BanToggle&&async function(e){await hi("banUser",{userId:e})}(t.value),t.type===Bt.ModToggle&&async function(e){await hi("toggleModStatus",{userId:e})}(t.value),t.type===Bt.LoadMessageArchive&&(n.messages=t.messages,n.whispers=t.whispers),t.type===Bt.NoteAdd){const e=n.roomData&&n.roomData[t.value.roomId];e.hasNoteWall&&(e.notes||(e.notes=[]),e.notes.push(t.value.note))}if(t.type===Bt.NoteRemove){const e=n.roomData&&n.roomData[t.value.roomId];e.hasNoteWall&&(e.notes||(e.notes=[]),e.notes=e.notes.filter((e=>e.id!==t.value.noteId)))}if(t.type===Bt.NoteUpdateLikes){const e=n.roomData&&n.roomData[t.value.roomId];if(e.hasNoteWall){e.notes||(e.notes=[]);const n=e.notes.find((e=>e.id===t.value.noteId));n&&(n.likes=t.value.likes)}}if(t.type===Bt.NoteUpdateRoom){const e=n.roomData&&n.roomData[t.value.roomId];e.hasNoteWall&&(e.notes=t.value.notes)}if(t.type===Bt.SpaceIsClosed&&(n.isClosed=!0),t.type===Bt.SpaceOpenedOrClosed&&(n.userMap[n.userId].isMod?(n.isClosed=t.value,Za(n,ya("The space is now "+(t.value?"closed":"open")))):window.location.reload()),t.type===Bt.CommandMessage){const e=ya(t.value);Za(n,e)}return n};async function Za(e,t){e.messages.push(t),e.messages=e.messages.slice(-500),go.setMessages(e.messages)}a=o("6Ti1v");const Ja=t=>{const{otherUser:n}=t;return t.senderIsSelf?e(a).createElement("div",{className:"whisper-message"},e(a).createElement("em",null,"You:"," ",t.message)):e(a).createElement("div",{className:"whisper-message"},e(a).createElement("em",null,e(a).createElement("span",{"data-tip":n&&n.pronouns},n.username),":"," ",t.message,e(a).createElement(qr,null)))};function Xa(t){const{user:n,whispers:i}=t,r=a.useContext(Xf);e(a).useEffect((()=>{const e=document.querySelector("#chat .whisper-message:last-of-type");e&&(e.parentNode.scrollTop=e.offsetTop-e.parentNode.offsetTop)}));const o=(i||[]).filter(((e,t)=>e.userId===n.id)),s=n.realName?e(a).createElement("div",{id:"profile-realName"},n.realName):null,u=n.twitterHandle?e(a).createElement("div",{id:"profile-twitter"},e(a).createElement("strong",null,"Twitter"),":"," ",e(a).createElement("a",{href:`https://twitter.com/${n.twitterHandle}`,target:"_blank",rel:"noreferrer"},"@",n.twitterHandle)):null,c=n.url?e(a).createElement("div",{id:"profile-url"},e(a).createElement("strong",null,"Web Site"),":"," ",n.url):null,l=n.description?e(a).createElement("div",{id:"profile-description"},n.description):null,h=n.askMeAbout?e(a).createElement("div",{id:"profile-askme"},e(a).createElement("strong",null,"Ask me about:")," ",n.askMeAbout):null;return e(a).createElement(e(Ro),{componentDecorator:(t,n,i)=>e(a).createElement("a",{href:t,key:i,target:"_blank",rel:"noopener noreferrer"},n)},e(a).createElement("div",{id:"profile"},e(a).createElement("div",{className:"fixed"},e(a).createElement("div",{id:"header"},e(a).createElement("h2",{className:n.isMod?"mod":""},e(a).createElement(Hr,{userId:n.id,id:`profile-nameview-${n.id}`})),e(a).createElement("button",{className:"close-profile",onClick:()=>r({type:Bt.HideProfile})},"X")),e(a).createElement("p",null,s,e(a).createElement("div",{id:"profile-pronouns"},n.pronouns),l),n.item?e(a).createElement("p",null,n.username," is currently holding ",n.item):null,e(a).createElement("p",null,u,c,h),e(a).createElement("div",{id:"chat-container"},e(a).createElement("div",{id:"chat-header"},"Whisper Chat"),e(a).createElement("div",{id:"chat"},o.length>0?o.map(((t,i)=>{const r=`whisper-message-${i}`;return e(a).createElement(Ja,{...t,key:r,id:r,otherUser:n})})):e(a).createElement("em",null,`This is the beginning of your whisper chat with ${n.username}`)),e(a).createElement(qa,{sendMessage:e=>r(Qt(`/whisper ${n.username} ${e}`))})))))}a=o("6Ti1v");a=o("6Ti1v"),a=o("6Ti1v");function $a(t){const n=a.useContext(Xf),{localStreamView:i,setMicEnabled:r,setCameraEnabled:o,cameraEnabled:s,micEnabled:u}=xo();return i?e(a).createElement("div",{className:"my-video"},"You",i,t.hideUI?"":e(a).createElement("div",null,e(a).createElement("button",{id:"send-video",onClick:e=>{o(!s)},className:"link-styled-button video-button "+(s?"enabled":"disabled"),"aria-label":"Toggle Video"},s?e(a).createElement(no,null):e(a).createElement(to,null)),e(a).createElement("button",{id:"send-audio",onClick:e=>{r(!u)},className:"link-styled-button video-button "+(u?"enabled":"disabled"),"aria-label":"Toggle Audio"},u?e(a).createElement(ro,null):e(a).createElement(io,null)),e(a).createElement("button",{id:"show-media-selector",onClick:()=>{n(tn(ln.MediaSelector))},className:"link-styled-button video-button","aria-label":"Show Media Selector"},e(a).createElement(Qr,null)))):null}a=o("6Ti1v"),a=o("6Ti1v"),a=o("6Ti1v"),a=o("6Ti1v");a=o("6Ti1v");function Qa({track:e}){const t=a.useRef();return a.useEffect((()=>(t.current=e.attach(),t.current.setAttribute("data-cy-audio-track-name",e.name),document.body.appendChild(t.current),()=>e.detach().forEach((e=>e.remove())))),[e]),null}a=o("6Ti1v"),a=o("6Ti1v");a=o("6Ti1v");function es({track:t,isLocal:n,priority:i}){const r=a.useRef(null),o=function(e){const[t,n]=a.useState(e?.mediaStreamTrack);return a.useEffect((()=>{if(n(e?.mediaStreamTrack),e){const t=()=>{console.log("Set media stream track!"),n(e.mediaStreamTrack)};return e.on("started",t),()=>{e.off("started",t)}}}),[e]),t}(t),s=function(e){const[t,n]=a.useState(e?.dimensions);return a.useEffect((()=>{if(n(e?.dimensions),e){const t=e=>n({width:e.dimensions.width,height:e.dimensions.height});return e.on("dimensionsChanged",t),()=>{e.off("dimensionsChanged",t)}}}),[e]),t}(t),u=(s?.height??0)>(s?.width??0);console.log("Rendering videotrack",t),a.useEffect((()=>{const e=r.current;return e.muted=!0,t.setPriority&&i&&t.setPriority(i),t.attach(e),()=>{t.detach(e),t.setPriority&&i&&t.setPriority(null)}}),[t,i,o]);const c="environment"!==o?.getSettings().facingMode,l={transform:n&&c?"rotateY(180deg)":"",objectFit:u||t.name.includes("screen")?"contain":"cover"};return e(a).createElement("video",{ref:r,style:l})}function ts({publication:t,isLocalParticipant:n,videoOnly:i,videoPriority:r}){const o=function(e){const[t,n]=a.useState(e&&e.track);return a.useEffect((()=>{if(n(e&&e.track),e){const t=()=>n(null);return e.on("subscribed",n),e.on("unsubscribed",t),()=>{e.off("subscribed",n),e.off("unsubscribed",t)}}}),[e]),t}(t);if(!o)return null;switch(o.kind){case"video":return e(a).createElement(es,{track:o,priority:r,isLocal:o.name.includes("camera")&&n});case"audio":return i?null:e(a).createElement(Qa,{track:o});default:return null}}a=o("6Ti1v");function ns({participant:t,displayVideo:n,displayAudio:i,videoOnly:r,videoPriority:o,isLocalParticipant:s}){const u=function(e){const[t,n]=a.useState([]);return a.useEffect((()=>{n(Array.from(e.tracks.values()));const t=e=>n((t=>[...t,e])),i=e=>n((t=>t.filter((t=>t!==e))));return e.on("trackPublished",t),e.on("trackUnpublished",i),()=>{e.off("trackPublished",t),e.off("trackUnpublished",i)}}),[e]),t}(t);return e(a).createElement(e(a).Fragment,null,u.map((t=>"video"===t.kind&&n||"audio"===t.kind&&i?e(a).createElement(ts,{key:t.kind,publication:t,isLocalParticipant:s,videoOnly:r,videoPriority:o}):null)))}function is(t){const[n,i]=e(a).useState(!0),[r,o]=e(a).useState(!0),s={border:t.isDominant?"solid":void 0};return e(a).createElement("div",{key:`stream-wrapper-${t.participant.identity}`,className:"participant-track-square",style:s},e(a).createElement(Hr,{userId:t.participant.identity,id:`stream-nameview-${t.participant.identity}`}),e(a).createElement(ns,{participant:t.participant,displayVideo:n,displayAudio:r}),e(a).createElement("button",{id:"play-video",onClick:e=>{i(!n)},className:"link-styled-button video-button "+(n?"enabled":"disabled"),"aria-label":`Toggle Video ${t.participant.identity}`},n?e(a).createElement(no,null):e(a).createElement(to,null)),e(a).createElement("button",{id:"play-audio",onClick:e=>{o(!r)},className:"link-styled-button video-button "+(r?"enabled":"disabled"),"aria-label":`Toggle Audio ${t.participant.identity}`},r?e(a).createElement(ro,null):e(a).createElement(io,null)))}function rs(e){var t=!1;e.audioTracks.forEach(((e,n)=>{e.on&&(t=!0)}));var n=!1;return e.videoTracks.forEach(((e,t)=>{e.on&&(n=!0)})),t||n}function os(t){const{publishingCamera:n,callParticipants:i}=xo(),r=a.useRef(null),[o,s]=e(a).useState(0),[u,c]=e(a).useState(0),[l,h]=e(a).useState(1),[f]=e(a).useState([]);let d,p;if(console.log("Re-rendering media chat view?"),a.useEffect((()=>{function e(){const e=r.current.clientWidth,t=r.current.clientHeight,n=r.current.children,i=Math.floor(t/195)*Math.floor(e/180);s(i),c(Math.max(0,n.length-i))}e();const t=function(e,t){let n;return i=>{clearTimeout(n),n=setTimeout((t=>{n=null,e()}),t)}}(e,100);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)})),n&&(d=e(a).createElement($a,{speaking:!1})),console.log(i),i){const r=new Map;Array.from(i.values()).filter(rs).map((n=>{r.set(n.identity,e(a).createElement(is,{participant:n,isDominant:t.dominantSpeakerData.dominantSpeakerId===n.identity}))}));const s=new Set(r.keys()),u=t.dominantSpeakerData.dominantSpeakerId;var m=0;const c=Date.now(),l=[];for(var v=0;v<f.length;v++){const e=f[v].id;s.has(e)?(s.delete(e),e===u&&(m=v,f[v].lastDominant=c)):l.push(e)}l.forEach((e=>f.splice(f.indexOf(e),1))),s.forEach((e=>{e===u?(m=f.length,f.push({id:e,lastDominant:c})):f.push({id:e,lastDominant:0})}));const h=n?o-1:o;if(m>=h){for(var g=c,b=0,y=0;y<h;y++){const e=f[y];e.lastDominant<g&&(g=e.lastDominant,b=y)}const e=f[m];f[m]=f[b],f[b]=e}r.size>0&&(p=f.map((e=>r.get(e.id))))}return e(a).createElement("div",null,e(a).createElement("label",null,p?p.length:0," other chatters (",u," offscreen). "),e(a).createElement("div",{id:"media-view",ref:r,style:{height:195*l,maxHeight:195*l}},d," ",p))}a=o("6Ti1v");function as(e){if(e.includes(" ")){for(console.log("spaces detected "+e);e.includes(" ");)e=e.replace(" ","-");console.log("spaces crushed: "+e)}return e}function ss(t){a.useContext(Xf);const{defaultHandle:n,user:i,prepopulateTwitterWithDefaultHandle:r}=t,[o,s]=a.useState(i&&i.username||n||""),[u,c]=a.useState(i&&i.realName||""),[l,h]=a.useState(i&&i.pronouns||""),[f,d]=a.useState(i&&i.description||""),[p,m]=a.useState(i&&i.askMeAbout||""),[v,g]=a.useState(i&&i.url||""),[b,y]=a.useState(i&&i.twitterHandle||r&&n||""),w=()=>{!async function(e,t){const n=await hi("updateProfile",{user:e,isNew:t});n.valid?t?window.location.reload():(ti(zt(n.user)),ti(nn())):n.error&&alert(n.error)}({username:o,realName:u,pronouns:l,description:f,askMeAbout:p,twitterHandle:b,url:v,hostname:fn.SERVER_HOSTNAME},t.isFTUE)};return e(a).createElement("div",{id:"profile-edit",className:"container "+(t.isFTUE?"ftue":"")},e(a).createElement("div",{className:"form"},e(a).createElement("h1",null,(t.isFTUE?"Create":"Edit")+" Name Badge"),e(a).createElement("div",{style:{marginTop:"2em",marginBottom:"2em"}},"This is your virtual conference badge!",e(a).createElement("br",null),"Whatever you enter will be visible to other attendees.",e(a).createElement("br",null),"You can come back and change this at any time."),e(a).createElement("div",{className:"grid"},e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"username"},"Chat Handle"),e(a).createElement("em",null,"What shows up when you send messages"),e(a).createElement("input",{type:"text",id:"username",value:o,onChange:e=>{const t=as(e.currentTarget.value);0!==t.localeCompare(e.currentTarget.value)&&(e.currentTarget.value=t),s(e.currentTarget.value)}})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"realname"},"Name"),e(a).createElement("em",null,"Optional: What people should call you"),e(a).createElement("input",{type:"text",id:"real-name",value:u,onChange:e=>c(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"description"},"Character Description"),e(a).createElement("em",null,"Optional: Describe your virtual avatar!"),e(a).createElement("input",{type:"text",id:"description",value:f,onChange:e=>d(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"pronouns"},"Pronouns"),e(a).createElement("em",null,'e.g. "she/her" or "he/they"'),e(a).createElement("input",{type:"text",id:"pronouns",value:l,onChange:e=>h(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"website"},"Website"),e(a).createElement("em",null,"Your personal site or something else"),e(a).createElement("input",{type:"text",id:"website",value:v,onChange:e=>g(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"twitter"},"Twitter Handle"),e(a).createElement("em",null,"Optional: You don't need to include the @"),e(a).createElement("input",{type:"text",id:"twitter",value:b,onChange:e=>y(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"ask-me-about"},"Ask Me About"),e(a).createElement("em",null,"Optional: What are you excited to talk about?"),e(a).createElement("input",{type:"text",id:"ask-me-about",value:p,onChange:e=>m(e.currentTarget.value)}))),e(a).createElement("button",{onClick:e=>{s(as(o)),w()},className:"submit"},"Save Changes")))}a=o("6Ti1v"),a=o("6Ti1v");function us(t){const n=a.useContext(Xf),{userMap:i,myId:r}=a.useContext($f),o=i[r],s=o&&o.isMod,u=e(a).createElement(Ui,{onClick:()=>{confirm(`Are you sure you would like to ${t.spaceIsClosed?"open":"close"} the space for all non-mod users?`)&&async function(e){await hi("openOrCloseSpace",{spaceIsClosed:e})}(!t.spaceIsClosed)}},t.spaceIsClosed?"Open":"Close"," the Space");return e(a).createElement("div",{id:"menu-button"},e(a).createElement(nr,{id:"topMenu",holdToDisplay:0},e(a).createElement("strong",null,t.username)," ",e(a).createElement($r,null)),e(a).createElement(Xi,{id:"topMenu"},e(a).createElement(Ui,{onClick:()=>{li(r)}},"View Profile"),e(a).createElement(Ui,{onClick:()=>{n(tn(ln.ProfileEdit))}},"Edit Profile"),e(a).createElement(Ui,{onClick:()=>{n(tn(ln.Settings))}},"Settings & Theme"),s?u:null,s?e(a).createElement(Ui,{onClick:()=>{n(tn(ln.ServerSettings))}},"Server Settings"):null,e(a).createElement(Ui,{onClick:()=>{confirm("Are you sure you want to log out?")&&async function(e){await hi("disconnect")}().then((()=>{Xn.auth().signOut().then((()=>{window.location.reload()}))})).catch((e=>{console.log("error signing out",e),window.location.reload()}))}},"Log Out")))}a=o("6Ti1v"),a=o("6Ti1v");function cs(t){const n=a.useContext(Xf),{roomData:i,currentRoomId:r}=t;let o,s;if(t.isMiniMap?(o=8,s=13):(o=10,s=21),e(a).useEffect((()=>{const e=document.getElementById(`${t.isMiniMap?"minimap-":""}clickable-room-${r}`);e&&e.scrollIntoView({block:"center",inline:"center"})}),t.isMiniMap?null:[]),!i)return e(a).createElement("div",null);let u=ls;hs.forEach(((e,t)=>{let n="(0)";i[e]&&i[e].users&&i[e].users.length>0&&(n=`(${i[e].users.length})`),n=n.padEnd(4,"."),u=u.replace(`(${t.toString().padStart(2,"0")})`,n)}));const c=e=>{const t=e.target&&e.target.getAttribute&&e.target.getAttribute("data-room");t&&(ui(t),n(nn()))},l=fs.map((n=>e(a).createElement("div",{style:{position:"absolute",left:n.x*o+"px",top:n.y*s+"px",width:n.width*o+"px",height:n.height*s+"px",cursor:"pointer"},key:n.roomId,onClick:c,"data-room":n.roomId,id:`${t.isMiniMap?"minimap-":""}clickable-room-${n.roomId}`})));return e(a).createElement("div",{className:"map",style:{position:"relative",margin:"15px"}},l,e(a).createElement("pre",{style:{letterSpacing:"2px",fontFamily:"IBM Plex Mono"}},e(a).createElement("code",null,u)))}const ls="                \n    ........................                    \n..........    ......Kitchen (01)......                    .........................\n..Quiet ..    ........................                    .........................     \n..Lounge..+####+........................        .........................     .......................\n...(06)...    ....Table B (02)........   .Shipping.     .........................     ..Unconferencing Lobby.\n..........    ...................   .Container     .........................   ###..........(19).........\n..........    ...................   ...(07)...     .........................   # .......................\n+    ..........Table C (04)..   #     ......................... ### .......................\n      #         ...................        #           .........Theater......... #   .......................\n +#    .Table A (03)......#################    ...........(08).......... ### #\n .........    ...................  #     #       #   .........................   # #\n .........    ...................  # #   #  ......................... ### ..........#..........\n ..Dance..+####+........................  # ........    ##+......................... #   .Minetown.#..Oracle..\n ..Floor..    ###  # .@-sign.      ......................... ### ...(20)...#...(21)...\n ..(00)...    #### #  .Statue.      .........................   # ..........###..........\n .........    ........................####..(10)..      ......................... ### ..........#..........\n .........+####+........................    ........      ......................... #   #\n .........    ........Bar (05)........    #      ......................... ### #\n     ........................         #          .........................   # ..........#..........\n                ........................        ##          .........................+#  # .Sokoban..#..Castle..\n                +        #           .........................+#### ...(23)...###...(22)...\n                             ++ .........................+#    ..........#..........\n   .............................. .........................     ..........#..........\n............ ..........  ..............................##+.........................     #\n............ ..........+##+........North Showcase ....... .........................           ###########\n.Engineer's.###.Artist's   ...........Hall (11).......... ++++++       #    #\n.Workbench . .Atelier .  ..............................       ###       ###               ........    ####\n....(18).... ...(09)...  ..............................  ###### .Astral.       #\n............ ..........  ..............................  ........................... .Plane..      ##\n# #  ....West .............East ...  ....................!.Swag . ..(24)..  #\n  ##   ..Showcase..........Showcase..+##+...Haunted Foyer ...!.Table. ........  .Vlad's.\n  ......................   ....Hall .............Hall ...  ........(17)........%.(16)..   .Tower .\n  ......Procedural .....+###+....(13)..............(12)....  ....................).......             ..(25)..\n  ......Generation .....   ..............................  ...........................             \n  ......Study (15)......   ..............................              \n  ......................   ..............................\n     ........South Showcase .......\n                             ...........Hall (14)..........\n                             ..............................\n                             \n   ",hs=["danceFloor","kitchen","kitchenTableB","kitchenTableA","kitchenTableC","bar","lounge","shippingContainer","theater","atelier","statue","northShowcaseHall","westShowcaseHall","eastShowcaseHall","southShowcaseHall","study","swag","foyer","workbench","unconference","minetown","oracle","castle","sokoban","astralPlane","tower"],fs=[{roomId:"lounge",x:0,y:1,width:12,height:8},{roomId:"danceFloor",x:1,y:10,width:11,height:10},{roomId:"kitchen",x:16,y:0,width:26,height:15},{roomId:"kitchenTableA",x:17,y:10,height:3,width:11},{roomId:"kitchenTableB",x:20,y:5,height:3,width:11},{roomId:"kitchenTableC",x:26,y:8,width:11,height:3},{roomId:"bar",x:16,y:15,width:25,height:7},{roomId:"shippingContainer",x:44,y:4,width:12,height:5},{roomId:"statue",x:45,y:12,width:10,height:7},{roomId:"theater",x:60,y:1,width:27,height:26},{roomId:"foyer",x:61,y:28,width:21,height:8},{roomId:"swag",x:82,y:28,width:11,height:8},{roomId:"workbench",x:0,y:23,width:14,height:8},{roomId:"atelier",x:15,y:23,width:12,height:8},{roomId:"study",x:2,y:31,width:24,height:7},{roomId:"northShowcaseHall",x:35,y:22,width:17,height:6},{roomId:"southShowcaseHall",x:35,y:36,width:17,height:4},{roomId:"westShowcaseHall",x:28,y:28,width:15,height:8},{roomId:"eastShowcaseHall",x:45,y:28,width:15,height:8},{roomId:"unconference",x:92,y:3,width:25,height:8},{roomId:"minetown",x:92,y:11,width:12,height:7},{roomId:"oracle",x:105,y:11,width:12,height:7},{roomId:"sokoban",x:92,y:18,width:12,height:7},{roomId:"castle",x:105,y:18,width:12,height:7},{roomId:"astralPlane",x:94,y:26,width:10,height:7},{roomId:"tower",x:106,y:30,width:10,height:5}];function ds(t){const n=a.useContext(Xf);return e(a).createElement("div",{id:"mini-map",onClickCapture:e=>{n(tn(ln.Map)),e.stopPropagation()},style:{cursor:"pointer"}},e(a).createElement(cs,{roomData:t.roomData,currentRoomId:t.currentRoomId,isMiniMap:!0}))}function ps(t){const n=a.useContext(Qf),i=a.useContext(Xf);return e(a).createElement("nav",{id:"side-menu",role:"navigation","aria-label":"List of rooms you can navigate to"},n?e(a).createElement("button",{onClick:()=>{i({type:Bt.HideSideMenu})},id:"close-button",className:"close"},"x"):"",e(a).createElement(us,{username:t.username,spaceIsClosed:t.spaceIsClosed}),e(a).createElement("button",{id:"happening-now-button",onClick:()=>{i(tn(ln.HappeningNow))}},"Happening Now"),e(a).createElement("button",{id:"nav-map-button",onClick:()=>{i(tn(ln.Map))}},"Map"),e(a).createElement("ul",null,e(a).createElement(ms,{title:"Schedule",modal:ln.Schedule}),e(a).createElement(ms,{title:"Room List",modal:ln.RoomList}),e(a).createElement(ms,{title:"Code of Conduct",modal:ln.CodeOfConduct}),e(a).createElement(ms,{title:"Help",modal:ln.Help})),t.roomData&&t.currentRoomId?e(a).createElement(ds,{roomData:t.roomData,currentRoomId:t.currentRoomId}):null)}const ms=t=>{const n=a.useContext(Xf);return e(a).createElement("li",null,e(a).createElement("button",{className:"nav-item",onClick:()=>{n(tn(t.modal))}},e(a).createElement("strong",null,t.title)))};a=o("6Ti1v"),a=o("6Ti1v");function vs(t){const{userMap:n,myId:i}=a.useContext($f),r=t.note,o=n[i].isMod||r.authorId===i,s=r.authorId!==i,u=r.likes&&r.likes.includes(i),c=r.likes?r.likes.length:0;let l;u&&(l=r.likes.map((e=>n[e].username)).join(", "));return e(a).createElement(e(Ro),{componentDecorator:(t,n,i)=>e(a).createElement("a",{href:t,key:i,target:"_blank",rel:"noopener noreferrer"},n)},e(a).createElement("div",{className:"note"},o?e(a).createElement("button",{onClick:()=>{confirm("Are you sure you would like to delete this?")&&si(r.id)},className:"link-styled-button note-delete"},"X"):"",r.message," ",e(a).createElement("br",null),e(a).createElement("button",{className:"link-styled-button like-button "+(u||!s?"liked":"unliked"),onClick:()=>{s&&(u?async function(e){await hi("likeRoomNote",{noteId:e,like:!1})}(r.id):async function(e){await hi("likeRoomNote",{noteId:e,like:!0})}(r.id))},"data-tip":l},c,u?e(a).createElement(eo,null):e(a).createElement(oo,null),e(a).createElement(qr,null)),"-",e(a).createElement(Hr,{userId:r.authorId,id:`noteAuthor-${r.id}`})," ",e(a).createElement("br",null)))}function gs(t){const n=(t.notes||[]).sort(((e,t)=>{const n=e.likes?e.likes.length:0;return(t.likes?t.likes.length:0)-n})).map((t=>e(a).createElement(vs,{key:t.id,note:t}))),i=t.noteWallData?t.noteWallData.noteWallDescription:"You are looking at a wall with space for people to place sticky notes.",r=t.noteWallData?t.noteWallData.addNoteLinkText:"add a note",o=t.user.isMod?e(a).createElement("button",{onClick:()=>{confirm("Are you sure you want to delete all notes?")&&t.notes.map((e=>si(e.id)))}},"Mod: Delete all notes"):"";return e(a).createElement("div",null,o,e(a).createElement("div",{className:"note-wall-description"},i,e(a).createElement("br",null),e(a).createElement("br",null),"If you'd like, you can ",e(a).createElement("button",{onClick:()=>{const e=t.noteWallData?t.noteWallData.addNotePrompt:"What do you type on the note wall?";!async function(e){if(null!==e&&e.length>0){const t=Ut();await hi("addRoomNote",{id:t,message:e})}}(prompt(e))},id:"addNote",className:"link-styled-button"},r),"."),n)}a=o("6Ti1v"),s=o("3zkYw");const bs=t=>{const n=a.useContext(Xf);a.useEffect((()=>{function e(e){27===e.keyCode&&n(nn())}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}));const i=e=>{"modal-wrapper"!==e.target.id&&"close-button"!==e.target.id||n(nn())};return e(s).createPortal(e(a).createElement("div",{id:"modal-wrapper",onClick:i,role:"dialog","aria-modal":!0},e(a).createElement("div",{id:"modal",className:t.fullScreen?"full-screen":null},e(a).createElement("button",{onClick:i,id:"close-button",className:"close"},"x"),t.children)),document.body)};a=o("6Ti1v"),go=o("4mTIe"),a=o("6Ti1v");function ys(t){const n=a.useContext(Xf),i=e=>{const t="true"===e.target.value;n(rn(t))};return e(a).createElement("div",{className:"videoAudioSettingsContainer"},e(a).createElement("div",{className:"form",id:"video-audio-selection-form"},e(a).createElement("label",{htmlFor:"video-audio-selection-form"},"Video/Audio Options:"),e(a).createElement("div",{className:"radio"},e(a).createElement("label",null,e(a).createElement("input",{type:"radio",id:"keep-camera-when-moving",value:"true",checked:!0===t.keepCameraWhenMoving,onChange:i}),"Keep video/audio status when moving rooms")),e(a).createElement("div",{className:"radio"},e(a).createElement("label",null,e(a).createElement("input",{type:"radio",id:"keep-camera-when-moving",value:"false",checked:!1===t.keepCameraWhenMoving,onChange:i}),"Always leave video/audio when moving rooms"))))}function ws(t){a.useContext(Xf);const[n,i]=e(a).useState("default");a.useEffect((()=>{(async()=>{i(await go.currentTheme())})()}));const r=e=>{console.log(n,e.target.value),document.body.classList.replace(n,e.target.value),i(e.target.value),go.setTheme(e.target.value)};return e(a).createElement("div",{className:"settingsContainer"},e(a).createElement("div",{className:"form",id:"themeSelectionForm"},e(a).createElement("label",{htmlFor:"themeSelectionForm"},"Select Theme:"),e(a).createElement("div",{className:"radio"},e(a).createElement("label",null,e(a).createElement("input",{type:"radio",id:"theme",value:"default",checked:"default"===n,onChange:r}),"Default (Dark)")),e(a).createElement("div",{className:"radio"},e(a).createElement("label",null,e(a).createElement("input",{type:"radio",id:"theme",value:"solarized-dark",checked:"solarized-dark"===n,onChange:r}),"Solarized Dark")),e(a).createElement("div",{className:"radio"},e(a).createElement("label",null,e(a).createElement("input",{type:"radio",id:"theme",value:"solarized-light",checked:"solarized-light"===n,onChange:r}),"Solarized Light"))),e(a).createElement(ys,{keepCameraWhenMoving:t.keepCameraWhenMoving}))}a=o("6Ti1v");function _s(t){const n=a.useContext(Xf),{prepareMediaDevices:i,cameras:r,mics:o,currentMic:s,setCurrentMic:u,currentCamera:c,setCurrentCamera:l,publishMedia:h,publishAudio:f}=xo();a.useEffect((()=>{(async()=>{await i(),console.log("Prepared for media chat")})()}),[]);const d=t=>e(a).createElement("option",{value:t.id,key:t.id},t.name);let p;t.hideVideo||(p=e(a).createElement(e(a).Fragment,null,e(a).createElement("label",{htmlFor:"#video-select"},"Webcam"),e(a).createElement("select",{name:"Video",id:"video-select",onChange:e=>{l(e.target.value)},defaultValue:c&&c.id},(r||[]).map(d)),e(a).createElement("br",null)));return e(a).createElement("div",{id:"media-selector",style:{display:"flex","flex-direction":"column"}},e(a).createElement("div",null,t.hideVideo?"":e(a).createElement($a,{speaking:t.userIsSpeaking,hideUI:!0}),e(a).createElement("div",{className:"selects"},p,e(a).createElement("label",{htmlFor:"#audio-select"},"Audio"),e(a).createElement("select",{name:"Audio",id:"audio-select",onChange:e=>{u(e.target.value)},defaultValue:s&&s.id},(o||[]).map(d)))),e(a).createElement("div",null,e(a).createElement(ys,{keepCameraWhenMoving:t.keepCameraWhenMoving})),t.showJoinButton?e(a).createElement("button",{id:"join",onClick:()=>{n(nn()),t.hideVideo?f():(n(Jt()),h())}},"Join"):"")}a=o("6Ti1v");function ks(){return e(a).createElement("div",{id:"code-of-conduct"},e(a).createElement("p",null,"Our goal is to have a fun and welcoming celebration of roguelike games, so we have a formalized code of conduct that sets these expectations."),e(a).createElement("p",null,e(a).createElement("a",{href:"https://roguelike.club/code.html",target:"_blank",rel:"noreferrer"},"Read our Code of Conduct.")),e(a).createElement("p",null,"If you're being harassed, notice someone being harassed, or have any other concerns related to the code of conduct, you have a few options:"),e(a).createElement("ul",null,e(a).createElement("li",null,"Type ",e(a).createElement("code",null,"/mod")," into the chat box, followed by a message, to contact all moderators."),e(a).createElement("li",null,"Email ",e(a).createElement("a",{href:"mailto:contact@roguelike.club"},"contact@roguelike.club"),"."),e(a).createElement("li",null,"If you have a report or concern related to an organizer, please contact a different member of the ",e(a).createElement("a",{href:"https://roguelike.club/who.html",target:"_blank",rel:"noreferrer"},"organizing team")," outside of this tool (via email, Twitter DM, Discord, or some other service).")))}a=o("6Ti1v");function Ss(e,t,n,i){return 1===t?{time:(r=e,new Date(`2020-10-03T${r}:00.000-07:00`)),text:n,roomIds:i}:2===t?{time:(e=>new Date(`2020-10-04T${e}:00.000-07:00`))(e),text:n,roomIds:i}:void console.error("Your static data is messed up, somehow.");var r}const Ms=[Ss("09:15",2,"Intro / Housekeeping",["theater"]),Ss("09:30",2,"Lightning Talks 2: Xalavier Nelson Jr., Max Kreminski, Clarissa Littler, Nicholas Feinberg, Tanya X. Short",["theater"]),Ss("10:30",2,"Game Showcase / Unconferencing #3",["northShowcaseHall","eastShowcaseHall","southShowcaseHall","westShowcaseHall","unconference"]),Ss("11:00",2,"Joel Clark: A Perfectly Mundane Blaseball Experience",["theater"]),Ss("11:30",2,"Cat Manning: How To Build A Character System That Doesn't Fall Apart Two Turns Later (with apologies to PKD)",["theater"]),Ss("12:00",2,"Gabriel Koenig: Good Mutation/Bad Mutation: Player Agency in Procedural Generation",["theater"]),Ss("12:30",2,"Break"),Ss("13:30",2,"Caelyn Sandel: Teaching the Fun of Losing",["theater"]),Ss("14:00",2,"Ivy Melinda: A flower in the garden: cultivating a community for Caves of Qud",["theater"]),Ss("14:30",2,"Kate Compton: Making Polite Programming Languages: How to Design a Generative Language without a Programming Language Degree",["theater"]),Ss("15:00",2,"Aaron A. Reed: Cadences, Lacunae, and Subcutaneans: Ten Years of Procedural Novels",["theater"]),Ss("15:30",2,"Break"),Ss("16:00",2,"Julian Day: Poetry at the Edge of Roguelikes: Writing Around Iterative Media",["theater"]),Ss("16:30",2,"Todd Furmanski: Mysty Roguelikes, or: Using First Person Point-and-Click Paradigms with Realtime Graphics and Simulation",["theater"]),Ss("17:00",2,"Lightning Talks 3: Lee Tusman, Alexander Martin, Josh Grams, Adrian Herbez, Youns Rabii, Duke Dougal",["theater"]),Ss("18:00",2,"Closing Announcements",["theater"]),Ss("18:15",2,"Unconferencing #4",["unconference"]),Ss("19:30",2,"Wrap")];function Es(){const t=new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}),n=t.resolvedOptions().timeZone,i=Ms.flatMap((n=>"Break"===n.text?[e(a).createElement("tr",{key:t.format(n.time)+"hr1"},e(a).createElement("th",{className:"break",colSpan:2},e(a).createElement("hr",null))),e(a).createElement("tr",{key:t.format(n.time)+"text"},e(a).createElement("td",{className:"time"},t.format(n.time)),e(a).createElement("td",{className:"segment"},"**** BREAK ****")),e(a).createElement("tr",{key:t.format(n.time)+"hr2"},e(a).createElement("th",{className:"break",colSpan:2},e(a).createElement("hr",null)))]:[e(a).createElement("tr",{key:t.format(n.time)},e(a).createElement("td",{className:"time"},t.format(n.time)),e(a).createElement("td",{className:"segment"},n.text))]));return e(a).createElement("div",{id:"Schedule"},e(a).createElement("h1",null,"Schedule"),e(a).createElement("p",null,"Times below should be in your local time zone. We believe your time zone is ",n,"."),e(a).createElement("table",null,e(a).createElement("tbody",null,i)))}a=o("6Ti1v");function Cs(){const t=Ka.map((t=>e(a).createElement("tr",{key:t.type},e(a).createElement("td",null,t.invocations.join(", ")),e(a).createElement("td",null,t.description))));return e(a).createElement("div",null,e(a).createElement("h1",null,"Welcome!"),e(a).createElement("p",null,"Welcome to the Roguelike Celebration social space! This is an open-source chat app / virtual world built specifically for Roguelike Celebration."),e(a).createElement("p",null,"You can access this reference at any time by clicking the ",e(a).createElement("strong",null,"Help")," button in the left sidebar or by typing ",e(a).createElement("strong",null,"/help")," into the chat box."),e(a).createElement("p",null,"If you have questions, feedback, or need to report a code of conduct violation, you can contact us via the ",e(a).createElement("strong",null,"/mod")," command."),e(a).createElement("h2",null,"Command Reference"),e(a).createElement("p",null,"You can enter any of these commands by typing directly into the chat box."),e(a).createElement("table",null,t))}a=o("6Ti1v");function xs(t){const n=a.useContext(Xf);return e(a).createElement("div",null,e(a).createElement("h1",null,"Map"),e(a).createElement("p",null,"Click on a room to move there!"),e(a).createElement("p",null,"If you find the map difficult to use, you can also view a ",e(a).createElement("button",{className:"link-styled-button",onClick:()=>{n(tn(ln.RoomList))}},"list of all rooms"),"."),e(a).createElement(cs,{roomData:t.roomData,currentRoomId:t.currentRoomId}))}const Ts={url:window.location.href,handleCodeInApp:!0};function Is(e){return 1===e.providerData.length&&"password"===e.providerData[0].providerId&&!e.emailVerified}function As(e){Xn.auth().sendSignInLinkToEmail(e,Ts).then((()=>{console.log(`Sign-in email sent to ${e}!`)}))}var Os;o.register("1mq7S",(function(i,r){t(i.exports,"auth",(()=>s));var a=o("3yyN7");o("1IS2I"),o("62iKi"),o("6nLIH"),o("54uZF"),o("37sSj"),function(){(function(){var e,t,i="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var r;e:{var o={};try{o.__proto__={xb:!0},r=o.xb;break e}catch(Xe){}r=!1}t=r?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var a=t;function s(e,t){if(e.prototype=i(t.prototype),e.prototype.constructor=e,a)a(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.K=t.prototype}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},c="undefined"!=typeof window&&window===this?this:void 0!==n&&null!=n?n:this;function l(e,t){if(t){var n=c;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&u(n,e,{configurable:!0,writable:!0,value:t})}}l("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),l("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}));var h=this;function f(e){return void 0!==e}function d(e){return"string"==typeof e}var p=/^[\w+/_-]+[=]{0,2}$/,m=null;function v(){}function g(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function b(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function y(e){return"array"==b(e)}function w(e){var t=b(e);return"array"==t||"object"==t&&"number"==typeof e.length}function _(e){return"function"==b(e)}function k(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var S="closure_uid_"+(1e9*Math.random()>>>0),M=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function C(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:C).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function I(e,t){for(var n in t)e[n]=t[n]}var A,O=Date.now||function(){return+new Date};function P(e,t){e=e.split(".");var n,i=h;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&f(t)?i[n]=t:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function R(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.wc=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");D.call(this,n+e[i])}function L(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}R(D,Error),D.prototype.name="CustomError",R(j,D),j.prototype.name="AssertionError";var N=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(d(e))return d(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=d(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};var F=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=[],r=0,o=d(e)?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(i[r++]=s)}return i},U=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=d(e)?e.split(""):e,o=0;o<n;o++)o in r&&(i[o]=t.call(void 0,r[o],o,e));return i},z=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=d(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function q(e,t){return 0<=N(e,t)}function H(e,t){var n;return(n=0<=(t=N(e,t)))&&V(e,t),n}function V(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function W(e,t){!function(e,t){for(var n=d(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&V(e,i)&&0}))}function K(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Y(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var Z=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},J=/&/g,X=/</g,$=/>/g,Q=/"/g,ee=/'/g,te=/\x00/g,ne=/[\x00&<>"']/;function ie(e,t){return e<t?-1:e>t?1:0}function re(e){return ne.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(J,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(X,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace($,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Q,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ee,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(te,"&#0;"))),e}function oe(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<se.length;o++)n=se[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}var ce="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function le(){}function he(e){if(e instanceof le)return e;if("function"==typeof e.ha)return e.ha(!1);if(w(e)){var t=0,n=new le;return n.next=function(){for(;;){if(t>=e.length)throw ce;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function fe(e){if(w(e))return G(e);e=he(e);var t=[];return function(e,t){if(w(e))try{B(e,t,void 0)}catch(e){if(e!==ce)throw e}else{e=he(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==ce)throw e}}}(e,(function(e){t.push(e)})),t}function de(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof de)for(n=e.ja(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function pe(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];me(e.g,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.h!=e.a.length){var r={};for(n=t=0;t<e.a.length;)me(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}le.prototype.next=function(){throw ce},le.prototype.ha=function(){return this},(e=de.prototype).la=function(){pe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return pe(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return me(this.g,e)?this.g[e]:t},e.set=function(e,t){me(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}},e.ha=function(e){pe(this);var t=0,n=this.j,i=this,r=new le;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(t>=i.a.length)throw ce;var r=i.a[t++];return e?r:i.g[r]},r};var ve=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ge(e,t,n,i){for(var r=n.length;0<=(t=e.indexOf(n,t))&&t<i;){var o=e.charCodeAt(t-1);if(!(38!=o&&63!=o||(o=e.charCodeAt(t+r))&&61!=o&&38!=o&&35!=o))return t;t+=r+1}return-1}var be=/#|$/;function ye(e,t){var n=e.search(be),i=ge(e,0,t,n);if(0>i)return null;var r=e.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=t.length+1,decodeURIComponent(e.substr(i,r-i).replace(/\+/g," "))}var we=/[?&]($|#)/;function _e(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof _e?(this.i=f(t)?t:e.i,ke(this,e.j),this.A=e.A,this.h=e.h,Se(this,e.C),this.g=e.g,Me(this,Be(e.a)),this.s=e.s):e&&(n=String(e).match(ve))?(this.i=!!t,ke(this,n[1]||"",!0),this.A=Ce(n[2]||""),this.h=Ce(n[3]||"",!0),Se(this,n[4]),this.g=Ce(n[5]||"",!0),Me(this,n[6]||"",!0),this.s=Ce(n[7]||"")):(this.i=!!t,this.a=new De(null,this.i))}function ke(e,t,n){e.j=n?Ce(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Se(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function Me(e,t,n){t instanceof De?(e.a=t,function(e,t){t&&!e.j&&(je(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Le(this,t),Le(this,n),0<e.length&&(this.h=null,this.a.set(Fe(this,n),G(e)),this.g+=e.length))}),e)),e.j=t}(e.a,e.i)):(n||(t=xe(t,Pe)),e.a=new De(t,e.i))}function Ee(e){return e instanceof _e?new _e(e):new _e(e,void 0)}function Ce(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xe(e,t,n){return d(e)?(e=encodeURI(e).replace(t,Te),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Te(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_e.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xe(t,Ie,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(xe(t,Ie,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(xe(n,"/"==n.charAt(0)?Oe:Ae,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",xe(n,Re)),e.join("")};var Ie=/[#\/\?@]/g,Ae=/[#\?:]/g,Oe=/[#\?]/g,Pe=/[#\?@]/g,Re=/#/g;function De(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function je(e){e.a||(e.a=new de,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Le(e,t){je(e),t=Fe(e,t),me(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,me((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&pe(e)))}function Ne(e,t){return je(e),t=Fe(e,t),me(e.a.g,t)}function Be(e){var t=new De;return t.h=e.h,e.a&&(t.a=new de(e.a),t.g=e.g),t}function Fe(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ue(e){this.a=Ee(e)}function ze(e){return e.a.a.get(Ve.Pa)||null}function qe(e,t){t?e.a.a.set(Ve.PROVIDER_ID,t):Le(e.a.a,Ve.PROVIDER_ID)}(e=De.prototype).add=function(e,t){je(this),this.h=null,e=Fe(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){je(this),this.a.forEach((function(n,i){B(n,(function(n){e.call(t,n,i,this)}),this)}),this)},e.ja=function(){je(this);for(var e=this.a.la(),t=this.a.ja(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.la=function(e){je(this);var t=[];if(d(e))Ne(this,e)&&(t=K(t,this.a.get(Fe(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},e.set=function(e,t){return je(this),this.h=null,Ne(this,e=Fe(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.la(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.h=e.join("&")},Ue.prototype.toString=function(){return this.a.toString()};var He,Ve={Pa:"ui_auid",mc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var We=h.navigator;if(We){var Ke=We.userAgent;if(Ke){He=Ke;break e}}He=""}function Ge(e){return-1!=He.indexOf(e)}function Ye(){return(Ge("Chrome")||Ge("CriOS"))&&!Ge("Edge")}function Ze(e){return Ze[" "](e),e}Ze[" "]=v;var Je,Xe,$e=Ge("Opera"),Qe=Ge("Trident")||Ge("MSIE"),et=Ge("Edge"),tt=et||Qe,nt=Ge("Gecko")&&!(-1!=He.toLowerCase().indexOf("webkit")&&!Ge("Edge"))&&!(Ge("Trident")||Ge("MSIE"))&&!Ge("Edge"),it=-1!=He.toLowerCase().indexOf("webkit")&&!Ge("Edge"),rt=it&&Ge("Mobile"),ot=Ge("Macintosh");function at(){var e=h.document;return e?e.documentMode:void 0}e:{var st="",ut=(Xe=He,nt?/rv:([^\);]+)(\)|;)/.exec(Xe):et?/Edge\/([\d\.]+)/.exec(Xe):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xe):it?/WebKit\/(\S+)/.exec(Xe):$e?/(?:Version)[ \/]?(\S+)/.exec(Xe):void 0);if(ut&&(st=ut?ut[1]:""),Qe){var ct=at();if(null!=ct&&ct>parseFloat(st)){Je=String(ct);break e}}Je=st}var lt,ht={};function ft(e){return function(e,t){var n=ht;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Z(String(Je)).split("."),i=Z(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ie(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ie(0==a[2].length,0==s[2].length)||ie(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var dt=h.document;function pt(e,t){this.a=e===vt&&t||"",this.g=mt}lt=dt&&Qe?at()||("CSS1Compat"==dt.compatMode?parseInt(Je,10):5):void 0,pt.prototype.ma=!0,pt.prototype.ka=function(){return this.a},pt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt={},vt={};function gt(){this.a="",this.h=yt}function bt(e){return e instanceof gt&&e.constructor===gt&&e.h===yt?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+b(e)),"type_error:TrustedResourceUrl")}gt.prototype.ma=!0,gt.prototype.ka=function(){return this.a.toString()},gt.prototype.g=function(){return 1},gt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var yt={};function wt(){this.a="",this.h=Et}function _t(e){return e instanceof wt&&e.constructor===wt&&e.h===Et?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+b(e)),"type_error:SafeUrl")}wt.prototype.ma=!0,wt.prototype.ka=function(){return this.a.toString()},wt.prototype.g=function(){return 1},wt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function St(e){return e instanceof wt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),kt.test(e)||(e="about:invalid#zClosurez"),Ct(e))}function Mt(e){return e instanceof wt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),kt.test(e)||(e="about:invalid#zClosurez"),Ct(e))}var Et={};function Ct(e){var t=new wt;return t.a=e,t}function xt(){this.a="",this.g=Tt}Ct("about:blank"),xt.prototype.ma=!0;var Tt={};function It(){this.a="",this.j=Ot,this.h=null}function At(e){return e instanceof It&&e.constructor===It&&e.j===Ot?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+b(e)),"type_error:SafeHtml")}xt.prototype.ka=function(){return this.a},xt.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},It.prototype.g=function(){return this.h},It.prototype.ma=!0,It.prototype.ka=function(){return this.a.toString()},It.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ot={};function Pt(e,t){var n=new It;return n.a=e,n.h=t,n}Pt("<!DOCTYPE html>",0);var Rt=Pt("",0);Pt("<br>",0);var Dt,jt,Lt=(jt=!1,function(){return jt||(Dt=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=At(Rt),!t.parentElement)}(),jt=!0),Dt});function Nt(e,t){t=t instanceof wt?t:Mt(t),e.assign(_t(t))}function Bt(e,t){this.a=f(e)?e:0,this.g=f(t)?t:0}function Ft(e,t){this.width=e,this.height=t}function Ut(e){return e?new Jt(Gt(e)):A||(A=new Jt)}function zt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):Ht(document,e,t)}function qt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var i=t||n;e=i.querySelectorAll&&i.querySelector&&e?i.querySelector(e?"."+e:""):Ht(n,e,t)[0]||null}return e||null}function Ht(e,t,n){var i;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var o={};for(n=i=0;e=r[n];n++){var a=e.className;"function"==typeof a.split&&q(a.split(/\s+/),t)&&(o[i++]=e)}return o.length=i,o}return r}Bt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Bt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Bt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Bt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Ft.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Vt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wt(e){return e.scrollingElement?e.scrollingElement:(it||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function Kt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Gt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function Yt(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Gt(e).createTextNode(String(t)))}}function Zt(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,(function(e){return!t||d(e.className)&&q(e.className.split(/\s+/),t)})):null}function Jt(e){this.a=e||h.document||document}Jt.prototype.N=function(){return d(void 0)?this.a.getElementById(void 0):void 0};var Xt={Gc:!0},$t={Ic:!0},Qt={Fc:!0},en={Hc:!0};function tn(){throw Error("Do not instantiate directly")}function nn(e,t,n,i){if(e=e(t||on,void 0,n),i=(i||Ut()).a.createElement("DIV"),(e=function(e){if(!k(e))return re(String(e));if(e instanceof tn){if(e.fa===Xt)return e.content;if(e.fa===en)return re(e.content)}return L("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(rn),e=Pt(e,null),Lt())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=At(e),1==i.childNodes.length&&(1==(e=i.firstChild).nodeType&&(i=e)),i}tn.prototype.va=null,tn.prototype.toString=function(){return this.content};var rn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,on={};function an(){tn.call(this)}function sn(e){return null!=e&&e.fa===Xt?e:e instanceof It?hn(At(e).toString(),e.g()):hn(re(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function un(){tn.call(this)}function cn(e,t){this.content=String(e),this.va=null!=t?t:null}function ln(e){return new cn(e,void 0)}R(an,tn),an.prototype.fa=Xt,R(un,tn),un.prototype.fa=$t,un.prototype.va=1,R(cn,tn),cn.prototype.fa=en;var hn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(an),fn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(un);function dn(e){return(e=String(e))?new cn(e,void 0):""}var pn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(an);function mn(e){return null!=e&&e.fa===Xt?String(String(e.content).replace(Cn,"").replace(xn,"&lt;")).replace(kn,yn):re(String(e))}function vn(e){return null!=e&&e.fa===$t?e=String(e).replace(Sn,_n):e instanceof wt?e=String(_t(e).toString()).replace(Sn,_n):(e=String(e),En.test(e)?e=e.replace(Sn,_n):(L("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function gn(e){return null!=e&&e.fa===Qt?e=e.content:null==e?e="":e instanceof xt?e instanceof xt&&e.constructor===xt&&e.g===Tt?e=e.a:(L("expected object of type SafeStyle, got '"+e+"' of type "+b(e)),e="type_error:SafeStyle"):(e=String(e),Mn.test(e)||(L("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var bn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function yn(e){return bn[e]}var wn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function _n(e){return wn[e]}var kn=/[\x00\x22\x27\x3c\x3e]/g,Sn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Mn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,En=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Cn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,xn=/</g;function Tn(){return ln("Enter a valid phone number")}function In(){return ln("Unable to send password reset code to specified email")}function An(){return ln("Something went wrong. Please try again.")}function On(){return ln("This email already exists without any means of sign-in. Please reset the password to recover.")}function Pn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return ln(t)}function Rn(){return ln("Please login again to perform this operation")}function Dn(e,t,n){var i=Error.call(this);if(this.message=i.message,"stack"in i&&(this.stack=i.stack),this.code=jn+e,!(e=t)){switch(e="",this.code){case"firebaseui/merge-conflict":e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:e+=An()}e=ln(e).toString()}this.message=e||"",this.credential=n||null}s(Dn,Error),Dn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var jn="firebaseui/";function Ln(){0!=Nn&&(Bn[this[S]||(this[S]=++M)]=this),this.T=this.T,this.C=this.C}var Nn=0,Bn={};function Fn(e,t){e.T?f(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(f(void 0)?x(t,void 0):t))}function Un(e){e&&"function"==typeof e.m&&e.m()}Ln.prototype.T=!1,Ln.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=Nn)){var e=this[S]||(this[S]=++M);if(0!=Nn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bn[e]}},Ln.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var zn=Object.freeze||function(e){return e},qn=!Qe||9<=Number(lt),Hn=Qe&&!ft("9"),Vn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",v,t),h.removeEventListener("test",v,t)}catch(e){}return e}();function Wn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function Kn(e,t){if(Wn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nt){e:{try{Ze(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=d(e.pointerType)?e.pointerType:Gn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Wn.prototype.stopPropagation=function(){this.h=!0},Wn.prototype.preventDefault=function(){this.qb=!1},R(Kn,Wn);var Gn=zn({2:"touch",3:"pen",4:"mouse"});Kn.prototype.stopPropagation=function(){Kn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Kn.prototype.preventDefault=function(){Kn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Hn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Yn="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function Jn(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++Zn,this.sa=this.Ia=!1}function $n(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Qn(e){this.src=e,this.a={},this.g=0}function ei(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&($n(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function ti(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.sa&&o.listener==t&&o.capture==!!n&&o.La==i)return r}return-1}Qn.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.g++);var a=ti(e,t,i,r);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Jn(t,this.src,o,!!i,r)).Ia=n,e.push(t)),t};var ni="closure_lm_"+(1e6*Math.random()|0),ii={};function ri(e,t,n,i,r){if(i&&i.once)return ai(e,t,n,i,r);if(y(t)){for(var o=0;o<t.length;o++)ri(e,t[o],n,i,r);return null}return n=mi(n),e&&e[Yn]?e.J.add(String(t),n,!1,k(i)?!!i.capture:!!i,r):oi(e,t,n,!1,i,r)}function oi(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=k(r)?!!r.capture:!!r,s=di(e);if(s||(e[ni]=s=new Qn(e)),(n=s.add(t,n,i,a,o)).proxy)return n;if(i=function(){var e=fi,t=qn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Vn||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ci(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ai(e,t,n,i,r){if(y(t)){for(var o=0;o<t.length;o++)ai(e,t[o],n,i,r);return null}return n=mi(n),e&&e[Yn]?e.J.add(String(t),n,!0,k(i)?!!i.capture:!!i,r):oi(e,t,n,!0,i,r)}function si(e,t,n,i,r){if(y(t))for(var o=0;o<t.length;o++)si(e,t[o],n,i,r);else i=k(i)?!!i.capture:!!i,n=mi(n),e&&e[Yn]?(e=e.J,(t=String(t).toString())in e.a&&(-1<(n=ti(o=e.a[t],n,i,r))&&($n(o[n]),V(o,n),0==o.length&&(delete e.a[t],e.g--)))):e&&(e=di(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ti(t,n,i,r)),(n=-1<e?t[e]:null)&&ui(n))}function ui(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[Yn])ei(t.J,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ci(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=di(t))?(ei(n,e),0==n.g&&(n.src=null,t[ni]=null)):$n(e)}}}function ci(e){return e in ii?ii[e]:ii[e]="on"+e}function li(e,t,n,i){var r=!0;if((e=di(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.sa&&(o=hi(o,i),r=r&&!1!==o)}return r}function hi(e,t){var n=e.listener,i=e.La||e.src;return e.Ia&&ui(e),n.call(i,t)}function fi(e,t){if(e.sa)return!0;if(!qn){if(!t)e:{t=["window","event"];for(var n=h,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Kn(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.g;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;!t.h&&0<=r;r--){t.g=i[r];var o=li(i[r],e,!0,t);n=n&&o}for(r=0;!t.h&&r<i.length;r++)t.g=i[r],o=li(i[r],e,!1,t),n=n&&o}return n}return hi(e,new Kn(t,this))}function di(e){return(e=e[ni])instanceof Qn?e:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(e){return _(e)?e:(e[pi]||(e[pi]=function(t){return e.handleEvent(t)}),e[pi])}function vi(){Ln.call(this),this.J=new Qn(this),this.wb=this,this.Ha=null}function gi(e,t){var n,i=e.Ha;if(i)for(n=[];i;i=i.Ha)n.push(i);if(e=e.wb,i=t.type||t,d(t))t=new Wn(t,e);else if(t instanceof Wn)t.target=t.target||e;else{var r=t;ue(t=new Wn(i,e),r)}if(r=!0,n)for(var o=n.length-1;!t.h&&0<=o;o--){var a=t.g=n[o];r=bi(a,i,!0,t)&&r}if(t.h||(r=bi(a=t.g=e,i,!0,t)&&r,t.h||(r=bi(a,i,!1,t)&&r)),n)for(o=0;!t.h&&o<n.length;o++)r=bi(a=t.g=n[o],i,!1,t)&&r;return r}function bi(e,t,n,i){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&ei(e.J,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.qb}R(vi,Ln),vi.prototype[Yn]=!0,vi.prototype.Za=function(e){this.Ha=e},vi.prototype.removeEventListener=function(e,t,n,i){si(this,e,t,n,i)},vi.prototype.o=function(){if(vi.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)$n(n[i]);delete t.a[e],t.g--}}this.Ha=null};var yi={},wi=0;function _i(e,t){if(!e)throw Error("Event target element must be provided!");if(e=Si(e),yi[e]&&yi[e].length)for(var n=0;n<yi[e].length;n++)gi(yi[e][n],t)}function ki(e){var t=Si(e.N());yi[t]&&yi[t].length&&(function(e,t){e:{for(var n=e.length,i=d(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}0<=t&&V(e,t)}(yi[t],(function(t){return t==e})),yi[t].length||delete yi[t])}function Si(e){return void 0===e.a&&(e.a=wi,wi++),e.a}function Mi(e){if(!e)throw Error("Event target element must be provided!");vi.call(this),this.a=e}function Ei(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function Ci(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function xi(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function Ti(){this.g=this.a=null}s(Mi,vi),Mi.prototype.N=function(){return this.a},Mi.prototype.register=function(){var e=Si(this.N());yi[e]?q(yi[e],this)||yi[e].push(this):yi[e]=[this]},Ci.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var Ii,Ai,Oi=new Ci((function(){return new Ri}),(function(e){e.reset()}));function Pi(){var e=Ni,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Ri(){this.next=this.g=this.a=null}function Di(e){h.setTimeout((function(){throw e}),0)}function ji(e,t){Ai||function(){if(h.Promise&&h.Promise.resolve){var e=h.Promise.resolve(void 0);Ai=function(){e.then(Bi)}}else Ai=function(){var e=Bi;!_(h.setImmediate)||h.Window&&h.Window.prototype&&!Ge("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(Ii||(Ii=function(){var e=h.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ge("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=x((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!Ge("Trident")&&!Ge("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(f(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){i.next={gb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){h.setTimeout(e,0)}}()),Ii(e)):h.setImmediate(e)}}(),Li||(Ai(),Li=!0),Ni.add(e,t)}Ti.prototype.add=function(e,t){var n=Oi.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Ri.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Ri.prototype.reset=function(){this.next=this.g=this.a=null};var Li=!1,Ni=new Ti;function Bi(){for(var e;e=Pi();){try{e.a.call(e.g)}catch(e){Di(e)}xi(Oi,e)}Li=!1}function Fi(e){if(this.a=Ui,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=v)try{var t=this;e.call(void 0,(function(e){Xi(t,zi,e)}),(function(e){if(!(e instanceof ir))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Xi(t,qi,e)}))}catch(e){Xi(this,qi,e)}}var Ui=0,zi=2,qi=3;function Hi(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Hi.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Vi=new Ci((function(){return new Hi}),(function(e){e.reset()}));function Wi(e,t,n){var i=Vi.get();return i.s=e,i.g=t,i.j=n,i}function Ki(e){if(e instanceof Fi)return e;var t=new Fi(v);return Xi(t,zi,e),t}function Gi(e){return new Fi((function(t,n){n(e)}))}function Yi(e,t){if(e.a==Ui)if(e.h){var n=e.h;if(n.g){for(var i=0,r=null,o=null,a=n.g;a&&(a.h||(i++,a.a==e&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==Ui&&1==i?Yi(n,t):(o?((i=o).next==n.j&&(n.j=i),i.next=i.next.next):Qi(n),er(n,r,qi,t)))}e.h=null}else Xi(e,qi,t)}function Zi(e,t){e.g||e.a!=zi&&e.a!=qi||$i(e),e.j?e.j.next=t:e.g=t,e.j=t}function Ji(e,t,n,i){var r=Wi(null,null,null);return r.a=new Fi((function(e,o){r.s=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){o(e)}}:e,r.g=n?function(t){try{var r=n.call(i,t);!f(r)&&t instanceof ir?o(t):e(r)}catch(e){o(e)}}:o})),r.a.h=e,Zi(e,r),r.a}function Xi(e,t,n){if(e.a==Ui){e===n&&(t=qi,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var i=n,r=e.hc,o=e.ic;if(i instanceof Fi){Zi(i,Wi(r||v,o||null,e));var a=!0}else if(Ei(i))i.then(r,o,e),a=!0;else{if(k(i))try{var s=i.then;if(_(s)){!function(e,t,n,i,r){function o(e){s||(s=!0,i.call(r,e))}function a(e){s||(s=!0,n.call(r,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}(i,s,r,o,e),a=!0;break e}}catch(t){o.call(e,t),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,$i(e),t!=qi||n instanceof ir||function(e,t){e.s=!0,ji((function(){e.s&&nr.call(null,t)}))}(e,n))}}function $i(e){e.i||(e.i=!0,ji(e.Hb,e))}function Qi(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function er(e,t,n,i){if(n==qi&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,tr(t,n,i);else try{t.h?t.s.call(t.j):tr(t,n,i)}catch(e){nr.call(null,e)}xi(Vi,t)}function tr(e,t,n){t==zi?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Fi.prototype.then=function(e,t,n){return Ji(this,_(e)?e:null,_(t)?t:null,n)},Fi.prototype.$goog_Thenable=!0,(e=Fi.prototype).fc=function(e,t){return(e=Wi(e,e,t)).h=!0,Zi(this,e),this},e.Ca=function(e,t){return Ji(this,null,e,t)},e.cancel=function(e){this.a==Ui&&ji((function(){Yi(this,new ir(e))}),this)},e.hc=function(e){this.a=Ui,Xi(this,zi,e)},e.ic=function(e){this.a=Ui,Xi(this,qi,e)},e.Hb=function(){for(var e;e=Qi(this);)er(this,e,this.a,this.A);this.i=!1};var nr=Di;function ir(e){D.call(this,e)}function rr(e,t,n){t||(t={}),n=n||window;var i=e instanceof wt?e:St(void 0!==e.href?e.href:String(e));e=t.target||e.target;var r=[];for(o in t)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(t[o]?1:0))}var o=r.join(",");return(Ge("iPhone")&&!Ge("iPod")&&!Ge("iPad")||Ge("iPad")||Ge("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(o=n.document.createElement("A"),i=i instanceof wt?i:Mt(i),o.href=_t(i),o.setAttribute("target",e),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,o),t=_t(i).toString(),n&&(tt&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Pt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+re(t)+'">',null),n.document.write(At(t)),n.document.close())):(n=n.open(_t(i).toString(),e,o))&&t.noopener&&(n.opener=null),n}function or(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function ar(e){rr(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function sr(e,t){if(null==(e=k(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function ur(){return window.location.href}function cr(e){var t=wr;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function lr(e,t,n){e.a=!0,e.h=n,e.j=!t,pr(e)}function hr(e){if(e.a){if(!e.J)throw new mr(e);e.J=!1}}function fr(e,t,n){e.s.push([t,n,void 0]),e.a&&pr(e)}function dr(e){return z(e.s,(function(e){return _(e[1])}))}function pr(e){if(e.i&&e.a&&dr(e)){var t=e.i,n=br[t];n&&(h.clearTimeout(n.a),delete br[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var i=n=!1;e.s.length&&!e.A;){var r=e.s.shift(),o=r[0],a=r[1];if(r=r[2],o=e.j?a:o)try{var s=o.call(r||e.O,t);f(s)&&(e.j=e.j&&(s==t||s instanceof Error),e.h=t=s),(Ei(t)||"function"==typeof h.Promise&&t instanceof h.Promise)&&(i=!0,e.A=!0)}catch(i){t=i,e.j=!0,dr(e)||(n=!0)}}e.h=t,i&&(s=x(e.L,e,!0),i=x(e.L,e,!1),t instanceof cr?(fr(t,s,i),t.l=!0):t.then(s,i)),n&&(t=new gr(t),br[t.a]=t,e.i=t.a)}function mr(){D.call(this)}function vr(){D.call(this)}function gr(e){this.a=h.setTimeout(x(this.h,this),0),this.g=e}R(ir,D),ir.prototype.name="cancel",cr.prototype.cancel=function(e){if(this.a)this.h instanceof cr&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new vr(this),hr(this),lr(this,!1,e))}},cr.prototype.L=function(e,t){this.A=!1,lr(this,e,t)},cr.prototype.callback=function(e){hr(this),lr(this,!0,e)},cr.prototype.then=function(e,t,n){var i,r,o=new Fi((function(e,t){i=e,r=t}));return fr(this,i,(function(e){e instanceof vr?o.cancel():r(e)})),o.then(e,t,n)},cr.prototype.$goog_Thenable=!0,R(mr,D),mr.prototype.message="Deferred has already fired",mr.prototype.name="AlreadyCalledError",R(vr,D),vr.prototype.message="Deferred was canceled",vr.prototype.name="CanceledError",gr.prototype.h=function(){throw delete br[this.a],this.g};var br={};function yr(e){var t={},n=t.document||document,i=bt(e).toString(),r=document.createElement("SCRIPT"),o={rb:r,sb:void 0},a=new cr(o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){_r(r,!0);var e=new Mr(Sr,"Timeout reached for loading script "+i);hr(a),lr(a,!1,e)}),u),o.sb=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(_r(r,t.yc||!1,s),a.callback(null))},r.onerror=function(){_r(r,!0,s);var e=new Mr(kr,"Error while loading script "+i);hr(a),lr(a,!1,e)},ue(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){oe(t,(function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Vt.hasOwnProperty(n)?e.setAttribute(Vt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(r,o),function(e,t){e.src=bt(t),null===m&&(m=(t=(t=h.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)?t:""),(t=m)&&e.setAttribute("nonce",t)}(r,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}function wr(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&_r(e,!0,this.sb)}}function _r(e,t,n){null!=n&&h.clearTimeout(n),e.onload=v,e.onerror=v,e.onreadystatechange=v,t&&window.setTimeout((function(){Kt(e)}),0)}var kr=0,Sr=1;function Mr(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Er(){return h.google&&h.google.accounts&&h.google.accounts.id||null}function Cr(e){this.a=e||Er(),this.h=!1,this.g=null}function xr(e,t,n){return e.a&&t?(e.h=!0,new Fi((function(i){e.g=i,e.a.initialize({client_id:t,callback:i,auto_select:!n}),e.a.prompt()}))):Ki(t?Ir.Xa().load().then((function(){return e.a=Er(),xr(e,t,n)})).Ca((function(){return null})):null)}R(Mr,D),Cr.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},g(Cr);var Tr=new pt(vt,"https://accounts.google.com/gsi/client");function Ir(){this.a=null}function Ar(e,t){this.a=e,this.g=t||function(e){throw e}}function Or(e,t,n){this.reset(e,t,n,void 0,void 0)}Ir.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=Tr;e instanceof pt&&e.constructor===pt&&e.g===mt?e=e.a:(L("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new gt;return t.a=e,t}();return Er()?Ki():this.a=function(){var e=null;return new Fi((function(t){"complete"==h.document.readyState?t():(e=function(){t()},ai(window,"load",e))})).Ca((function(t){throw si(window,"load",e),t}))}().then((function(){if(!Er())return new Fi((function(n,i){var r=setTimeout((function(){e.a=null,i(Error("Network error!"))}),1e4);h.onGoogleLibraryLoad=function(){clearTimeout(r),n()},Ki(yr(t)).then((function(){Er()&&n()})).Ca((function(t){clearTimeout(r),e.a=null,i(t)}))}))}))},g(Ir),Ar.prototype.confirm=function(e){return Ki(this.a.confirm(e)).Ca(this.g)},Or.prototype.a=null;function Pr(e){this.s=e,this.a=this.h=this.j=this.g=null}function Rr(e,t){this.name=e,this.value=t}Or.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,this.h=i||O(),this.j=e,this.s=t,this.g=n,delete this.a},Rr.prototype.toString=function(){return this.name};var Dr=new Rr("SEVERE",1e3),jr=new Rr("WARNING",900),Lr=new Rr("CONFIG",700);function Nr(e){return e.j?e.j:e.g?Nr(e.g):(L("Root logger has no level set."),null)}Pr.prototype.log=function(e,t,n){if(e.value>=Nr(this).value)for(_(t)&&(t=t()),e=new Or(e,String(t),this.s),n&&(e.a=n),n=this;n;){var i=n,r=e;if(i.a)for(var o=0;t=i.a[o];o++)t(r);n=n.g}};var Br={},Fr=null;function Ur(){Fr||(Fr=new Pr(""),Br[""]=Fr,Fr.j=Lr)}function zr(){this.a=O()}var qr=null;function Hr(e){this.j=e||"",qr||(qr=new zr),this.s=qr}function Vr(e){return 10>e?"0"+e:String(e)}function Wr(e){Hr.call(this,e)}function Kr(){this.s=x(this.h,this),this.a=new Wr,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}zr.prototype.set=function(e){this.a=e},zr.prototype.reset=function(){this.set(O())},zr.prototype.get=function(){return this.a},Hr.prototype.a=!0,Hr.prototype.g=!0,Hr.prototype.h=!1,R(Wr,Hr),Kr.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var i=new Date(t.h);n.push("[",Vr(i.getFullYear()-2e3)+Vr(i.getMonth()+1)+Vr(i.getDate())+" "+Vr(i.getHours())+":"+Vr(i.getMinutes())+":"+Vr(i.getSeconds())+"."+Vr(Math.floor(i.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);if(Yr)!function(e,t,n,i){e[t]?e[t](n,i||""):e.log(n,i||"")}(Yr,function(e){if(e){if(e.value>=Dr.value)return"error";if(e.value>=jr.value)return"warn";if(e.value>=Lr.value)return"log"}return"debug"}(e.j),t,e.a)}};var Gr,Yr=h.console;function Zr(e,t){Gr&&Gr.log(Dr,e,t)}Gr=function e(t){var n;if(Ur(),!(n=Br[t])){n=new Pr(t);var i=t.lastIndexOf("."),r=t.substr(i+1);(i=e(t.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,Br[t]=n}return n}("firebaseui");var Jr=new Kr;if(1!=Jr.g){var Xr;Ur(),Xr=Fr;var $r=Jr.s;Xr.a||(Xr.a=[]),Xr.a.push($r),Jr.g=!0}function Qr(e){Gr&&Gr.log(jr,e,void 0)}function eo(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function to(e){e=(e.a.cookie||"").split(";");for(var t,n,i=[],r=[],o=0;o<e.length;o++)-1==(t=(n=Z(e[o])).indexOf("="))?(i.push(""),r.push(n)):(i.push(n.substring(0,t)),r.push(n.substring(t+1)));return{keys:i,values:r}}(e=eo.prototype).set=function(e,t,n,i,r,o){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');f(n)||(n=-1),r=r?";domain="+r:"",i=i?";path="+i:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(O()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+r+i+n+o},e.get=function(e,t){for(var n,i=e+"=",r=(this.a.cookie||"").split(";"),o=0;o<r.length;o++){if(0==(n=Z(r[o])).lastIndexOf(i,0))return n.substr(i.length);if(n==e)return""}return t},e.ja=function(){return to(this).keys},e.la=function(){return to(this).values},e.clear=function(){for(var e=to(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var no=new eo;function io(){}function ro(e,t,n,i){this.h=null!=e?e:-1,this.g=t||null,this.a=n||null,this.j=!!i}function oo(e,t){this.g=e,this.a=t||null}function ao(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function so(e){if(e&&e.email){var t=e.credential&&Xn.auth.AuthCredential.fromJSON(e.credential);return new oo(e.email,t)}return null}function uo(e){this.a=e||null}function co(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);255<r&&(t[n++]=255&r,r>>=8),t[n++]=r}return t}function lo(e){return U(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function ho(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(fo*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<fo*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,i=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=i,wo(t),t[0]^=So[e/this.g][0],t[1]^=So[e/this.g][1],t[2]^=So[e/this.g][2],t[3]^=So[e/this.g][3]}else 6<this.g&&4==e%this.g&&wo(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}s(ro,io),ro.prototype.set=function(e,t){no.set(e,t,this.h,this.g,this.a,this.j)},ro.prototype.get=function(e){return no.get(e)||null},ro.prototype.ra=function(e){var t=this.g,n=this.a;no.get(e),no.set(e,"",0,t,n)},ho.prototype.A=16;var fo=ho.prototype.A/4;function po(e,t){for(var n,i=0;i<fo;i++)for(var r=0;4>r;r++)n=t[n=4*r+i],e.h[i][r]=n}function mo(e){for(var t=[],n=0;n<fo;n++)for(var i=0;4>i;i++)t[4*i+n]=e.h[n][i];return t}function vo(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]^=e.a[4*t+i][n]}function go(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]=t[e.h[n][i]]}function bo(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%fo]}function yo(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%fo]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function wo(e){e[0]=_o[e[0]],e[1]=_o[e[1]],e[2]=_o[e[2]],e[3]=_o[e[3]]}var _o=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ko=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],So=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Mo=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Eo=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Co=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],xo=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],To=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Io=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Ao(e,t){e=new ho(Po(e));for(var n,i=(t=co(t)).splice(0,16),r="";i.length;){n=16-i.length;for(var o=0;o<n;o++)i.push(0);for(po(n=e,i),vo(n,0),i=1;i<n.j;++i){go(n,_o),bo(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=Mo[a[0]]^Eo[a[1]]^a[2]^a[3],o[1][s]=a[0]^Mo[a[1]]^Eo[a[2]]^a[3],o[2][s]=a[0]^a[1]^Mo[a[2]]^Eo[a[3]],o[3][s]=Eo[a[0]]^a[1]^a[2]^Mo[a[3]];vo(n,i)}go(n,_o),bo(n),vo(n,n.j),r+=lo(mo(n)),i=t.splice(0,16)}return r}function Oo(e,t){e=new ho(Po(e));for(var n=[],i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));var r=n.splice(0,16);for(t="";r.length;){for(po(i=e,r),vo(i,i.j),r=1;r<i.j;++r){yo(i),go(i,ko),vo(i,i.j-r);for(var o=i.h,a=i.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=Io[a[0]]^xo[a[1]]^To[a[2]]^Co[a[3]],o[1][s]=Co[a[0]]^Io[a[1]]^xo[a[2]]^To[a[3]],o[2][s]=To[a[0]]^Co[a[1]]^Io[a[2]]^xo[a[3]],o[3][s]=xo[a[0]]^To[a[1]]^Co[a[2]]^Io[a[3]]}if(yo(i),go(i,ko),vo(i,0),8192>=(i=mo(i)).length)i=String.fromCharCode.apply(null,i);else{for(r="",o=0;o<i.length;o+=8192)r+=String.fromCharCode.apply(null,Y(i,o,o+8192));i=r}t+=i,r=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function Po(e){for(var t=32-(e=co(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Ro(e){var t=[];return jo(new Do,e,t),t.join("")}function Do(){}function jo(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(y(t)){var i=t;t=i.length,n.push("[");for(var r="",o=0;o<t;o++)n.push(r),jo(e,i[o],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,i)&&("function"!=typeof(o=t[i])&&(n.push(r),Bo(i,n),n.push(":"),jo(e,o,n),r=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Bo(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Lo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},No=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Bo(e,t){t.push('"',e.replace(No,(function(e){var t=Lo[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Lo[e]=t),t})),'"')}function Fo(e){this.a=e}function Uo(){}function zo(e){this.a=e}function qo(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function Ho(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function Vo(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function Wo(e,t){this.g=e,this.a=t+"::"}Fo.prototype.set=function(e,t){f(t)?this.a.set(e,Ro(t)):this.a.ra(e)},Fo.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},R(Uo,io),Uo.prototype.clear=function(){var e=fe(this.ha(!0)),t=this;B(e,(function(e){t.ra(e)}))},R(zo,Uo),(e=zo.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!d(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,i=new le;return i.next=function(){if(t>=n.length)throw ce;var i=n.key(t++);if(e)return i;if(!d(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},R(Ho,zo),R(Vo,zo),R(Wo,Uo),Wo.prototype.set=function(e,t){this.g.set(this.a+e,t)},Wo.prototype.get=function(e){return this.g.get(this.a+e)},Wo.prototype.ra=function(e){this.g.ra(this.a+e)},Wo.prototype.ha=function(e){var t=this.g.ha(!0),n=this,i=new le;return i.next=function(){for(var i=t.next();i.substr(0,n.a.length)!=n.a;)i=t.next();return e?i.substr(n.a.length):n.g.get(i)},i},qo(new Ho);var Ko=new Vo,Go=new Fo(qo(Ko)?new Wo(Ko,"firebaseui"):null),Yo={name:"pendingEmailCredential",storage:Go},Zo={name:"redirectStatus",storage:Go},Jo={name:"redirectUrl",storage:Go},Xo={name:"emailForSignIn",storage:new Fo(new ro(3600,"/"))},$o={name:"pendingEncryptedCredential",storage:new Fo(new ro(3600,"/"))};function Qo(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function ea(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function ta(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function na(e){return Qo(Jo,e)||null}function ia(e){return so(e=Qo(Yo,e)||null)}function ra(e){ea(Yo,e)}function oa(e,t){ta(Yo,ao(e),t)}function aa(e){return(e=Qo(Zo,e)||null)&&void 0!==e.tenantId?new uo(e.tenantId):null}function sa(){this.W={}}function ua(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function ca(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function la(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function ha(){this.g=void 0,this.a={}}function fa(e,t,n,i){for(var r=0;r<t.length;r++){var o=t.charAt(r);e.a[o]||(e.a[o]=new ha),e=e.a[o]}if(i&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function da(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)da(e.a[n],t)}function pa(e,t,n){for(var i in void 0!==e.g&&n.push(t),e.a)pa(e.a[i],t+i,n)}function ma(e){for(this.a=e,this.g=new ha,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function va(e,t){var n={},i=0;for(void 0!==(e=e.g).g&&(n[i]=e.g);i<t.length;i++){var r=t.charAt(i);if(!(r in e.a))break;void 0!==(e=e.a[r]).g&&(n[i]=e.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function ga(e){for(var t=0;t<_a.length;t++)if(_a[t].c===e)return _a[t];return null}function ba(e){e=e.toUpperCase();for(var t=[],n=0;n<_a.length;n++)_a[n].f===e&&t.push(_a[n]);return t}function ya(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<_a.length;n++)_a[n].b==e&&t.push(_a[n]);e=t}else e=ba(e);return e}function wa(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}sa.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=ha.prototype).set=function(e,t){fa(this,e,t,!1)},e.add=function(e,t){fa(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return da(this,e),e},e.ja=function(){var e=[];return pa(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var _a=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];wa(_a);var ka=new ma(_a);function Sa(e,t){this.a=e,this.Aa=t}function Ma(e){e=Z(e);var t=va(ka,e);return 0<t.length?new Sa("1"==t[0].b?"1-US-0":t[0].c,Z(e.substr(t[0].b.length+1))):null}function Ea(e){var t=ga(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function Ca(e,t){for(var n=0;n<e.length;n++)if(!q(xa,e[n])&&(null!==Ta&&e[n]in Ta||q(t,e[n])))return e[n];return null}var xa=["emailLink","password","phone"],Ta={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ia(){this.a=new sa,ua(this.a,"acUiConfig"),ua(this.a,"autoUpgradeAnonymousUsers"),ua(this.a,"callbacks"),ua(this.a,"credentialHelper",os),ua(this.a,"immediateFederatedRedirect",!1),ua(this.a,"popupMode",!1),ua(this.a,"privacyPolicyUrl"),ua(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),ua(this.a,"queryParameterForWidgetMode","mode"),ua(this.a,"signInFlow"),ua(this.a,"signInOptions"),ua(this.a,"signInSuccessUrl"),ua(this.a,"siteName"),ua(this.a,"tosUrl"),ua(this.a,"widgetUrl"),ua(this.a,"adminRestrictedOperation")}function Aa(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Xa(e)&&Zr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Oa(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var i=e[n];(i=k(i)?i:{provider:i}).provider&&t.push(i)}return t}function Pa(e,t){e=Oa(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Ra(e){return Oa(e).map((function(e){return e.provider}))}function Da(e,t){e=ja(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function ja(e){return Oa(e).map((function(e){if(Ta[e.provider]||q(ls,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?_t(St(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?_t(St(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}}))}function La(e){var t=Pa(e,Xn.auth.GoogleAuthProvider.PROVIDER_ID);return t&&t.clientId&&function(e){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return os;if((e=e.a.get("credentialHelper"))===is)return os;for(var t in as)if(as[t]===e)return as[t];return os}(e)===rs&&t.clientId||null}function Na(e){return!!((e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function Ba(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Fa(e,t){return e=(e=Pa(e,t))&&e.scopes,Array.isArray(e)?e:[]}function Ua(e,t){return k(e=(e=Pa(e,t))&&e.customParameters)?(e=ae(e),t===Xn.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===Xn.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function za(e){if(!(e=Pa(e,Xn.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return _a;if(e=[],t){n={};for(var i=0;i<t.length;i++)for(var r=ya(t[i]),o=0;o<r.length;o++)n[r[o].c]=r[o];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(r=ya(n[t]),i=0;i<r.length;i++)a[r[i].c]=r[i];for(r=0;r<_a.length;r++)null!==a&&_a[r].c in a||e.push(_a[r])}return e}function qa(e){return la(e.a,"queryParameterForWidgetMode")}function Ha(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Qr("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){ar(t)}}return null}function Va(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Qr("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ar(n)}}return null}function Wa(e){return!(e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function Ka(e){return!(!(e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==Xn.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ga(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Ra(e);return e=Ya(e),t&&1==n.length&&!q(xa,n[0])&&e==ss}function Ya(e){for(var t in e=e.a.get("signInFlow"),us)if(us[t]==e)return us[t];return ss}function Za(e){return $a(e).signInSuccess||null}function Ja(e){return $a(e).signInSuccessWithAuthResult||null}function Xa(e){return $a(e).signInFailure||null}function $a(e){return e.a.get("callbacks")||{}}var Qa,es,ts,ns,is="accountchooser.com",rs="googleyolo",os="none",as={lc:is,oc:rs,NONE:os},ss="redirect",us={rc:"popup",sc:ss},cs={nc:"callback",RECOVER_EMAIL:"recoverEmail",tc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",uc:"select",vc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},ls=["anonymous"],hs=["sitekey","tabindex","callback","expired-callback"],fs={};function ds(e,t,n,i){fs[e].apply(null,Array.prototype.slice.call(arguments,1))}function ps(e){return e.classList?e.classList:d(e=e.className)&&e.match(/\S+/g)||[]}function ms(e,t){return e.classList?e.classList.contains(t):q(ps(e),t)}function vs(e,t){e.classList?e.classList.add(t):ms(e,t)||(e.className+=0<e.className.length?" "+t:t)}function gs(e,t){e.classList?e.classList.remove(t):ms(e,t)&&(e.className=F(ps(e),(function(e){return e!=t})).join(" "))}function bs(e){var t=e.type;switch(d(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,i=0;n=e.options[i];i++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function ys(e,t){var n=e.type;switch(d(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,d(t))for(var i=0;n=e.options[i];i++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(d(t)&&(t=[t]),i=0;n=e.options[i];i++)if(n.selected=!1,t)for(var r,o=0;r=t[o];o++)n.value==r&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function ws(e,t,n,i,r,o){if(it&&!ft("525"))return!0;if(ot&&r)return _s(e);if(r&&!i)return!1;if(!nt&&("number"==typeof t&&(t=ks(t)),(!n||ot)&&(17==t||18==t||ot&&91==t)||ot&&16==t&&(i||o)))return!1;if((it||et)&&i&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qe&&i&&t==e)return!1;switch(e){case 13:return!nt||!o&&!r&&!(n&&i);case 27:return!(it||et||nt)}return(!nt||!(i||r||o))&&_s(e)}function _s(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(it||et)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return nt;default:return!1}}function ks(e){if(nt)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(ot&&it)switch(e){case 93:e=91}return e}function Ss(e){vi.call(this),this.a=e,ri(e,"keydown",this.g,!1,this),ri(e,"click",this.h,!1,this)}function Ms(e,t){var n=new Cs(t);if(gi(e,n)){n=new Es(t);try{gi(e,n)}finally{t.stopPropagation()}}}function Es(e){Kn.call(this,e.a),this.type="action"}function Cs(e){Kn.call(this,e.a),this.type="beforeaction"}function xs(e){vi.call(this),this.a=e,e=Qe?"focusout":"blur",this.g=ri(this.a,Qe?"focusin":"focus",this,!Qe),this.h=ri(this.a,e,this,!Qe)}function Ts(e,t){vi.call(this),this.g=e||1,this.a=t||h,this.h=x(this.gc,this),this.j=O()}function Is(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function As(e){Ln.call(this),this.g=e,this.a={}}R(Ss,vi),Ss.prototype.g=function(e){(13==e.keyCode||it&&3==e.keyCode)&&Ms(this,e)},Ss.prototype.h=function(e){Ms(this,e)},Ss.prototype.o=function(){Ss.K.o.call(this),si(this.a,"keydown",this.g,!1,this),si(this.a,"click",this.h,!1,this),delete this.a},R(Es,Kn),R(Cs,Kn),R(xs,vi),xs.prototype.handleEvent=function(e){var t=new Kn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",gi(this,t)},xs.prototype.o=function(){xs.K.o.call(this),ui(this.g),ui(this.h),delete this.a},R(Ts,vi),(e=Ts.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=O()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),gi(this,"tick"),this.Ka&&(Is(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=O())},e.o=function(){Ts.K.o.call(this),Is(this),delete this.a},R(As,Ln);var Os=[];function Ps(e,t,n,i){y(n)||(n&&(Os[0]=n.toString()),n=Os);for(var r=0;r<n.length;r++){var o=ri(t,n[r],i||e.handleEvent,!1,e.g||e);if(!o)break;e.a[o.key]=o}}function Rs(e){oe(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ui(e)}),e),e.a={}}function Ds(e){vi.call(this),this.a=null,this.g=e,e=Qe||et||it&&!ft("531")&&"TEXTAREA"==e.tagName,this.h=new As(this),Ps(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function js(e){null!=e.a&&(h.clearTimeout(e.a),e.a=null)}function Ls(e){return(e=new Kn(e.a)).type="input",e}function Ns(e,t){vi.call(this),e&&(this.Oa&&qs(this),this.qa=e,this.Na=ri(this.qa,"keypress",this,t),this.Ya=ri(this.qa,"keydown",this.Jb,t,this),this.Oa=ri(this.qa,"keyup",this.Kb,t,this))}As.prototype.o=function(){As.K.o.call(this),Rs(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R(Ds,vi),Ds.prototype.handleEvent=function(e){if("input"==e.type)Qe&&ft(10)&&0==e.keyCode&&0==e.j||(js(this),gi(this,Ls(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(_s(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!nt;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Qe&&229==e.keyCode&&(t=null);var n=Ls(e);js(this),this.a=function(e,t){if(_(e))t&&(e=x(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(0)?-1:h.setTimeout(e,0)}((function(){this.a=null,this.g.value!=t&&gi(this,n)}),this)}},Ds.prototype.o=function(){Ds.K.o.call(this),this.h.m(),js(this),delete this.g},R(Ns,vi),(e=Ns.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Bs={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Fs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Us=!it||ft("525"),zs=ot&&nt;function qs(e){e.Na&&(ui(e.Na),ui(e.Ya),ui(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Hs(e,t,n,i){Kn.call(this,i),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Vs(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}function Ws(e,t){var n=Gt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Ks(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return Qe&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Gs(e){var t=Gt(e),n=new Bt(0,0),i=t?Gt(t):document;return e==(i=!Qe||9<=Number(lt)||"CSS1Compat"==Ut(i).a.compatMode?i.documentElement:i.body)||(e=Ks(e),t=Wt(i=Ut(t).a),i=i.parentWindow||i.defaultView,t=Qe&&ft("10")&&i.pageYOffset!=t.scrollTop?new Bt(t.scrollLeft,t.scrollTop):new Bt(i.pageXOffset||t.scrollLeft,i.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Ns.prototype).Jb=function(e){(it||et)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||ot&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Us&&!ws(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=ks(e.keyCode),zs&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Qe&&"keypress"==e.type)var i=this.X,r=13!=i&&27!=i?t.keyCode:0;else(it||et)&&"keypress"==e.type?(i=this.X,r=0<=t.charCode&&63232>t.charCode&&_s(i)?t.charCode:0):$e&&!it?r=_s(i=this.X)?t.keyCode:0:("keypress"==e.type?(zs&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(i=t.keyCode,r=0):(i=this.X,r=t.charCode):(i=t.keyCode||this.X,r=t.charCode||0)):(i=t.keyCode||this.X,r=t.charCode||0),ot&&63==r&&224==i&&(i=191));var o=i=ks(i);i?63232<=i&&i in Bs?o=Bs[i]:25==i&&e.shiftKey&&(o=9):t.keyIdentifier&&t.keyIdentifier in Fs&&(o=Fs[t.keyIdentifier]),nt&&Us&&"keypress"==e.type&&!ws(o,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=o==this.R,this.R=o,(t=new Hs(o,r,e,t)).altKey=n,gi(this,t))},e.N=function(){return this.qa},e.o=function(){Ns.K.o.call(this),qs(this)},R(Hs,Kn),Vs.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Vs.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Vs.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Vs.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Ys={thin:2,medium:4,thick:6};function Zs(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in Ys)e=Ys[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=i,e=+n}return e}function Js(){}function Xs(e){vi.call(this),this.s=e||Ut(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function $s(e,t){return e.g?qt(t,e.g||e.s.a):null}function Qs(e){return e.L||(e.L=new As(e)),e.L}function eu(e,t){e.Ea&&B(e.Ea,t,void 0)}function tu(e,t){var n=Zt(e,"firebaseui-textfield");t?(gs(e,"firebaseui-input-invalid"),vs(e,"firebaseui-input"),n&&gs(n,"firebaseui-textfield-invalid")):(gs(e,"firebaseui-input"),vs(e,"firebaseui-input-invalid"),n&&vs(n,"firebaseui-textfield-invalid"))}function nu(e,t,n){Fn(e,T(Un,t=new Ds(t))),Ps(Qs(e),t,"input",n)}function iu(e,t,n){Fn(e,T(Un,t=new Ns(t))),Ps(Qs(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function ru(e,t,n){Fn(e,T(Un,t=new Ss(t))),Ps(Qs(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function ou(e){vs(e,"firebaseui-hidden")}function au(e,t){t&&Yt(e,t),gs(e,"firebaseui-hidden")}function su(e){return!ms(e,"firebaseui-hidden")&&"none"!=e.style.display}function uu(e){var t=(e=e||{}).email,n=e.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return i=e.xc?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+mn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',hn(i)}function cu(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+sn(e):t+"Next",hn(t+"</button>")}function lu(){var e=""+cu({label:dn("Sign In")});return hn(e)}function hu(){var e=""+cu({label:dn("Save")});return hn(e)}function fu(){var e=""+cu({label:dn("Continue")});return hn(e)}function du(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+sn(e):t+"Choose password",hn(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function pu(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return hn((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function mu(){return hn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function vu(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+sn(e):t+"Cancel",hn(t+"</button>")}function gu(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),hn(t)}function bu(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),hn(t)}function yu(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+sn(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',hn(e)}function wu(e){var t=e.content;return e=e.Ab,hn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+mn(e):"")+'">'+sn(t)+"</dialog>")}function _u(e){var t=e.message;return hn(wu({content:pn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+mn(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+sn(t)+"</div>")}))}function ku(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,i=0;i<n;i++){var r=e[i];t+='<button type="button" data-listboxid="'+mn(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+mn(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+sn(r.label)+"</div></button>"}return t=""+wu({Ab:dn("firebaseui-list-box-dialog"),content:pn(t+"</div>")}),hn(t)}function Su(e){return hn((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Mu(e,t){return ln((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function Eu(e){Tu(e,"upgradeElement")}function Cu(e){Tu(e,"downgradeElements")}g(Js),Js.prototype.a=0,R(Xs,vi),(e=Xs.prototype).Lb=Js.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Xs.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,eu(this,(function(e){!e.na&&e.N()&&e.v()}))},e.ya=function(){eu(this,(function(e){e.na&&e.ya()})),this.L&&Rs(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),eu(this,(function(e){e.m()})),this.g&&Kt(this.g),this.Y=this.g=this.oa=this.Ea=null,Xs.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=d(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(this.oa&&n?e=(null!==(e=this.oa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var i=this.oa;if(n in i&&delete i[n],H(this.Ea,e),t&&(e.ya(),e.g&&Kt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Xs.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},yu.a="firebaseui.auth.soy2.element.infoBar",_u.a="firebaseui.auth.soy2.element.progressDialog",ku.a="firebaseui.auth.soy2.element.listBoxDialog",Su.a="firebaseui.auth.soy2.element.busyIndicator";var xu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Tu(e,t){e&&window.componentHandler&&window.componentHandler[t]&&xu.forEach((function(n){ms(e,n)&&window.componentHandler[t](e),B(zt(n,e),(function(e){window.componentHandler[t](e)}))}))}function Iu(e,t,n){if(Au.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Eu(e),t&&ru(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Au.call(this)})),!n){var i=this.N().parentElement||this.N().parentNode;if(i){var r=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=i.getBoundingClientRect().height,o=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=e.getBoundingClientRect().width,u=i.getBoundingClientRect().width;e.style.top=(o+(n-t)/2).toString()+"px",t=a+(u-s)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-s).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Au(){var e=Ou.call(this);e&&(Cu(e),e.open&&e.close(),Kt(e),this.da&&window.removeEventListener("resize",this.da))}function Ou(){return qt("firebaseui-id-dialog")}function Pu(){Kt(Ru.call(this))}function Ru(){return $s(this,"firebaseui-id-info-bar")}function Du(){return $s(this,"firebaseui-id-dismiss-info-bar")}var ju={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Lu(e,t,n){for(var i in Wn.call(this,e,t),n)this[i]=n[i]}function Nu(e,t,n,i,r){Xs.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=i||null,this.A=this.ca=null,this.Z=ae(ju),ue(this.Z,r||{})}function Bu(e){return e.N().parentElement||e.N().parentNode}function Fu(e,t,n){iu(e,t,(function(){n.focus()}))}function Uu(e,t,n){iu(e,t,(function(){n()}))}function zu(e,t,n){t=(e=e||{}).Va;var i=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+uu(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?vu(null):"")+cu(null)+'</div></div><div class="firebaseui-card-footer">'+(i?bu(n):gu(n))+"</div></form></div>",hn(e)}function qu(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+uu(e)+pu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+mu()+'</div><div class="firebaseui-form-actions">'+lu()+'</div></div><div class="firebaseui-card-footer">'+(t?bu(n):gu(n))+"</div></form></div>",hn(e)}function Hu(e,t,n){var i=(e=e||{}).Tb;t=e.Ta;var r=e.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+uu(e);return i?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+mn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=hn(e)):e="",n=o+e+du(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?vu(null):"")+hu()+'</div></div><div class="firebaseui-card-footer">'+(r?bu(n):gu(n))+"</div></form></div>",hn(n)}function Vu(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+uu(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?vu(null):"")+cu({label:dn("Send")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(e)}function Wu(e,t,n){t=e.G;var i="";return i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+sn(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(i+='<div class="firebaseui-form-actions">'+cu({label:dn("Done")})+"</div>"),i+='</div><div class="firebaseui-card-footer">'+gu(n)+"</div></div>",hn(i)}function Ku(e,t,n){return hn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Su(null)+"</div></div>")}function Gu(e,t,n){return hn('<div class="firebaseui-container firebaseui-id-page-spinner">'+Su({tb:!0})+"</div>")}function Yu(){return hn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Zu(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+sn(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+vu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function Ju(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+vu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(e)}function Xu(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+uu(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu(null)+cu(null)+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(e)}function $u(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu({label:dn("Dismiss")})+"</div></div></div>";return hn(e)}function Qu(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu({label:dn("Dismiss")})+"</div></div></div>";return hn(e)}function ec(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="Youve already used <strong>"+sn(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+pu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+mu()+'</div><div class="firebaseui-form-actions">'+lu()+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function tc(e,t,n){var i=e.email;return t="",e=dn(e=""+Mu(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(i="Youve already used <strong>"+sn(i)+"</strong>. You can connect your <strong>"+sn(e)+"</strong> account with <strong>"+sn(i)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+sn(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu()+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function nc(e,t,n){t="";var i=""+Mu(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+sn(i=dn(i))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(i="If you still want to connect your <strong>"+sn(i)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu()+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function ic(e,t,n){var i=e.email;return t="",e=dn(e=""+Mu(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(i="Youve already used <strong>"+sn(i)+"</strong>. Sign in with "+sn(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cu({label:dn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function rc(e,t,n){var i=(e=e||{}).kc;t=e.yb,e=e.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i?r+=i="<strong>"+sn(i)+"</strong> is not authorized to view the requested page.":r+="User is not authorized to view the requested page.",r+="</p>",t&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+sn(t)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),r+='</div><div class="firebaseui-form-actions">'+vu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(r)}function oc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+sn(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu(null)+cu({label:dn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function ac(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+sn(e.email)+"</strong></p>")+du(function(e){function t(){}var n={label:dn("New password")};for(var i in t.prototype=e,e=new t,n)e[i]=n[i];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hu()+"</div></div></form></div>",hn(t)}function sc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function uc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function cc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+sn(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></form></div>",hn(n)}function lc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function hc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function fc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function dc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+sn(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(n)}function pc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function mc(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(t){case"phone":i+=t="The <strong>"+sn(t)+" "+sn(n)+"</strong> was removed as a second authentication step.";break;default:i+="The device or app was removed as a second authentication step."}return i+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></form></div>",hn(i)}function vc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+fu()+"</div>":"")+"</div></div>",hn(e)}function gc(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=cu({label:dn("Retry")})),hn(e+"</div></div></div>")}function bc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(e.errorMessage)+"</p></div></div>",hn(e)}function yc(e,t,n){var i=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+sn(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(i="You originally wanted to sign in with "+sn(i))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu(null)+cu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form></div>",hn(t)}function wc(e,t,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var r=0;r<t;r++){var o={ga:e[r]},a=n,s=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+mn(ln(c))+' firebaseui-id-idp-button" data-provider-id="'+mn(s.providerId)+'" style="background-color:')+mn(gn(ln((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=a,l=(l=l||{}).ga,c=fn(l.za?vn(l.za):c.xa[l.providerId]?vn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?vn(c.xa.saml):0==l.providerId.indexOf("oidc.")?vn(c.xa.oidc):vn(c.xa.password)),u=u+mn(vn(c))+'"></span>',"password"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(Mu(o,a)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Email",u+="</span>"):"phone"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(Mu(o,a)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Phone",u+="</span>"):"anonymous"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(Mu(o,a)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):u+=c="Sign in with "+sn(Mu(o,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(s.S?sn(s.S):sn(Mu(o,a)))+"</span>"),i+='<li class="firebaseui-list-item">'+(s=hn(u+"</button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+bu(n)+"</div></div>",hn(i)}function _c(e,t,n){var i,r=(e=e||{}).Gb,o=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+mn(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+hn(e))+(i=r?hn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?vu(null):"")+cu({label:dn("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=hn(t+"</p>")):n=hn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+gu(n),hn(i+n+"</div></form></div>")}function kc(e,t,n){var i="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+sn(t=(e=e||{}).phoneNumber)+"</a>",sn(t),t=i,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(i=hn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu(null)+cu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+gu(n)+"</div></form>",e=hn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),hn(t+(n+e+"</div>"))}function Sc(){return hn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function Mc(e,t,n){var i='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var r=0;r<t;r++){var o=e[r],a="",s=sn(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+mn(u=dn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+mn(o.tenantId)+'"':"")+'style="background-color:'+mn(gn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+mn(vn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?a+=sn(o.V):a+=o="Sign in to "+sn(o.displayName),i+='<li class="firebaseui-list-item">'+(a=hn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+bu(n)+"</div></div>",hn(i)}function Ec(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+uu(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cu(null)+'</div></div><div class="firebaseui-card-footer">'+bu(n)+"</div></form></div>",hn(e)}function Cc(){return $s(this,"firebaseui-id-submit")}function xc(){return $s(this,"firebaseui-id-secondary-link")}function Tc(e,t){ru(this,Cc.call(this),(function(t){e(t)}));var n=xc.call(this);n&&t&&ru(this,n,(function(e){t(e)}))}function Ic(){return $s(this,"firebaseui-id-password")}function Ac(){return $s(this,"firebaseui-id-password-error")}function Oc(){var e=Ic.call(this),t=Ac.call(this);nu(this,e,(function(){su(t)&&(tu(e,!0),ou(t))}))}function Pc(){var e=Ic.call(this),t=Ac.call(this);return bs(e)?(tu(e,!0),ou(t),t=!0):(tu(e,!1),au(t,ln("Enter your password").toString()),t=!1),t?bs(e):null}function Rc(e,t,n,i,r,o){Nu.call(this,ec,{email:e},o,"passwordLinking",{F:i,D:r}),this.w=t,this.H=n}R(Lu,Wn),R(Nu,Xs),(e=Nu.prototype).kb=function(){var e=nn(this.fb,this.eb,this.Z,this.s);Eu(e),this.g=e},e.v=function(){if(Nu.K.v.call(this),_i(Bu(this),new Lu("pageEnter",Bu(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;ru(this,this.bb(),(function(){e()}))}if(this.ab()&&this.Z.D){var t=this.Z.D;ru(this,this.ab(),(function(){t()}))}},e.ya=function(){_i(Bu(this),new Lu("pageExit",Bu(this),{pageId:this.Ga})),Nu.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Cu(this.N()),Nu.K.o.call(this)},e.I=function(e,t,n,i){function r(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(Cu(o.A),Kt(o.A),o.A=null)}var o=this;return o.Fa?null:(function(e){e.Fa=!0;var t=ms(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout((function(){e.N()&&null===e.A&&(e.A=nn(Su,{tb:t},null,e.s),e.N().appendChild(e.A),Eu(e.A))}),500)}(o),e.apply(null,t).then(n,i).then(r,r))},I(Nu.prototype,{a:function(e){Pu.call(this);var t=nn(yu,{message:e},null,this.s);this.N().appendChild(t),ru(this,Du.call(this),(function(){Kt(t)}))},zc:Pu,Bc:Ru,Ac:Du,$:function(e,t){e=nn(_u,{Ma:e,message:t},null,this.s),Iu.call(this,e)},h:Au,Cb:Ou,Dc:function(){return $s(this,"firebaseui-tos")},bb:function(){return $s(this,"firebaseui-tos-link")},ab:function(){return $s(this,"firebaseui-pp-link")},Ec:function(){return $s(this,"firebaseui-tos-list")}}),zu.a="firebaseui.auth.soy2.page.signIn",qu.a="firebaseui.auth.soy2.page.passwordSignIn",Hu.a="firebaseui.auth.soy2.page.passwordSignUp",Vu.a="firebaseui.auth.soy2.page.passwordRecovery",Wu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Ku.a="firebaseui.auth.soy2.page.callback",Gu.a="firebaseui.auth.soy2.page.spinner",Yu.a="firebaseui.auth.soy2.page.blank",Zu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Ju.a="firebaseui.auth.soy2.page.emailNotReceived",Xu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",$u.a="firebaseui.auth.soy2.page.differentDeviceError",Qu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",ec.a="firebaseui.auth.soy2.page.passwordLinking",tc.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",nc.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",ic.a="firebaseui.auth.soy2.page.federatedLinking",rc.a="firebaseui.auth.soy2.page.unauthorizedUser",oc.a="firebaseui.auth.soy2.page.unsupportedProvider",ac.a="firebaseui.auth.soy2.page.passwordReset",sc.a="firebaseui.auth.soy2.page.passwordResetSuccess",uc.a="firebaseui.auth.soy2.page.passwordResetFailure",cc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",lc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",hc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",fc.a="firebaseui.auth.soy2.page.emailVerificationFailure",dc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",pc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",mc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",vc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",gc.a="firebaseui.auth.soy2.page.recoverableError",bc.a="firebaseui.auth.soy2.page.unrecoverableError",yc.a="firebaseui.auth.soy2.page.emailMismatch",wc.a="firebaseui.auth.soy2.page.providerSignIn",_c.a="firebaseui.auth.soy2.page.phoneSignInStart",kc.a="firebaseui.auth.soy2.page.phoneSignInFinish",Sc.a="firebaseui.auth.soy2.page.signOut",Mc.a="firebaseui.auth.soy2.page.selectTenant",Ec.a="firebaseui.auth.soy2.page.providerMatchByEmail",s(Rc,Nu),Rc.prototype.v=function(){this.P(),this.M(this.w,this.H),Uu(this,this.i(),this.w),this.i().focus(),Nu.prototype.v.call(this)},Rc.prototype.o=function(){this.w=null,Nu.prototype.o.call(this)},Rc.prototype.j=function(){return bs($s(this,"firebaseui-id-email"))},I(Rc.prototype,{i:Ic,B:Ac,P:Oc,u:Pc,ea:Cc,ba:xc,M:Tc});var Dc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function jc(){return $s(this,"firebaseui-id-email")}function Lc(){return $s(this,"firebaseui-id-email-error")}function Nc(e){var t=jc.call(this),n=Lc.call(this);nu(this,t,(function(){su(n)&&(tu(t,!0),ou(n))})),e&&iu(this,t,(function(){e()}))}function Bc(){return Z(bs(jc.call(this))||"")}function Fc(){var e=jc.call(this),t=Lc.call(this),n=bs(e)||"";return n?Dc.test(n)?(tu(e,!0),ou(t),t=!0):(tu(e,!1),au(t,ln("That email address isn't correct").toString()),t=!1):(tu(e,!1),au(t,ln("Enter your email address to continue").toString()),t=!1),t?Z(bs(e)):null}function Uc(e,t,n,i,r,o,a){Nu.call(this,qu,{email:n,ia:!!o},a,"passwordSignIn",{F:i,D:r}),this.w=e,this.H=t}function zc(e,t,n,i,r,o){Nu.call(this,e,t,i,r||"notice",o),this.i=n||null}function qc(e,t,n,i,r){zc.call(this,Wu,{email:e,G:!!t},t,r,"passwordRecoveryEmailSent",{F:n,D:i})}function Hc(e,t){zc.call(this,hc,{G:!!e},e,t,"emailVerificationSuccess")}function Vc(e,t){zc.call(this,fc,{G:!!e},e,t,"emailVerificationFailure")}function Wc(e,t,n){zc.call(this,dc,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Kc(e,t){zc.call(this,pc,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Gc(e,t){zc.call(this,vc,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function Yc(e){zc.call(this,Sc,void 0,void 0,e,"signOut")}function Zc(e,t){zc.call(this,sc,{G:!!e},e,t,"passwordResetSuccess")}function Jc(e,t){zc.call(this,uc,{G:!!e},e,t,"passwordResetFailure")}function Xc(e,t){zc.call(this,lc,{G:!!e},e,t,"emailChangeRevokeFailure")}function $c(e,t,n){zc.call(this,gc,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function Qc(e,t){zc.call(this,bc,{errorMessage:e},void 0,t,"unrecoverableError")}function el(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function tl(e,t,n,i){function r(n){if(!n.name||"cancel"!=n.name){e:{var i=n.message;try{var r=((JSON.parse(i).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var o=!0;break e}}catch(e){}o=!1}if(o)n=Bu(t),t.m(),ul(e,n,void 0,ln("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=rl(n)}t.a(o)}}}if(Rh(e),i)return nl(e,n),Ki();if(!n.credential)throw Error("No credential found!");if(!Sh(e).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(e,t){return Lh(e),Ah(e,(function(n){if(e.j&&!e.j.isAnonymous&&Aa(jh(e))&&!Sh(e).currentUser)return Bh(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return Bh(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Fh(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Bh(e).then((function(){return Mh(e).updateCurrentUser(t.user)})).then((function(){return t.user=Mh(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(e){return Zr(e.code||e.message,e),t.a(e.code||e.message),Ki()}return n=o.then((function(t){nl(e,t)}),r).then(void 0,r),Ph(e,o),Ki(n)}function nl(e,t){if(!t.user)throw Error("No user found");var n=Ja(jh(e));if(Za(jh(e))&&n&&Qr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Ja(jh(e));var i=na(Eh(e))||void 0;ea(Jo,Eh(e));var r=!1;or()?(n&&!n(t,i)||(r=!0,Nt(window.opener.location,il(e,i))),n||window.close()):n&&!n(t,i)||(r=!0,Nt(window.location,il(e,i))),r||e.reset()}else{n=t.user,t=t.credential,i=Za(jh(e)),r=na(Eh(e))||void 0,ea(Jo,Eh(e));var o=!1;or()?(i&&!i(n,t,r)||(o=!0,Nt(window.opener.location,il(e,r))),i||window.close()):i&&!i(n,t,r)||(o=!0,Nt(window.location,il(e,r))),o||e.reset()}}function il(e,t){if(!(e=t||jh(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function rl(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Rn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Rn();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Tn();break;case"auth/invalid-verification-code":n+=ln("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=ln(n).toString())return t;try{return JSON.parse(e.message),Zr("Internal error: "+e.message,void 0),An().toString()}catch(t){return e.message}}function ol(e,t,n,i){function r(){!function(e,t){ta(Zo,{tenantId:e.a},t)}(new uo(e.h.tenantId||null),Eh(e)),Ph(e,t.I(x(e.dc,e),[u],(function(){if("file:"===(window.location&&window.location.protocol))return Ph(e,wh(e).then((function(n){t.m(),ea(Zo,Eh(e)),ds("callback",e,s,Ki(n))}),o))}),a))}function o(i){if(ea(Zo,Eh(e)),!i.name||"cancel"!=i.name)switch(i=el(i),i.code){case"auth/popup-blocked":r();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(rl(i));break;case"auth/admin-restricted-operation":t.m(),Ba(jh(e))?ds("handleUnauthorizedUser",e,s,null,n):ds("callback",e,s,Gi(i));break;default:t.m(),ds("callback",e,s,Gi(i))}}function a(n){ea(Zo,Eh(e)),n.name&&"cancel"==n.name||(Zr("signInWithRedirect: "+n.code,void 0),n=rl(n),"blank"==t.Ga&&Ga(jh(e))?(t.m(),ds("providerSignIn",e,s,n)):t.a(n))}var s=Bu(t),u=function(e,t,n){var i=Ta[t]&&Xn.auth[Ta[t]]?new Xn.auth[Ta[t]]:0==t.indexOf("saml.")?new Xn.auth.SAMLAuthProvider(t):new Xn.auth.OAuthProvider(t);if(!i)throw Error("Invalid Firebase Auth provider!");var r=Fa(jh(e),t);if(i.addScope)for(var o=0;o<r.length;o++)i.addScope(r[o]);return r=Ua(jh(e),t)||{},n&&(e=t==Xn.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==Xn.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Da(jh(e),t))&&e.Ob)&&(r[e]=n),i.setCustomParameters&&i.setCustomParameters(r),i}(e,n,i);Ya(jh(e))==ss?r():Ph(e,function(e,t){return Lh(e),Ah(e,(function(n){return n&&!ia(Eh(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Fh(e,t)})):Sh(e).signInWithPopup(t)}))}(e,u).then((function(n){t.m(),ds("callback",e,s,Ki(n))}),o))}function al(e){return 1==(e=Ra(jh(e))).length&&e[0]==Xn.auth.EmailAuthProvider.PROVIDER_ID}function sl(e){return 1==(e=Ra(jh(e))).length&&e[0]==Xn.auth.PhoneAuthProvider.PROVIDER_ID}function ul(e,t,n,i){al(e)?i?ds("signIn",e,t,n,i):fl(e,t,n):e&&sl(e)&&!i?ds("phoneSignInStart",e,t):e&&Ga(jh(e))&&!i?ds("federatedRedirect",e,t,n):ds("providerSignIn",e,t,i,n)}function cl(e,t,n,i){var r=Bu(t);Ph(e,t.I(x(Sh(e).fetchSignInMethodsForEmail,Sh(e)),[n],(function(o){t.m(),ll(e,r,o,n,i)}),(function(e){e=rl(e),t.a(e)})))}function ll(e,t,n,i,r,o){n.length||Ka(jh(e))&&!Ka(jh(e))?q(n,Xn.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ds("passwordSignIn",e,t,i,o):1==n.length&&n[0]===Xn.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ka(jh(e))?ds("sendEmailLinkForSignIn",e,t,i,(function(){ds("signIn",e,t)})):ds("unsupportedProvider",e,t,i):(n=Ca(n,Ra(jh(e))))?(oa(new oo(i),Eh(e)),ds("federatedSignIn",e,t,i,n,r)):ds("unsupportedProvider",e,t,i):Na(jh(e))?ds("handleUnauthorizedUser",e,t,i,Xn.auth.EmailAuthProvider.PROVIDER_ID):Ka(jh(e))?ds("sendEmailLinkForSignIn",e,t,i,(function(){ds("signIn",e,t)})):ds("passwordSignUp",e,t,i,void 0,void 0,o)}function hl(e,t,n,i,r,o){var a=Bu(t);Ph(e,t.I(x(e.Ib,e),[n,o],(function(){t.m(),ds("emailLinkSignInSent",e,a,n,i,o)}),r))}function fl(e,t,n){n?ds("prefilledEmailSignIn",e,t,n):ds("signIn",e,t)}function dl(){return ye(ur(),"oobCode")}function pl(){var e=ye(ur(),"continueUrl");return e?function(){Nt(window.location,e)}:null}function ml(e,t){Nu.call(this,Qu,void 0,t,"anonymousUserMismatch"),this.i=e}function vl(e){Nu.call(this,Ku,void 0,e,"callback")}function gl(e,t,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=ia(Eh(e)),o=r&&r.g;if(o&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,o))!function(e,t,n){var i=Bu(t);Ph(e,Bh(e).then((function(){t.m(),ds("emailMismatch",e,i,n)}),(function(e){e.name&&"cancel"==e.name||(e=rl(e.code),t.a(e))})))}(e,t,i);else{var a=r&&r.a;a?Ph(e,n.user.linkWithCredential(a).then((function(n){i={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},bl(e,t,i)}),(function(n){yl(e,t,n)}))):bl(e,t,i)}}else n=Bu(t),t.m(),ra(Eh(e)),ul(e,n)}function bl(e,t,n){ra(Eh(e)),tl(e,t,n)}function yl(e,t,n){var i=Bu(t);ra(Eh(e)),n=rl(n),t.m(),ul(e,i,void 0,n)}function wl(e,t,n,i){var r=Bu(t);Ph(e,Sh(e).fetchSignInMethodsForEmail(n).then((function(o){t.m(),o.length?q(o,Xn.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ds("passwordLinking",e,r,n):1==o.length&&o[0]===Xn.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ds("emailLinkSignInLinking",e,r,n):(o=Ca(o,Ra(jh(e))))?ds("federatedLinking",e,r,n,o,i):(ra(Eh(e)),ds("unsupportedProvider",e,r,n)):(ra(Eh(e)),ds("passwordRecovery",e,r,n,!1,On().toString()))}),(function(n){yl(e,t,n)})))}function _l(e,t){Nu.call(this,$u,void 0,t,"differentDeviceError"),this.i=e}function kl(e,t,n,i){Nu.call(this,cc,{email:e,G:!!n},i,"emailChangeRevoke"),this.l=t,this.i=n||null}function Sl(){return $s(this,"firebaseui-id-new-password")}function Ml(){return $s(this,"firebaseui-id-password-toggle")}function El(){this.Ra=!this.Ra;var e=Ml.call(this),t=Sl.call(this);this.Ra?(t.type="text",vs(e,"firebaseui-input-toggle-off"),gs(e,"firebaseui-input-toggle-on")):(t.type="password",vs(e,"firebaseui-input-toggle-on"),gs(e,"firebaseui-input-toggle-off")),t.focus()}function Cl(){return $s(this,"firebaseui-id-new-password-error")}function xl(){this.Ra=!1;var e=Sl.call(this);e.type="password";var t=Cl.call(this);nu(this,e,(function(){su(t)&&(tu(e,!0),ou(t))}));var n=Ml.call(this);vs(n,"firebaseui-input-toggle-on"),gs(n,"firebaseui-input-toggle-off"),function(e,t,n){Fn(e,T(Un,t=new xs(t))),Ps(Qs(e),t,"focusin",n)}(this,e,(function(){vs(n,"firebaseui-input-toggle-focus"),gs(n,"firebaseui-input-toggle-blur")})),function(e,t,n){Fn(e,T(Un,t=new xs(t))),Ps(Qs(e),t,"focusout",n)}(this,e,(function(){vs(n,"firebaseui-input-toggle-blur"),gs(n,"firebaseui-input-toggle-focus")})),ru(this,n,x(El,this))}function Tl(){var e=Sl.call(this),t=Cl.call(this);return bs(e)?(tu(e,!0),ou(t),t=!0):(tu(e,!1),au(t,ln("Enter your password").toString()),t=!1),t?bs(e):null}function Il(e,t,n){Nu.call(this,ac,{email:e},n,"passwordReset"),this.l=t}function Al(e,t,n,i,r){Nu.call(this,mc,{factorId:e,phoneNumber:n||null,G:!!i},r,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=i||null}function Ol(e,t,n,i){"auth/weak-password"==(i&&i.code)?(e=rl(i),tu(n.i(),!1),au(n.w(),e),n.i().focus()):(n&&n.m(),(n=new Jc).render(t),_h(e,n))}function Pl(e,t){try{var n="number"==typeof e.selectionStart}catch(e){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Qe&&!ft("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Rl(e,t,n,i,r,o){Nu.call(this,Xu,{email:n},o,"emailLinkSignInConfirmation",{F:i,D:r}),this.l=e,this.u=t}function Dl(e,t,n,i,r){Nu.call(this,nc,{ga:e},r,"emailLinkSignInLinkingDifferentDevice",{F:n,D:i}),this.i=t}function jl(e){Nu.call(this,Yu,void 0,e,"blank")}function Ll(e,t,n,i,r){var o=new jl,a=new Ue(n),s=a.a.a.get(Ve.$a)||"",u=a.a.a.get(Ve.Sa)||"",c="1"===a.a.a.get(Ve.Qa),l=ze(a),h=a.a.a.get(Ve.PROVIDER_ID)||null;a=a.a.a.get(Ve.vb)||null,Dh(e,a);var f=!Qo(Xo,Eh(e)),d=i||function(e,t){var n=null;if(t=Qo(Xo,t))try{var i=Oo(e,t),r=JSON.parse(i);n=r&&r.email||null}catch(e){}return n}(u,Eh(e)),p=(i=function(e,t){var n=null;if(t=Qo($o,t))try{var i=Oo(e,t);n=JSON.parse(i)}catch(e){}return so(n||null)}(u,Eh(e)))&&i.a;h&&p&&p.providerId!==h&&(p=null),o.render(t),_h(e,o),Ph(e,o.I((function(){var t=Ki(null);t=l&&f||f&&c?Gi(Error("anonymous-user-not-found")):function(e,t){var n=ze(new Ue(t));return n?(t=new Fi((function(t,i){var r=Mh(e).onAuthStateChanged((function(e){r(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))}));Ph(e,r)})),Ph(e,t),t):Ki(null)}(e,n).then((function(e){if(h&&!p)throw Error("pending-credential-not-found");return e}));var i=null;return t.then((function(t){return i=t,r?null:Sh(e).checkActionCode(s)})).then((function(){return i}))}),[],(function(i){d?function(e,t,n,i,r,o){var a=Bu(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Signing in...").toString());var s=null;r=(o?function(e,t,n,i,r){Lh(e);var o=r||null,a=Xn.auth.EmailAuthProvider.credentialWithLink(n,i);return n=o?Sh(e).signInWithEmailLink(n,i).then((function(e){return e.user.linkWithCredential(o)})).then((function(){return Bh(e)})).then((function(){return Fh(e,{code:"auth/email-already-in-use"},o)})):Sh(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Fh(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)})),Ph(e,n),n}(e,o,n,i,r):function(e,t,n,i){Lh(e);var r,o=i||null;return t=Sh(e).signInWithEmailLink(t,n).then((function(e){if(r={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},o)return e.user.linkWithCredential(o).then((function(e){r={user:e.user,credential:o,operationType:r.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){Bh(e)})).then((function(){return Mh(e).updateCurrentUser(r.user)})).then((function(){return r.user=Mh(e).currentUser,r})),Ph(e,t),t}(e,n,i,r)).then((function(n){ea($o,Eh(e)),ea(Xo,Eh(e)),t.h(),t.$("firebaseui-icon-done",ln("Signed in!").toString()),s=setTimeout((function(){t.h(),tl(e,t,n,!0)}),1e3),Ph(e,(function(){t&&(t.h(),t.m()),clearTimeout(s)}))}),(function(r){if(t.h(),t.m(),!r.name||"cancel"!=r.name){var o=rl(r=el(r));"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(ea($o,Eh(e)),ea(Xo,Eh(e))):"auth/invalid-email"==r.code?(o=ln("The email provided does not match the current sign-in session.").toString(),ds("emailLinkConfirmation",e,a,i,Nl,null,o)):ul(e,a,n,o)}})),Ph(e,r)}(e,o,d,n,p,i):c?(o.m(),ds("differentDeviceError",e,t)):(o.m(),ds("emailLinkConfirmation",e,t,n,Nl))}),(function(i){var r=void 0;if(!i||!i.name||"cancel"!=i.name)switch(o.m(),i&&i.message){case"anonymous-user-not-found":ds("differentDeviceError",e,t);break;case"anonymous-user-mismatch":ds("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":ds("emailLinkNewDeviceLinking",e,t,n,Bl);break;default:i&&(r=rl(i)),ul(e,t,void 0,r)}})))}function Nl(e,t,n,i){Ll(e,t,i,n,!0)}function Bl(e,t,n){Ll(e,t,n)}function Fl(e,t,n,i,r,o){Nu.call(this,tc,{email:e,ga:t},o,"emailLinkSignInLinking",{F:i,D:r}),this.i=n}function Ul(e,t,n,i,r,o){Nu.call(this,Zu,{email:e},o,"emailLinkSignInSent",{F:i,D:r}),this.u=t,this.i=n}function zl(e,t,n,i,r,o,a){Nu.call(this,yc,{jc:e,Qb:t},a,"emailMismatch",{F:r,D:o}),this.l=n,this.i=i}function ql(e,t,n,i,r){Nu.call(this,Ju,void 0,r,"emailNotReceived",{F:n,D:i}),this.l=e,this.i=t}function Hl(e,t,n,i,r,o){Nu.call(this,ic,{email:e,ga:t},o,"federatedLinking",{F:i,D:r}),this.i=n}function Vl(e,t,n,i,r,o){Nu.call(this,Vu,{email:n,Ta:!!t},o,"passwordRecovery",{F:i,D:r}),this.l=e,this.u=t}function Wl(){return $s(this,"firebaseui-id-name")}function Kl(){return $s(this,"firebaseui-id-name-error")}function Gl(e,t,n,i,r,o,a,s,u){Nu.call(this,Hu,{email:i,Tb:e,name:r,Ta:!!n,ia:!!s},u,"passwordSignUp",{F:o,D:a}),this.w=t,this.H=n,this.B=e}function Yl(e,t){var n=Wa(jh(e)),i=t.j(),r=null;n&&(r=t.M());var o=t.P();if(i){if(n){if(!r)return void t.u().focus();r=re(r)}if(o){var a=Xn.auth.EmailAuthProvider.credential(i,o);Ph(e,t.I(x(e.Yb,e),[i,o],(function(i){var o={user:i.user,credential:a,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:r}).then((function(){return tl(e,t,o)})),Ph(e,i),i):tl(e,t,o)}),(function(n){if(!n.name||"cancel"!=n.name){var r=el(n);switch(n=rl(r),r.code){case"auth/email-already-in-use":return function(e,t,n,i){function r(){var e=rl(i);tu(t.i(),!1),au(t.U(),e),t.i().focus()}var o=Sh(e).fetchSignInMethodsForEmail(n).then((function(i){i.length?r():(i=Bu(t),t.m(),ds("passwordRecovery",e,i,n,!1,On().toString()))}),(function(){r()}));return Ph(e,o),o}(e,t,i,r);case"auth/too-many-requests":n=ln("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":tu(t.l(),!1),au(t.ba(),n);break;case"auth/admin-restricted-operation":Ba(jh(e))?(n=Bu(t),t.m(),ds("handleUnauthorizedUser",e,n,i,Xn.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:Zr(r="setAccountInfo: "+Ro(r),void 0),t.a(n)}}})))}else t.l().focus()}else t.i().focus()}function Zl(){return $s(this,"firebaseui-id-phone-confirmation-code")}function Jl(){return $s(this,"firebaseui-id-phone-confirmation-code-error")}function Xl(){return $s(this,"firebaseui-id-resend-countdown")}function $l(e,t,n,i,r,o,a,s,u){Nu.call(this,kc,{phoneNumber:r},u,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new Ts(1e3),this.B=o,this.P=e,this.l=t,this.H=n,this.M=i}s(Uc,Nu),Uc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Fu(this,this.l(),this.i()),Uu(this,this.i(),this.w),bs(this.l())?this.i().focus():this.l().focus(),Nu.prototype.v.call(this)},Uc.prototype.o=function(){this.H=this.w=null,Nu.prototype.o.call(this)},I(Uc.prototype,{l:jc,U:Lc,P:Nc,M:Bc,j:Fc,i:Ic,B:Ac,ea:Oc,u:Pc,ua:Cc,pa:xc,ba:Tc}),R(zc,Nu),zc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),zc.K.v.call(this)},zc.prototype.o=function(){this.i=null,zc.K.o.call(this)},I(zc.prototype,{l:Cc,w:xc,u:Tc}),R(qc,zc),R(Hc,zc),R(Vc,zc),R(Wc,zc),R(Kc,zc),R(Gc,zc),R(Yc,zc),R(Zc,zc),R(Jc,zc),R(Xc,zc),R($c,zc),R(Qc,zc),s(ml,Nu),ml.prototype.v=function(){var e=this;ru(this,this.l(),(function(){e.i()})),this.l().focus(),Nu.prototype.v.call(this)},ml.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(ml.prototype,{l:xc}),fs.anonymousUserMismatch=function(e,t){var n=new ml((function(){n.m(),ul(e,t)}));n.render(t),_h(e,n)},s(vl,Nu),vl.prototype.I=function(e,t,n,i){return e.apply(null,t).then(n,i)},fs.callback=function(e,t,n){var i=new vl;i.render(t),_h(e,i),n=n||wh(e),Ph(e,n.then((function(t){gl(e,i,t)}),(function(n){if((n=el(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)oa(new oo(n.email,n.credential),Eh(e)),wl(e,i,n.email);else if(n&&"auth/user-cancelled"==n.code){var r=ia(Eh(e)),o=rl(n);r&&r.a?wl(e,i,r.g,o):r?cl(e,i,r.g,o):yl(e,i,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&al(e)?gl(e,i,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Ba(jh(e))?(i.m(),ra(Eh(e)),ds("handleUnauthorizedUser",e,t,null,null)):yl(e,i,n))})))},s(_l,Nu),_l.prototype.v=function(){var e=this;ru(this,this.l(),(function(){e.i()})),this.l().focus(),Nu.prototype.v.call(this)},_l.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(_l.prototype,{l:xc}),fs.differentDeviceError=function(e,t){var n=new _l((function(){n.m(),ul(e,t)}));n.render(t),_h(e,n)},s(kl,Nu),kl.prototype.v=function(){var e=this;ru(this,$s(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Nu.prototype.v.call(this)},kl.prototype.o=function(){this.l=this.i=null,Nu.prototype.o.call(this)},I(kl.prototype,{u:Cc,B:xc,w:Tc}),s(Il,Nu),Il.prototype.v=function(){this.H(),this.B(this.l),Uu(this,this.i(),this.l),this.i().focus(),Nu.prototype.v.call(this)},Il.prototype.o=function(){this.l=null,Nu.prototype.o.call(this)},I(Il.prototype,{i:Sl,w:Cl,M:Ml,H:xl,u:Tl,U:Cc,P:xc,B:Tc}),s(Al,Nu),Al.prototype.v=function(){var e=this;ru(this,$s(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Nu.prototype.v.call(this)},Al.prototype.o=function(){this.l=this.i=null,Nu.prototype.o.call(this)},I(Al.prototype,{u:Cc,B:xc,w:Tc}),fs.passwordReset=function(e,t,n,i){Ph(e,Sh(e).verifyPasswordResetCode(n).then((function(r){var o=new Il(r,(function(){!function(e,t,n,i,r){var o=n.u();o&&Ph(e,n.I(x(Sh(e).confirmPasswordReset,Sh(e)),[i,o],(function(){n.m();var i=new Zc(r);i.render(t),_h(e,i)}),(function(i){Ol(e,t,n,i)})))}(e,t,o,n,i)}));o.render(t),_h(e,o)}),(function(){Ol(e,t)})))},fs.emailChangeRevocation=function(e,t,n){var i=null;Ph(e,Sh(e).checkActionCode(n).then((function(t){return i=t.data.email,Sh(e).applyActionCode(n)})).then((function(){!function(e,t,n){var i=new kl(n,(function(){Ph(e,i.I(x(Sh(e).sendPasswordResetEmail,Sh(e)),[n],(function(){i.m(),(i=new qc(n,void 0,Ha(jh(e)),Va(jh(e)))).render(t),_h(e,i)}),(function(){i.a(In().toString())})))}));i.render(t),_h(e,i)}(e,t,i)}),(function(){var n=new Xc;n.render(t),_h(e,n)})))},fs.emailVerification=function(e,t,n,i){Ph(e,Sh(e).applyActionCode(n).then((function(){var n=new Hc(i);n.render(t),_h(e,n)}),(function(){var n=new Vc;n.render(t),_h(e,n)})))},fs.revertSecondFactorAddition=function(e,t,n){var i=null,r=null;Ph(e,Sh(e).checkActionCode(n).then((function(t){return i=t.data.email,r=t.data.multiFactorInfo,Sh(e).applyActionCode(n)})).then((function(){!function(e,t,n,i){var r=new Al(i.factorId,(function(){r.I(x(Sh(e).sendPasswordResetEmail,Sh(e)),[n],(function(){r.m(),(r=new qc(n,void 0,Ha(jh(e)),Va(jh(e)))).render(t),_h(e,r)}),(function(){r.a(In().toString())}))}),i.phoneNumber);r.render(t),_h(e,r)}(e,t,i,r)}),(function(){var n=new Gc;n.render(t),_h(e,n)})))},fs.verifyAndChangeEmail=function(e,t,n,i){var r=null;Ph(e,Sh(e).checkActionCode(n).then((function(t){return r=t.data.email,Sh(e).applyActionCode(n)})).then((function(){var n=new Wc(r,i);n.render(t),_h(e,n)}),(function(){var n=new Kc;n.render(t),_h(e,n)})))},s(Rl,Nu),Rl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Pl(this.i(),(this.i().value||"").length),Nu.prototype.v.call(this)},Rl.prototype.o=function(){this.u=this.l=null,Nu.prototype.o.call(this)},I(Rl.prototype,{i:jc,M:Lc,w:Nc,H:Bc,j:Fc,U:Cc,P:xc,B:Tc}),fs.emailLinkConfirmation=function(e,t,n,i,r,o){var a=new Rl((function(){var r=a.j();r?(a.m(),i(e,t,r,n)):a.i().focus()}),(function(){a.m(),ul(e,t,r||void 0)}),r||void 0,Ha(jh(e)),Va(jh(e)));a.render(t),_h(e,a),o&&a.a(o)},s(Dl,Nu),Dl.prototype.v=function(){this.u(this.i),this.l().focus(),Nu.prototype.v.call(this)},Dl.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(Dl.prototype,{l:Cc,u:Tc}),fs.emailLinkNewDeviceLinking=function(e,t,n,i){var r=new Ue(n);if(n=r.a.a.get(Ve.PROVIDER_ID)||null,qe(r,null),n){var o=new Dl(Da(jh(e),n),(function(){o.m(),i(e,t,r.toString())}),Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o)}else ul(e,t)},s(jl,Nu),fs.emailLinkSignInCallback=Ll,s(Fl,Nu),Fl.prototype.v=function(){this.u(this.i),this.l().focus(),Nu.prototype.v.call(this)},Fl.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(Fl.prototype,{l:Cc,u:Tc}),fs.emailLinkSignInLinking=function(e,t,n){var i=ia(Eh(e));if(ra(Eh(e)),i){var r=i.a.providerId,o=new Fl(n,Da(jh(e),r),(function(){!function(e,t,n,i){var r=Bu(t);hl(e,t,n,(function(){ul(e,r,n)}),(function(i){if(!i.name||"cancel"!=i.name){var o=rl(i);i&&"auth/network-request-failed"==i.code?t.a(o):(t.m(),ul(e,r,n,o))}}),i)}(e,o,n,i)}),Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o)}else ul(e,t)},s(Ul,Nu),Ul.prototype.v=function(){var e=this;ru(this,this.l(),(function(){e.i()})),ru(this,$s(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.u()})),this.l().focus(),Nu.prototype.v.call(this)},Ul.prototype.o=function(){this.i=this.u=null,Nu.prototype.o.call(this)},I(Ul.prototype,{l:xc}),fs.emailLinkSignInSent=function(e,t,n,i,r){var o=new Ul(n,(function(){o.m(),ds("emailNotReceived",e,t,n,i,r)}),(function(){o.m(),i()}),Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o)},s(zl,Nu),zl.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Nu.prototype.v.call(this)},zl.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(zl.prototype,{u:Cc,B:xc,w:Tc}),fs.emailMismatch=function(e,t,n){var i=ia(Eh(e));if(i){var r=new zl(n.user.email,i.g,(function(){var t=r;ra(Eh(e)),tl(e,t,n)}),(function(){var t=n.credential.providerId,o=Bu(r);r.m(),i.a?ds("federatedLinking",e,o,i.g,t):ds("federatedSignIn",e,o,i.g,t)}),Ha(jh(e)),Va(jh(e)));r.render(t),_h(e,r)}else ul(e,t)},s(ql,Nu),ql.prototype.v=function(){var e=this;ru(this,this.u(),(function(){e.i()})),ru(this,this.Da(),(function(){e.l()})),this.u().focus(),Nu.prototype.v.call(this)},ql.prototype.Da=function(){return $s(this,"firebaseui-id-resend-email-link")},ql.prototype.o=function(){this.i=this.l=null,Nu.prototype.o.call(this)},I(ql.prototype,{u:xc}),fs.emailNotReceived=function(e,t,n,i,r){var o=new ql((function(){hl(e,o,n,i,(function(e){e=rl(e),o.a(e)}),r)}),(function(){o.m(),ul(e,t,n)}),Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o)},s(Hl,Nu),Hl.prototype.v=function(){this.u(this.i),this.l().focus(),Nu.prototype.v.call(this)},Hl.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(Hl.prototype,{l:Cc,u:Tc}),fs.federatedLinking=function(e,t,n,i,r){var o=ia(Eh(e));if(o&&o.a){var a=new Hl(n,Da(jh(e),i),(function(){ol(e,a,i,n)}),Ha(jh(e)),Va(jh(e)));a.render(t),_h(e,a),r&&a.a(r)}else ul(e,t)},fs.federatedRedirect=function(e,t,n){var i=new jl;i.render(t),_h(e,i),ol(e,i,t=Ra(jh(e))[0],n)},fs.federatedSignIn=function(e,t,n,i,r){var o=new Hl(n,Da(jh(e),i),(function(){ol(e,o,i,n)}),Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o),r&&o.a(r)},fs.passwordLinking=function(e,t,n){var i=ia(Eh(e));ra(Eh(e));var r=i&&i.a;if(r){var o=new Rc(n,(function(){!function(e,t,n,i){var r=t.u();r?Ph(e,t.I(x(e.Xb,e),[n,r],(function(n){return n=n.user.linkWithCredential(i).then((function(n){return tl(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Ph(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":tu(t.i(),!1),au(t.B(),rl(e));break;case"auth/too-many-requests":t.a(rl(e));break;default:Zr("signInWithEmailAndPassword: "+e.message,void 0),t.a(rl(e))}}))):t.i().focus()}(e,o,n,r)}),(function(){o.m(),ds("passwordRecovery",e,t,n)}),Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o)}else ul(e,t)},s(Vl,Nu),Vl.prototype.v=function(){this.B(),this.H(this.l,this.u),bs(this.i())||this.i().focus(),Uu(this,this.i(),this.l),Nu.prototype.v.call(this)},Vl.prototype.o=function(){this.u=this.l=null,Nu.prototype.o.call(this)},I(Vl.prototype,{i:jc,w:Lc,B:Nc,M:Bc,j:Fc,U:Cc,P:xc,H:Tc}),fs.passwordRecovery=function(e,t,n,i,r){var o=new Vl((function(){!function(e,t){var n=t.j();if(n){var i=Bu(t);Ph(e,t.I(x(Sh(e).sendPasswordResetEmail,Sh(e)),[n],(function(){t.m();var r=new qc(n,(function(){r.m(),ul(e,i)}),Ha(jh(e)),Va(jh(e)));r.render(i),_h(e,r)}),(function(e){tu(t.i(),!1),au(t.w(),rl(e))})))}else t.i().focus()}(e,o)}),i?void 0:function(){o.m(),ul(e,t)},n,Ha(jh(e)),Va(jh(e)));o.render(t),_h(e,o),r&&o.a(r)},fs.passwordSignIn=function(e,t,n,i){var r=new Uc((function(){!function(e,t){var n=t.j(),i=t.u();if(n)if(i){var r=Xn.auth.EmailAuthProvider.credential(n,i);Ph(e,t.I(x(e.bc,e),[n,i],(function(n){return tl(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":tu(t.l(),!1),au(t.U(),rl(e));break;case"auth/too-many-requests":case"auth/wrong-password":tu(t.i(),!1),au(t.B(),rl(e));break;default:Zr("verifyPassword: "+e.message,void 0),t.a(rl(e))}})))}else t.i().focus();else t.l().focus()}(e,r)}),(function(){var n=r.M();r.m(),ds("passwordRecovery",e,t,n)}),n,Ha(jh(e)),Va(jh(e)),i);r.render(t),_h(e,r)},s(Gl,Nu),Gl.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Fu(this,this.i(),this.u()),Fu(this,this.u(),this.l())):Fu(this,this.i(),this.l()),this.w&&Uu(this,this.l(),this.w),bs(this.i())?this.B&&!bs(this.u())?this.u().focus():this.l().focus():this.i().focus(),Nu.prototype.v.call(this)},Gl.prototype.o=function(){this.H=this.w=null,Nu.prototype.o.call(this)},I(Gl.prototype,{i:jc,U:Lc,ea:Nc,jb:Bc,j:Fc,u:Wl,Cc:Kl,Ja:function(){var e=Wl.call(this),t=Kl.call(this);nu(this,e,(function(){su(t)&&(tu(e,!0),ou(t))}))},M:function(){var e=Wl.call(this),t=Kl.call(this),n=bs(e);return tu(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(ou(t),t=!0):(au(t,ln("Enter your account name").toString()),t=!1),t?Z(bs(e)):null},l:Sl,ba:Cl,lb:Ml,ua:xl,P:Tl,Nb:Cc,Mb:xc,pa:Tc}),fs.passwordSignUp=function(e,t,n,i,r,o){var a=new Gl(Wa(jh(e)),(function(){Yl(e,a)}),r?void 0:function(){a.m(),ul(e,t)},n,i,Ha(jh(e)),Va(jh(e)),o);a.render(t),_h(e,a)},s($l,Nu),$l.prototype.v=function(){var e=this;this.U(this.jb),ri(this.i,"tick",this.w,!1,this),this.i.start(),ru(this,$s(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),ru(this,this.Da(),(function(){e.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Nu.prototype.v.call(this)},$l.prototype.o=function(){this.M=this.H=this.l=this.P=null,Is(this.i),si(this.i,"tick",this.w),this.i=null,Nu.prototype.o.call(this)},$l.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Is(this.i),si(this.i,"tick",this.w),this.ua(),this.lb())},I($l.prototype,{u:Zl,pa:Jl,Ja:function(e){var t=Zl.call(this),n=Jl.call(this);nu(this,t,(function(){su(n)&&(tu(t,!0),ou(n))})),e&&iu(this,t,(function(){e()}))},ba:function(){var e=Z(bs(Zl.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Xl,U:function(e){Yt(Xl.call(this),ln("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){ou(this.Fb())},Da:function(){return $s(this,"firebaseui-id-resend-link")},lb:function(){au(this.Da())},Nb:Cc,Mb:xc,ea:Tc}),fs.phoneSignInFinish=function(e,t,n,i,r,o){var a=new $l((function(){a.m(),ds("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,i){function r(e){t.u().focus(),tu(t.u(),!1),au(t.pa(),e)}var o=t.ba();o?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),Ph(e,t.I(x(i.confirm,i),[o],(function(n){t.h(),t.$("firebaseui-icon-done",ln("Verified!").toString());var i=setTimeout((function(){t.h(),t.m();var i={user:Mh(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};tl(e,t,i,!0)}),1e3);Ph(e,(function(){t&&t.h(),clearTimeout(i)}))}),(function(i){if(i.name&&"cancel"==i.name)t.h();else{var o=el(i);switch(i=rl(o),o.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":o=Bu(t),t.h(),t.m(),ds("phoneSignInStart",e,o,n,i);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),r(i);break;default:t.h(),t.a(i)}}})))):r(ln("Wrong code. Try again.").toString())}(e,a,n,r)}),(function(){a.m(),ul(e,t)}),(function(){a.m(),ds("phoneSignInStart",e,t,n)}),Ea(n),i,Ha(jh(e)),Va(jh(e)));a.render(t),_h(e,a),o&&a.a(o)};var Ql=!(Qe||Ge("Safari")&&!(Ye()||Ge("Coast")||Ge("Opera")||Ge("Edge")||Ge("Firefox")||Ge("FxiOS")||Ge("Silk")||Ge("Android")));function eh(e,t){return/-[a-z]/.test(t)?null:Ql&&e.dataset?!Ge("Android")||Ye()||Ge("Firefox")||Ge("FxiOS")||Ge("Opera")||Ge("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function th(e,t,n){var i=this;e=nn(ku,{items:e},null,this.s),Iu.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(eh(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||Wt(document))||Wt(document),i=Gs(e),r=Gs(n);if(!Qe||9<=Number(lt)){a=Ws(n,"borderLeftWidth");var o=Ws(n,"borderRightWidth");s=Ws(n,"borderTopWidth"),u=Ws(n,"borderBottomWidth"),o=new Vs(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=Zs(n,"borderLeft");o=Zs(n,"borderRight");var s=Zs(n,"borderTop"),u=Zs(n,"borderBottom");o=new Vs(s,o,u,a)}n==Wt(document)?(a=i.a-n.scrollLeft,i=i.g-n.scrollTop,!Qe||10<=Number(lt)||(a+=o.left,i+=o.top)):(a=i.a-r.a-o.left,i=i.g-r.g-o.top),r=e.offsetWidth,o=e.offsetHeight,s=it&&!r&&!o,e=f(r)&&!s||!e.getBoundingClientRect?new Ft(r,o):new Ft((e=Ks(e)).right-e.left,e.bottom-e.top),r=n.clientHeight-e.height,o=n.scrollLeft,s=n.scrollTop,n=new Bt(o+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),s+=Math.min(i,Math.max(i-r,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),ru(this,e,(function(e){(e=(e=Zt(e.target,"firebaseui-id-list-box-dialog-button"))&&eh(e,"listboxid"))&&(Au.call(i),t(e))}))}function nh(){return $s(this,"firebaseui-id-phone-number")}function ih(){return $s(this,"firebaseui-id-country-selector")}function rh(){return $s(this,"firebaseui-id-phone-number-error")}function oh(e,t){var n=e.a,i=ah("1-US-0",n),r=null;if(!(r=t&&ah(t,n)?t:i?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");ch.call(this,r,e)}function ah(e,t){return!(!(e=ga(e))||!q(t,e))}function sh(e){return"firebaseui-flag-"+e.f}function uh(e){var t=this;th.call(this,function(e){return e.map((function(e){return{id:e.c,Ma:"firebaseui-flag "+sh(e),label:e.name+" +"+e.b}}))}(e.a),(function(n){ch.call(t,n,e,!0),t.O().focus()}),this.Ba)}function ch(e,t,n){var i=ga(e);i&&(n&&((t=va(t,n=Z(bs(nh.call(this))||""))).length&&t[0].b!=i.b&&(n="+"+i.b+n.substr(t[0].b.length+1),ys(nh.call(this),n))),t=ga(this.Ba),this.Ba=e,e=$s(this,"firebaseui-id-country-selector-flag"),t&&gs(e,sh(t)),vs(e,sh(i)),Yt($s(this,"firebaseui-id-country-selector-code"),"+"+i.b))}function lh(e,t,n,i,r,o,a,s,u,c){Nu.call(this,_c,{Gb:t,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:i,D:r}),this.H=s||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function hh(e,t,n,i){try{var r=t.U(ts)}catch(e){return}r?Qa?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),Ph(e,t.I(x(e.cc,e),[Ea(r),n],(function(n){var i=Bu(t);t.$("firebaseui-icon-done",ln("Code sent!").toString());var o=setTimeout((function(){t.h(),t.m(),ds("phoneSignInFinish",e,i,r,15,n)}),1e3);Ph(e,(function(){t&&t.h(),clearTimeout(o)}))}),(function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(ns),Qa=null;var i=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":i=ln("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void au(t.B(),Tn().toString());case"auth/admin-restricted-operation":if(Ba(jh(e)))return n=Bu(t),t.m(),void ds("handleUnauthorizedUser",e,n,Ea(r),Xn.auth.PhoneAuthProvider.PROVIDER_ID);i=rl(n);break;default:i=rl(n)}t.a(i)}})))):es?au(t.u(),ln("Solve the reCAPTCHA").toString()):!es&&i&&t.i().click():(t.O().focus(),au(t.B(),Tn().toString()))}function fh(e,t,n,i,r){Nu.call(this,wc,{Sb:t},r,"providerSignIn",{F:n,D:i}),this.i=e}function dh(e,t,n,i,r,o,a){Nu.call(this,zu,{email:n,Va:!!t,ia:!!o},a,"signIn",{F:i,D:r}),this.i=e,this.u=t}function ph(e,t,n,i,r,o,a){Nu.call(this,rc,{kc:e,yb:n,Eb:!!i},a,"unauthorizedUser",{F:r,D:o}),this.l=t,this.i=i}function mh(e,t,n,i,r,o){Nu.call(this,oc,{email:e},o,"unsupportedProvider",{F:i,D:r}),this.l=t,this.i=n}function vh(e,t){this.$=!1;var n=yh(t);if(bh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');bh[n]=this,this.a=e,this.u=null,this.Y=!1,gh(this.a),this.h=Xn.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),gh(this.h),this.h.setPersistence&&this.h.setPersistence(Xn.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new Ia,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Cr.Xa(),this.j=this.C=null,this.da=this.A=!1}function gh(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}s(lh,Nu),lh.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Fu(this,this.O(),this.i()),Uu(this,this.i(),this.l),this.O().focus(),Pl(this.O(),(this.O().value||"").length),Nu.prototype.v.call(this)},lh.prototype.o=function(){this.w=this.l=null,Nu.prototype.o.call(this)},I(lh.prototype,{Cb:Ou,O:nh,B:rh,ea:function(e,t,n){var i=this,r=nh.call(this),o=ih.call(this),a=rh.call(this),s=e||ka,u=s.a;if(0==u.length)throw Error("No available countries provided.");oh.call(i,s,t),ru(this,o,(function(){uh.call(i,s)})),nu(this,r,(function(){su(a)&&(tu(r,!0),ou(a));var e=Z(bs(r)||""),t=ga(this.Ba),n=va(s,e);e=ah("1-US-0",u),n.length&&n[0].b!=t.b&&(t=n[0],ch.call(i,"1"==t.b&&e?"1-US-0":t.c,s))})),n&&iu(this,r,(function(){n()}))},U:function(e){var t=Z(bs(nh.call(this))||""),n=(e=e||ka).a,i=va(ka,t);if(i.length&&!q(n,i[0]))throw ys(nh.call(this)),nh.call(this).focus(),au(rh.call(this),ln("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=ga(this.Ba),i.length&&i[0].b!=n.b&&ch.call(this,i[0].c,e),i.length&&(t=t.substr(i[0].b.length+1)),t?new Sa(this.Ba,t):null},Ja:ih,ba:function(){return $s(this,"firebaseui-recaptcha-container")},u:function(){return $s(this,"firebaseui-id-recaptcha-error")},i:Cc,ua:xc,P:Tc}),fs.phoneSignInStart=function(e,t,n,i){var r=function(e){var t=null;if(Oa(e).forEach((function(e){e.provider==Xn.auth.PhoneAuthProvider.PROVIDER_ID&&k(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=ae(e.recaptchaParameters))})),t){var n=[];hs.forEach((function(e){void 0!==t[e]&&(n.push(e),delete t[e])})),n.length&&Qr('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(jh(e))||{};Qa=null,es=!(r&&"invisible"===r.size);var o=sl(e),a=function(e){var t=(e=Pa(e,Xn.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&ba(t);var n=null;return e&&"string"==typeof e.loginHint&&(n=Ma(e.loginHint)),t&&t[0]||n&&ga(n.a)||null}(jh(e)),s=o?function(e){var t=null;return(e=Pa(e,Xn.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof e.loginHint&&(t=Ma(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(jh(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||s,(s=za(jh(e)))&&wa(s),ts=s?new ma(za(jh(e))):ka;var u=new lh((function(t){hh(e,u,c,!(!t||!t.keyCode))}),es,o?null:function(){c.clear(),u.m(),ul(e,t)},Ha(jh(e)),Va(jh(e)),o,ts,a,n);u.render(t),_h(e,u),i&&u.a(i),r.callback=function(t){u.u()&&ou(u.u()),Qa=t,es||hh(e,u,c)},r["expired-callback"]=function(){Qa=null};var c=new Xn.auth.RecaptchaVerifier(es?u.ba():u.i(),r,Mh(e).app);Ph(e,u.I(x(c.render,c),[],(function(e){ns=e}),(function(n){n.name&&"cancel"==n.name||(n=rl(n),u.m(),ul(e,t,void 0,n))})))},fs.prefilledEmailSignIn=function(e,t,n){var i=new jl;i.render(t),_h(e,i),Ph(e,i.I(x(Sh(e).fetchSignInMethodsForEmail,Sh(e)),[n],(function(r){i.m();var o=!(!al(e)||!Ch(e));ll(e,t,r,n,void 0,o)}),(function(r){r=rl(r),i.m(),ds("signIn",e,t,n,r)})))},s(fh,Nu),fh.prototype.v=function(){this.l(this.i),Nu.prototype.v.call(this)},fh.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(fh.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?zt("firebaseui-id-idp-button",this.g||this.s.a):[],i=0;i<n.length;i++){var r=n[i];ru(this,r,T(t,eh(r,"providerId")))}}}),fs.providerSignIn=function(e,t,n,i){var r=new fh((function(n){n==Xn.auth.EmailAuthProvider.PROVIDER_ID?(r.m(),fl(e,t,i)):n==Xn.auth.PhoneAuthProvider.PROVIDER_ID?(r.m(),ds("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Ph(e,t.I(x(e.$b,e),[],(function(n){return t.m(),tl(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(Zr("ContinueAsGuest: "+e.code,void 0),e=rl(e),t.a(e))})))}(e,r):ol(e,r,n,i),Lh(e),e.l.cancel()}),ja(jh(e)),Ha(jh(e)),Va(jh(e)));r.render(t),_h(e,r),n&&r.a(n),function(e){Lh(e);try{xr(e.l,La(jh(e)),function(e){var t;return Lh(e),(t=e.Z)||(e=Ua(e=jh(e),Xn.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===La(jh(e))){if(Fa(jh(e),Xn.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var i=JSON.parse(atob(n.credential.split(".")[1])).email}catch(r){}return ol(e,t,Xn.auth.GoogleAuthProvider.PROVIDER_ID,i),Ki(!0)}return r=Xn.auth.GoogleAuthProvider.credential(n.credential),o=!1,r=t.I(x(e.ac,e),[r],(function(n){var i=Bu(t);t.m(),ds("callback",e,i,Ki(n)),o=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var i=Bu(t);t.m(),ds("callback",e,i,Gi(n))}else n&&"auth/admin-restricted-operation"==n.code&&Ba(jh(e))?(n=Bu(t),t.m(),ds("handleUnauthorizedUser",e,n,null,Xn.auth.GoogleAuthProvider.PROVIDER_ID)):(n=rl(n),t.a(n))})),Ph(e,r),r.then((function(){return o}),(function(){return!1}))}var r,o;return n&&t.a(ln("The selected credential for the authentication provider is not supported!").toString()),Ki(!1)}(e,e.g,t)}))}catch(e){}}(e)},fs.sendEmailLinkForSignIn=function(e,t,n,i){var r=new vl;r.render(t),_h(e,r),hl(e,r,n,i,(function(i){r.m(),i&&"auth/admin-restricted-operation"==i.code&&Ba(jh(e))?ds("handleUnauthorizedUser",e,t,n,Xn.auth.EmailAuthProvider.PROVIDER_ID):(i=rl(i),ds("signIn",e,t,n,i))}))},s(dh,Nu),dh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Pl(this.l(),(this.l().value||"").length),Nu.prototype.v.call(this)},dh.prototype.o=function(){this.u=this.i=null,Nu.prototype.o.call(this)},I(dh.prototype,{l:jc,M:Lc,w:Nc,H:Bc,j:Fc,U:Cc,P:xc,B:Tc}),fs.signIn=function(e,t,n,i){var r=al(e),o=new dh((function(){var t=o,n=t.j()||"";n&&cl(e,t,n)}),r?null:function(){o.m(),ul(e,t,n)},n,Ha(jh(e)),Va(jh(e)),r);o.render(t),_h(e,o),i&&o.a(i)},s(ph,Nu),ph.prototype.v=function(){var e=this,t=$s(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&ru(this,t,(function(){e.i()})),ru(this,this.u(),(function(){e.l()})),this.u().focus(),Nu.prototype.v.call(this)},ph.prototype.o=function(){this.i=this.l=null,Nu.prototype.o.call(this)},I(ph.prototype,{u:xc}),fs.handleUnauthorizedUser=function(e,t,n,i){function r(){ul(e,t)}i===Xn.auth.EmailAuthProvider.PROVIDER_ID?r=function(){fl(e,t)}:i===Xn.auth.PhoneAuthProvider.PROVIDER_ID&&(r=function(){ds("phoneSignInStart",e,t)});var o=null,a=null;i===Xn.auth.EmailAuthProvider.PROVIDER_ID&&Na(jh(e))?(o=function(e){return(e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(jh(e)),a=function(e){if((e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){ar(t)}}return null}(jh(e))):Ba(jh(e))&&(o=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(jh(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){ar(t)}}return null}(jh(e)));var s=new ph(n,(function(){s.m(),r()}),o,a,Ha(jh(e)),Va(jh(e)));s.render(t),_h(e,s)},s(mh,Nu),mh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Nu.prototype.v.call(this)},mh.prototype.o=function(){this.i=this.l=null,Nu.prototype.o.call(this)},I(mh.prototype,{u:Cc,B:xc,w:Tc}),fs.unsupportedProvider=function(e,t,n){var i=new mh(n,(function(){i.m(),ds("passwordRecovery",e,t,n)}),(function(){i.m(),ul(e,t,n)}),Ha(jh(e)),Va(jh(e)));i.render(t),_h(e,i)};var bh={};function yh(e){return e||"[DEFAULT]"}function wh(e){return Lh(e),e.i||(e.i=Ah(e,(function(t){return t&&!ia(Eh(e))?Ki(Mh(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Fh(e,t)}))):Ki(Sh(e).getRedirectResult().then((function(t){return Aa(jh(e))&&!t.user&&e.j&&!e.j.isAnonymous?Mh(e).getRedirectResult():t})))}))),e.i}function _h(e,t){Lh(e),e.g=t}var kh=null;function Sh(e){return Lh(e),e.h}function Mh(e){return Lh(e),e.a}function Eh(e){return Lh(e),e.oa}function Ch(e){return Lh(e),e.O?e.O.emailHint:void 0}function xh(e){return"signIn"===((e=new Ue(e)).a.a.get(Ve.ub)||null)&&!!e.a.a.get(Ve.$a)}function Th(e,t,n,i){Lh(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var r="en".replace(/_/g,"-");e.a.languageCode=r,e.h.languageCode=r,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=i||null;var o=h.document;e.C?e.C.then((function(){"complete"==o.readyState?Ih(e,t):ai(window,"load",(function(){Ih(e,t)}))})):"complete"==o.readyState?Ih(e,t):ai(window,"load",(function(){Ih(e,t)}))}function Ih(e,t){var n=sr(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),kh){var i=kh;Lh(i),ia(Eh(i))&&Qr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),kh.reset()}if(kh=e,e.T=n,function(e,t){e.L=null,e.J=new Mi(t),e.J.register(),ri(e.J,"pageEnter",(function(t){if(t=t&&t.pageId,e.L!=t){var n=jh(e);(n=$a(n).uiChanged||null)&&n(e.L,t),e.L=t}}))}(e,n),qo(new Ho)&&qo(new Vo)){t=sr(t,"Could not find the FirebaseUI widget element on the page."),n=(n=ye(n=ur(),i=la(jh(e).a,"queryParameterForSignInSuccessUrl")))?_t(St(n)).toString():null;e:{i=ur();var r=qa(jh(e));for(o in i=ye(i,r)||"",cs)if(cs[o].toLowerCase()==i.toLowerCase()){var o=cs[o];break e}o="callback"}switch(o){case"callback":n&&(o=Eh(e),ta(Jo,n,o)),e.nb()?ds("callback",e,t):ul(e,t,Ch(e));break;case"resetPassword":ds("passwordReset",e,t,dl(),pl());break;case"recoverEmail":ds("emailChangeRevocation",e,t,dl());break;case"revertSecondFactorAddition":ds("revertSecondFactorAddition",e,t,dl());break;case"verifyEmail":ds("emailVerification",e,t,dl(),pl());break;case"verifyAndChangeEmail":ds("verifyAndChangeEmail",e,t,dl(),pl());break;case"signIn":ds("emailLinkSignInCallback",e,t,ur()),Nh();break;case"select":n&&(o=Eh(e),ta(Jo,n,o)),ul(e,t);break;default:throw Error("Unhandled widget operation.")}(t=$a(t=jh(e)).uiShown||null)&&t()}else t=sr(t,"Could not find the FirebaseUI widget element on the page."),(o=new Qc(ln("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),_h(e,o);t=e.g&&"blank"==e.g.Ga&&Ga(jh(e)),aa(Eh(e))&&!t&&(Dh(e,(t=aa(Eh(e))).a),ea(Zo,Eh(e)))}function Ah(e,t){if(e.A)return t(Oh(e));if(Ph(e,(function(){e.A=!1})),Aa(jh(e))){var n=new Fi((function(n){Ph(e,e.a.onAuthStateChanged((function(i){e.j=i,e.A||(e.A=!0,n(t(Oh(e))))})))}));return Ph(e,n),n}return e.A=!0,t(null)}function Oh(e){return Lh(e),Aa(jh(e))&&e.j&&e.j.isAnonymous?e.j:null}function Ph(e,t){if(Lh(e),t){e.s.push(t);var n=function(){W(e.s,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function Rh(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Dh(e,t){e.a.tenantId=t,e.h.tenantId=t}function jh(e){return Lh(e),e.ca}function Lh(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Nh(){var e=ur();if(xh(e)){for(var t in e=new Ue(e),Ve)Ve.hasOwnProperty(t)&&Le(e.a.a,Ve[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=h.document.title;h.history&&h.history.replaceState&&h.history.replaceState(t,n,e.toString())}}function Bh(e){return Lh(e),Sh(e).signOut()}function Fh(e,t,n){if(Lh(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var i=Xa(jh(e));return Ki().then((function(){return i(new Dn("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.g&&(e.g.m(),e.g=null),t}))}return Gi(t)}function Uh(e,t,n,i){Nu.call(this,Ec,void 0,i,"providerMatchByEmail",{F:t,D:n}),this.i=e}function zh(e,t,n,i,r){Nu.call(this,Mc,{ec:t},r,"selectTenant",{F:n,D:i}),this.i=e}function qh(e){Nu.call(this,Gu,void 0,e,"spinner")}function Hh(e){for(var t in this.a=new sa,ua(this.a,"authDomain"),ua(this.a,"displayMode",Xh),ua(this.a,"tenants"),ua(this.a,"callbacks"),ua(this.a,"tosUrl"),ua(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{ca(this.a,t,e[t])}catch(e){Zr('Invalid config: "'+t+'"',void 0)}}function Vh(e){return e.a.get("callbacks")||{}}function Wh(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Qr("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){ar(t)}}return null}function Kh(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Qr("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ar(n)}}return null}function Gh(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(Qh))throw Error("Invalid tenant configuration!")}function Yh(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var i=[];if(!(e=e[t]||e[Qh]))return Zr("Invalid tenant configuration: "+t+" is not configured!",void 0),i;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach((function(e){if("string"==typeof e)i.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&i.push(e.provider):i.push(e.provider)}else Zr(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)})),i}function Zh(e,t,n){return e=function(e,t){var n=Jh,i=void 0===i?{}:i;return Gh(e,t),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),n)}((e=e.a.get("tenants"))[t]||e[Qh],n,i)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter((function(e){return"string"==typeof e?n.includes(e):n.includes(e.provider)})),e.signInOptions=t),e}(e=vh.prototype).nb=function(){return Lh(this),!!aa(Eh(this))||xh(ur())},e.start=function(e,t){Th(this,e,t)},e.Db=function(){Lh(this),this.Z=!0},e.reset=function(){Lh(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&ki(this.J),Rh(this),this.O=null,Nh(),ea(Zo,Eh(this)),Lh(this),this.l.cancel(),this.i=Ki({user:null,credential:null}),kh==this&&(kh=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],ra(Eh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Bh(this).then((function(){e.C=null}),(function(){e.C=null})))},e.ib=function(e){Lh(this);var t,n=this.ca;for(t in e)try{ca(n.a,t,e[t])}catch(e){Zr('Invalid config: "'+t+'"',void 0)}rt&&ca(n.a,"popupMode",!1),za(n),!this.da&&Za(jh(this))&&(Qr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){Lh(this);var e=jh(this),t=la(e.a,"widgetUrl");e=qa(e);for(var n,i=t.search(be),r=0,o=[];0<=(n=ge(t,r,e,i));)o.push(t.substring(r,n)),r=Math.min(t.indexOf("&",n)+1||i,i);o.push(t.substr(r)),t=o.join("").replace(we,"$1"),(e+=i="="+encodeURIComponent("select"))?(0>(i=t.indexOf("#"))&&(i=t.length),0>(r=t.indexOf("?"))||r>i?(r=i,n=""):n=t.substring(r+1,i),i=(t=[t.substr(0,r),n,t.substr(i)])[1],t[1]=e?i?i+"&"+e:e:i,i=t[0]+(t[1]?"?"+t[1]:"")+t[2]):i=t,jh(this).a.get("popupMode")?(i=i||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||i.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=rr(i,e))&&e.focus()):Nt(window.location,i)},e.Wa=function(){var e=this;return Lh(this),this.h.app.delete().then((function(){var t=yh(Eh(e));delete bh[t],e.reset(),e.$=!0}))},e.Ib=function(e,t){Lh(this);var n=this,i=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Ka(jh(this)))return Gi(Error("Email link sign-in should be enabled to trigger email sending."));var r=function(e){if(Ka(e)){var t={url:ur(),handleCodeInApp:!0};(e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&ue(t,e.emailLinkSignIn()),e=t.url;var n=ur();n instanceof _e||(n=Ee(n)),e instanceof _e||(e=Ee(e));var i=n;n=new _e(i);var r=!!e.j;r?ke(n,e.j):r=!!e.A,r?n.A=e.A:r=!!e.h,r?n.h=e.h:r=null!=e.C;var o=e.g;if(r)Se(n,e.C);else if(r=!!e.g)if("/"!=o.charAt(0)&&(i.h&&!i.g?o="/"+o:-1!=(i=n.g.lastIndexOf("/"))&&(o=n.g.substr(0,i+1)+o)),".."==o||"."==o)o="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){i=0==o.lastIndexOf("/",0),o=o.split("/");for(var a=[],s=0;s<o.length;){var u=o[s++];"."==u?i&&s==o.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&s==o.length&&a.push("")):(a.push(u),i=!0)}o=a.join("/")}return r?n.g=o:r=""!==e.a.toString(),r?Me(n,Be(e.a)):r=!!e.s,r&&(n.s=e.s),t.url=n.toString(),t}return null}(jh(this)),o=new Ue(r.url);return function(e,t){t?e.a.a.set(Ve.Sa,t):Le(e.a.a,Ve.Sa)}(o,i),t&&t.a&&(function(e,t,n){ta($o,Ao(e,JSON.stringify(ao(t))),n)}(i,t,Eh(this)),qe(o,t.a.providerId)),function(e,t){null!==t?e.a.a.set(Ve.Qa,t?"1":"0"):Le(e.a.a,Ve.Qa)}(o,function(e){return!(!(e=Pa(e,Xn.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(jh(this))),Ah(this,(function(t){return t&&((t=t.uid)?o.a.a.set(Ve.Pa,t):Le(o.a.a,Ve.Pa)),r.url=o.toString(),Sh(n).sendSignInLinkToEmail(e,r)})).then((function(){var t=Eh(n),r={};r.email=e,ta(Xo,Ao(i,JSON.stringify(r)),t)}),(function(e){throw ea($o,Eh(n)),ea(Xo,Eh(n)),e}))},e.bc=function(e,t){Lh(this);var n=this;return Sh(this).signInWithEmailAndPassword(e,t).then((function(i){return Ah(n,(function(r){return r?Bh(n).then((function(){return Fh(n,{code:"auth/email-already-in-use"},Xn.auth.EmailAuthProvider.credential(e,t))})):i}))}))},e.Yb=function(e,t){Lh(this);var n=this;return Ah(this,(function(i){if(i){var r=Xn.auth.EmailAuthProvider.credential(e,t);return i.linkWithCredential(r)}return Sh(n).createUserWithEmailAndPassword(e,t)}))},e.ac=function(e){Lh(this);var t=this;return Ah(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Fh(t,n,e)})):Sh(t).signInWithCredential(e)}))},e.dc=function(e){Lh(this);var t=this,n=this.i;return this.i=null,Ah(this,(function(n){return n&&!ia(Eh(t))?n.linkWithRedirect(e):Sh(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.i=n,e}))},e.cc=function(e,t){Lh(this);var n=this;return Ah(this,(function(i){return i?i.linkWithPhoneNumber(e,t).then((function(e){return new Ar(e,(function(e){if("auth/credential-already-in-use"==e.code)return Fh(n,e);throw e}))})):Mh(n).signInWithPhoneNumber(e,t).then((function(e){return new Ar(e)}))}))},e.$b=function(){return Lh(this),Mh(this).signInAnonymously()},e.Xb=function(e,t){return Lh(this),Sh(this).signInWithEmailAndPassword(e,t)},s(Uh,Nu),Uh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Pl(this.l(),(this.l().value||"").length),Nu.prototype.v.call(this)},Uh.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},I(Uh.prototype,{l:jc,H:Lc,u:Nc,B:Bc,j:Fc,M:Cc,w:Tc}),s(zh,Nu),zh.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var i=e.g?zt("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],r=0;r<i.length;r++){var o=i[r];ru(e,o,T(n,eh(o,"tenantId")))}}(this,this.i),Nu.prototype.v.call(this)},zh.prototype.o=function(){this.i=null,Nu.prototype.o.call(this)},s(qh,Nu);var Jh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Xh="optionFirst",$h={qc:Xh,pc:"identifierFirst"},Qh="*";function ef(e,t){var n=this;this.s=sr(e),this.a={},Object.keys(t).forEach((function(e){n.a[e]=new Hh(t[e])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function tf(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=ef.prototype).Ub=function(e,t){var n=this;tf(this);var i=e.apiKey;return new Fi((function(e,r){if(n.a.hasOwnProperty(i)){var o=Vh(n.a[i]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),$h)if($h[t]===e)return $h[t];return Xh}(n.a[i])===Xh){var a=[];t.forEach((function(e){e=e||"_";var t=n.a[i].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[Qh])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(Zr("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)}));var s=function(t){t={tenantId:t,providerIds:Yh(n.a[i],t||"_")},e(t)};if(1===a.length)return void s(a[0].tenantId);n.g=new zh((function(e){tf(n),o&&o(),s(e)}),a,Wh(n.a[i]),Kh(n.a[i]))}else n.g=new Uh((function(){var r=n.g.j();if(r){for(var a=0;a<t.length;a++){var s=Yh(n.a[i],t[a]||"_",r);if(0!==s.length)return r={tenantId:t[a],providerIds:s,email:r},tf(n),o&&o(),void e(r)}n.g.a(Pn({code:"no-matching-tenant-for-email"}).toString())}}),Wh(n.a[i]),Kh(n.a[i]));n.g.render(n.s),(r=Vh(n.a[i]).selectTenantUiShown||null)&&r()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),r(u)}}))},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Gh(this.a[e],t||"_");try{this.i=Xn.app(n).auth()}catch(r){var i=this.a[e].a.get("authDomain");if(!i)throw Error("Invalid project configuration: authDomain is required!");(e=Xn.initializeApp({apiKey:e,authDomain:i},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Fi((function(i,r){function o(t,i){n.j=new vh(e),Th(n.j,n.s,t,i)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||r(Error("Invalid project configuration: API key is invalid!"));var s=Zh(n.a[a],e.tenantId||"_",t&&t.providerIds);tf(n),r={signInSuccessWithAuthResult:function(e){return i(e),!1}};var u,c=Vh(n.a[a]).signInUiShown||null,l=!1;r.uiChanged=function(t,i){null===t&&"callback"===i?((t=qt("firebaseui-id-page-callback",n.s))&&ou(t),n.h=new qh,n.h.render(n.s)):l||null===t&&"spinner"===i||"blank"===i||(n.h&&(n.h.m(),n.h=null),l=!0,c&&c(e.tenantId))},s.callbacks=r,s.credentialHelper="none",t&&t.email&&(u={emailHint:t.email}),n.j?n.j.Wa().then((function(){o(s,u)})):o(s,u)}))},e.reset=function(){var e=this;return Ki().then((function(){e.j&&e.j.Wa()})).then((function(){e.j=null,tf(e)}))},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout((function(){tf(e),e.h=new qh,e.g=e.h,e.h.render(e.s),e.A=null}),500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return tf(this),this.g=new Yc,this.g.render(this.s),Ki()},e.pb=function(e){var t,n=this,i=Pn({code:e.code}).toString()||e.message;tf(this),e.retry&&"function"==typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new $c(i,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return Ki().then((function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Gh(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=Vh(t.a[n]).beforeSignInSuccess||null)?n(e):e})).then((function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t}))},P("firebaseui.auth.FirebaseUiHandler",ef),P("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ef.prototype.Ub),P("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ef.prototype.Pb),P("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ef.prototype.Zb),P("firebaseui.auth.FirebaseUiHandler.prototype.reset",ef.prototype.reset),P("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ef.prototype.Vb),P("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ef.prototype.mb),P("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ef.prototype.Bb),P("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ef.prototype.pb),P("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ef.prototype.Rb),P("firebaseui.auth.AuthUI",vh),P("firebaseui.auth.AuthUI.getInstance",(function(e){return e=yh(e),bh[e]?bh[e]:null})),P("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",vh.prototype.Db),P("firebaseui.auth.AuthUI.prototype.start",vh.prototype.start),P("firebaseui.auth.AuthUI.prototype.setConfig",vh.prototype.ib),P("firebaseui.auth.AuthUI.prototype.signIn",vh.prototype.Wb),P("firebaseui.auth.AuthUI.prototype.reset",vh.prototype.reset),P("firebaseui.auth.AuthUI.prototype.delete",vh.prototype.Wa),P("firebaseui.auth.AuthUI.prototype.isPendingRedirect",vh.prototype.nb),P("firebaseui.auth.AuthUIError",Dn),P("firebaseui.auth.AuthUIError.prototype.toJSON",Dn.prototype.toJSON),P("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",is),P("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",rs),P("firebaseui.auth.CredentialHelper.NONE",os),P("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Fi.prototype.catch=Fi.prototype.Ca,Fi.prototype.finally=Fi.prototype.fc}).apply(void 0!==n?n:"undefined"!=typeof self?self:window)}.apply(void 0!==n?n:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=e(a));var s=firebaseui.auth})),o.register("3yyN7",(function(e,t){!function(){var t=window.CustomEvent;function n(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function i(e){e&&e.blur&&e!==document.body&&e.blur()}function r(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function o(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function a(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}t&&"object"!=typeof t||((t=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),s.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}i(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!s.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,s.needsCentering(this.dialog_)?(s.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var n=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(n)}};var s={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var o=0;o<i.length;++o){var a=i[o],s=null;try{s=document.querySelectorAll(a.selectorText)}catch(e){}if(s&&r(s,e)){var u=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!s.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new a(e)},registerDialog:function(e){e.showModal||s.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(s.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},s.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},s.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},s.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=n(e);){for(var t,i=0;t=this.pendingDialogStack[i];++i)if(t.dialog===e)return 0===i;e=e.parentElement}return!1},s.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),i(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},s.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var n=new t("cancel",{bubbles:!1,cancelable:!0}),i=this.pendingDialogStack[0];i&&i.dialog.dispatchEvent(n)&&i.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},s.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},s.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},s.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},s.dm=new s.DialogManager,s.formSubmitter=null,s.useValue=null,void 0===window.HTMLDialogElement){var u=document.createElement("form");if(u.setAttribute("method","dialog"),"dialog"!==u.method){var c=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(c){var l=c.get;c.get=function(){return o(this)?"dialog":l.call(this)};var h=c.set;c.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):h.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",c)}}document.addEventListener("click",(function(e){if(s.formSubmitter=null,s.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&o(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;s.useValue=e.offsetX+","+e.offsetY}n(t)&&(s.formSubmitter=t)}}}),!1);var f=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!o(this))return f.call(this);var e=n(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(o(t)){e.preventDefault();var i=n(t);if(i){var r=s.formSubmitter;r&&r.form===t?i.close(s.useValue||r.value):i.close(),s.formSubmitter=null}}}),!0)}s.forceRegisterDialog=s.forceRegisterDialog,s.registerDialog=s.registerDialog,"function"==typeof define&&"amd"in define?define((function(){return s})):"object"==typeof e.exports?e.exports=s:window.dialogPolyfill=s}()})),o.register("1IS2I",(function(e,t){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(n=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function i(t,n){for(var i=0;i<e.length;i++)if(e[i].className===t)return void 0!==n&&(e[i]=n),e[i];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function o(e,t){return-1!==r(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var i=document.createEvent("Events");return i.initEvent(e,t,n),i}function s(t,n){if(void 0===t&&void 0===n)for(var r=0;r<e.length;r++)s(e[r].className,e[r].cssClass);else{var o=t;if(void 0===n){var a=i(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=r(s),h=[];if(u)o(s,u)||h.push(i(u));else{var f=s.classList;e.forEach((function(e){f.contains(e.cssClass)&&-1===h.indexOf(e)&&!o(s,e.className)&&h.push(e)}))}for(var d,p=0,m=h.length;p<m;p++){if(!(d=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var v=new d.classConstructor(s);v[n]=d,t.push(v);for(var g=0,b=d.callbacks.length;g<b;g++)d.callbacks[g](s);d.widget&&(s[d.className]=v);var y=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(y)}}}function c(e){if(e){var i=t.indexOf(e);t.splice(i,1);var r=e.element_.getAttribute("data-upgraded").split(","),o=r.indexOf(e[n].classAsString);r.splice(o,1),e.element_.setAttribute("data-upgraded",r.join(","));var s=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,i=0,r=t.length;i<r;i++)(n=t[i])instanceof HTMLElement&&(u(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)s(e[t].className)},registerUpgradedCallback:function(e,t){var n=i(e);n&&n.callbacks.push(t)},register:function(t){var r=!0;void 0===t.widget&&void 0===t.widget||(r=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:r,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===o.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");i(t.classAsString,o)||e.push(o)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var i=0;i<e.length;i++)n(e[i]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}))})),o.register("62iKi",(function(e,t){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;n=function(e){this.element_=e,this.init()},window.MaterialButton=n,n.prototype.Constant_={},n.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},n.prototype.blurHandler_=function(e){e&&this.element_.blur()},n.prototype.disable=function(){this.element_.disabled=!0},n.prototype.disable=n.prototype.disable,n.prototype.enable=function(){this.element_.disabled=!1},n.prototype.enable=n.prototype.enable,n.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:n,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})),o.register("6nLIH",(function(e,t){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;n=function(e){this.element_=e,this.init()},window.MaterialProgress=n,n.prototype.Constant_={},n.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},n.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},n.prototype.setProgress=n.prototype.setProgress,n.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},n.prototype.setBuffer=n.prototype.setBuffer,n.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:n,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})),o.register("54uZF",(function(e,t){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;n=function(e){this.element_=e,this.init()},window.MaterialSpinner=n,n.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},n.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},n.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,i,r],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}t.appendChild(n),t.appendChild(i),t.appendChild(r),this.element_.appendChild(t)},n.prototype.createLayer=n.prototype.createLayer,n.prototype.stop=function(){this.element_.classList.remove("is-active")},n.prototype.stop=n.prototype.stop,n.prototype.start=function(){this.element_.classList.add("is-active")},n.prototype.start=n.prototype.start,n.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:n,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})),o.register("37sSj",(function(e,t){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;n=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=n,n.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},n.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},n.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},n.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},n.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},n.prototype.onReset_=function(e){this.updateClasses_()},n.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},n.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},n.prototype.checkDisabled=n.prototype.checkDisabled,n.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},n.prototype.checkFocus=n.prototype.checkFocus,n.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},n.prototype.checkValidity=n.prototype.checkValidity,n.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},n.prototype.checkDirty=n.prototype.checkDirty,n.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},n.prototype.disable=n.prototype.disable,n.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},n.prototype.enable=n.prototype.enable,n.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},n.prototype.change=n.prototype.change,n.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:n,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})),Os=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";t.__esModule=!0;var i,r=(i=n(1))&&i.__esModule?i:{default:i},o=Promise.resolve(),a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.uiConfig=n.uiConfig,i.firebaseAuth=n.firebaseAuth,i.className=n.className,i.uiCallback=n.uiCallback,i.unregisterAuthObserver=function(){},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n(2);var t=n(7);return o.then((function(){e.firebaseUiWidget=t.auth.AuthUI.getInstance()||new t.auth.AuthUI(e.firebaseAuth),"popup"===e.uiConfig.signInFlow&&e.firebaseUiWidget.reset(),e.userSignedIn=!1,e.unregisterAuthObserver=e.firebaseAuth.onAuthStateChanged((function(t){!t&&e.userSignedIn&&e.firebaseUiWidget.reset(),e.userSignedIn=!!t})),e.uiCallback&&e.uiCallback(e.firebaseUiWidget),e.firebaseUiWidget.start("#firebaseui_container",e.uiConfig)}))},t.prototype.componentWillUnmount=function(){var e=this;return o=o.then((function(){return e.unregisterAuthObserver(),e.firebaseUiWidget.delete()}))},t.prototype.render=function(){return r.default.createElement("div",{className:this.className,id:"firebaseui_container"})},t}(r.default.Component);t.default=a},function(e,t){e.exports=o("6Ti1v")},function(e,t,n){var i=n(3);"string"==typeof i&&(i=[[e.i,i,""]]);n(5)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(4)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap);",""]),t.push([e.i,'.mdl-button{background:0 0;border:none;border-radius:2px;color:#000;position:relative;height:36px;margin:0;min-width:64px;padding:0 16px;display:inline-block;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:500;text-transform:uppercase;line-height:1;letter-spacing:0;overflow:hidden;will-change:box-shadow;transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1),color .2s cubic-bezier(.4,0,.2,1);outline:0;cursor:pointer;text-decoration:none;text-align:center;line-height:36px;vertical-align:middle}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{background-color:hsla(0,0%,62%,.2)}.mdl-button:focus:not(:active){background-color:rgba(0,0,0,.12)}.mdl-button:active{background-color:hsla(0,0%,62%,.4)}.mdl-button.mdl-button--colored{color:#3f51b5}.mdl-button.mdl-button--colored:focus:not(:active){background-color:rgba(0,0,0,.12)}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--raised{background:hsla(0,0%,62%,.2);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.mdl-button--raised:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);background-color:hsla(0,0%,62%,.4)}.mdl-button--raised:focus:not(:active){box-shadow:0 0 8px rgba(0,0,0,.18),0 8px 16px rgba(0,0,0,.36);background-color:hsla(0,0%,62%,.4)}.mdl-button--raised.mdl-button--colored{background:#3f51b5;color:#fff}.mdl-button--raised.mdl-button--colored:active,.mdl-button--raised.mdl-button--colored:focus:not(:active),.mdl-button--raised.mdl-button--colored:hover{background-color:#3f51b5}.mdl-button--raised.mdl-button--colored .mdl-ripple{background:#fff}.mdl-button--fab{border-radius:50%;font-size:24px;height:56px;margin:auto;min-width:56px;width:56px;padding:0;overflow:hidden;background:hsla(0,0%,62%,.2);box-shadow:0 1px 1.5px 0 rgba(0,0,0,.12),0 1px 1px 0 rgba(0,0,0,.24);position:relative;line-height:normal}.mdl-button--fab .material-icons{position:absolute;top:50%;left:50%;transform:translate(-12px,-12px);line-height:24px;width:24px}.mdl-button--fab.mdl-button--mini-fab{height:40px;min-width:40px;width:40px}.mdl-button--fab .mdl-button__ripple-container{border-radius:50%;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.mdl-button--fab:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);background-color:hsla(0,0%,62%,.4)}.mdl-button--fab:focus:not(:active){box-shadow:0 0 8px rgba(0,0,0,.18),0 8px 16px rgba(0,0,0,.36);background-color:hsla(0,0%,62%,.4)}.mdl-button--fab.mdl-button--colored{background:#ff4081;color:#fff}.mdl-button--fab.mdl-button--colored:active,.mdl-button--fab.mdl-button--colored:focus:not(:active),.mdl-button--fab.mdl-button--colored:hover{background-color:#ff4081}.mdl-button--fab.mdl-button--colored .mdl-ripple{background:#fff}.mdl-button--icon{border-radius:50%;font-size:24px;height:32px;margin-left:0;margin-right:0;min-width:32px;width:32px;padding:0;overflow:hidden;color:inherit;line-height:normal}.mdl-button--icon .material-icons{position:absolute;top:50%;left:50%;transform:translate(-12px,-12px);line-height:24px;width:24px}.mdl-button--icon.mdl-button--mini-icon{height:24px;min-width:24px;width:24px}.mdl-button--icon.mdl-button--mini-icon .material-icons{top:0;left:0}.mdl-button--icon .mdl-button__ripple-container{border-radius:50%;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.mdl-button__ripple-container{display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:0;overflow:hidden}.mdl-button.mdl-button--disabled .mdl-button__ripple-container .mdl-ripple,.mdl-button[disabled] .mdl-button__ripple-container .mdl-ripple{background-color:transparent}.mdl-button--primary.mdl-button--primary{color:#3f51b5}.mdl-button--primary.mdl-button--primary .mdl-ripple{background:#fff}.mdl-button--primary.mdl-button--primary.mdl-button--fab,.mdl-button--primary.mdl-button--primary.mdl-button--raised{color:#fff;background-color:#3f51b5}.mdl-button--accent.mdl-button--accent{color:#ff4081}.mdl-button--accent.mdl-button--accent .mdl-ripple{background:#fff}.mdl-button--accent.mdl-button--accent.mdl-button--fab,.mdl-button--accent.mdl-button--accent.mdl-button--raised{color:#fff;background-color:#ff4081}.mdl-button.mdl-button--disabled.mdl-button--disabled,.mdl-button[disabled][disabled]{color:rgba(0,0,0,.26);cursor:default;background-color:transparent}.mdl-button--fab.mdl-button--disabled.mdl-button--disabled,.mdl-button--fab[disabled][disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.26)}.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised[disabled][disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.26);box-shadow:none}.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored[disabled][disabled]{color:rgba(0,0,0,.26)}.mdl-button .material-icons{vertical-align:middle}.mdl-card{display:flex;flex-direction:column;font-size:16px;font-weight:400;min-height:200px;overflow:hidden;width:330px;z-index:1;position:relative;background:#fff;border-radius:2px;box-sizing:border-box}.mdl-card__media{background-color:#ff4081;background-repeat:repeat;background-position:50% 50%;background-size:cover;background-origin:padding-box;background-attachment:scroll;box-sizing:border-box}.mdl-card__title{align-items:center;color:#000;display:block;display:flex;justify-content:stretch;line-height:normal;padding:16px;perspective-origin:165px 56px;transform-origin:165px 56px;box-sizing:border-box}.mdl-card__title.mdl-card--border{border-bottom:1px solid rgba(0,0,0,.1)}.mdl-card__title-text{align-self:flex-end;color:inherit;display:block;display:flex;font-size:24px;font-weight:300;line-height:normal;overflow:hidden;transform-origin:149px 48px;margin:0}.mdl-card__subtitle-text{font-size:14px;color:rgba(0,0,0,.54);margin:0}.mdl-card__supporting-text{color:rgba(0,0,0,.54);font-size:1rem;line-height:18px;overflow:hidden;padding:16px;width:90%}.mdl-card__supporting-text.mdl-card--border{border-bottom:1px solid rgba(0,0,0,.1)}.mdl-card__actions{font-size:16px;line-height:normal;width:100%;background-color:transparent;padding:8px;box-sizing:border-box}.mdl-card__actions.mdl-card--border{border-top:1px solid rgba(0,0,0,.1)}.mdl-card--expand{flex-grow:1}.mdl-card__menu{position:absolute;right:16px;top:16px}.mdl-dialog{border:none;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);width:280px}.mdl-dialog__title{padding:24px 24px 0;margin:0;font-size:2.5rem}.mdl-dialog__actions{padding:8px 8px 8px 24px;display:flex;flex-direction:row-reverse;flex-wrap:wrap}.mdl-dialog__actions>*{margin-right:8px;height:36px}.mdl-dialog__actions>:first-child{margin-right:0}.mdl-dialog__actions--full-width{padding:0 0 8px}.mdl-dialog__actions--full-width>*{height:48px;flex:0 0 100%;padding-right:16px;margin-right:0;text-align:right}.mdl-dialog__content{padding:20px 24px 24px;color:rgba(0,0,0,.54)}.mdl-progress{display:block;position:relative;height:4px;width:500px;max-width:100%}.mdl-progress>.bar{display:block;position:absolute;top:0;bottom:0;width:0;transition:width .2s cubic-bezier(.4,0,.2,1)}.mdl-progress>.progressbar{background-color:#3f51b5;z-index:1;left:0}.mdl-progress>.bufferbar{background-image:linear-gradient(90deg,hsla(0,0%,100%,.7),hsla(0,0%,100%,.7)),linear-gradient(90deg,#3f51b5,#3f51b5);z-index:0;left:0}.mdl-progress>.auxbar{right:0}@supports (-webkit-appearance:none){.mdl-progress:not(.mdl-progress--indeterminate):not(.mdl-progress--indeterminate)>.auxbar,.mdl-progress:not(.mdl-progress__indeterminate):not(.mdl-progress__indeterminate)>.auxbar{background-image:linear-gradient(90deg,hsla(0,0%,100%,.7),hsla(0,0%,100%,.7)),linear-gradient(90deg,#3f51b5,#3f51b5);mask:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+Cjxzdmcgd2lkdGg9IjEyIiBoZWlnaHQ9IjQiIHZpZXdQb3J0PSIwIDAgMTIgNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxlbGxpcHNlIGN4PSIyIiBjeT0iMiIgcng9IjIiIHJ5PSIyIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImN4IiBmcm9tPSIyIiB0bz0iLTEwIiBkdXI9IjAuNnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogIDwvZWxsaXBzZT4KICA8ZWxsaXBzZSBjeD0iMTQiIGN5PSIyIiByeD0iMiIgcnk9IjIiIGNsYXNzPSJsb2FkZXIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3giIGZyb209IjE0IiB0bz0iMiIgZHVyPSIwLjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICA8L2VsbGlwc2U+Cjwvc3ZnPgo=)}}.mdl-progress:not(.mdl-progress--indeterminate)>.auxbar,.mdl-progress:not(.mdl-progress__indeterminate)>.auxbar{background-image:linear-gradient(90deg,hsla(0,0%,100%,.9),hsla(0,0%,100%,.9)),linear-gradient(90deg,#3f51b5,#3f51b5)}.mdl-progress.mdl-progress--indeterminate>.bar1,.mdl-progress.mdl-progress__indeterminate>.bar1{background-color:#3f51b5;animation-name:indeterminate1;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}.mdl-progress.mdl-progress--indeterminate>.bar3,.mdl-progress.mdl-progress__indeterminate>.bar3{background-image:none;background-color:#3f51b5;animation-name:indeterminate2;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes indeterminate1{0%{left:0;width:0}50%{left:25%;width:75%}75%{left:100%;width:0}}@keyframes indeterminate2{0%{left:0;width:0}50%{left:0;width:0}75%{left:0;width:25%}to{left:100%;width:0}}.mdl-shadow--2dp{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.mdl-shadow--3dp{box-shadow:0 3px 4px 0 rgba(0,0,0,.14),0 3px 3px -2px rgba(0,0,0,.2),0 1px 8px 0 rgba(0,0,0,.12)}.mdl-shadow--4dp{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.mdl-shadow--6dp{box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.2)}.mdl-shadow--8dp{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2)}.mdl-shadow--16dp{box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.2)}.mdl-shadow--24dp{box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2)}.mdl-spinner{display:inline-block;position:relative;width:28px;height:28px}.mdl-spinner:not(.is-upgraded).is-active:after{content:"Loading..."}.mdl-spinner.is-upgraded.is-active{animation:mdl-spinner__container-rotate 1.568s linear infinite}@keyframes mdl-spinner__container-rotate{to{transform:rotate(1turn)}}.mdl-spinner__layer{position:absolute;width:100%;height:100%;opacity:0}.mdl-spinner__layer-1{border-color:#42a5f5}.mdl-spinner--single-color .mdl-spinner__layer-1{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-1{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-2{border-color:#f44336}.mdl-spinner--single-color .mdl-spinner__layer-2{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-2{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-3{border-color:#fdd835}.mdl-spinner--single-color .mdl-spinner__layer-3{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-3{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-4{border-color:#4caf50}.mdl-spinner--single-color .mdl-spinner__layer-4{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-4{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}@keyframes mdl-spinner__fill-unfill-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(3turn)}}@keyframes mdl-spinner__layer-1-fade-in-out{0%{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdl-spinner__layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}}@keyframes mdl-spinner__layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}}@keyframes mdl-spinner__layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}.mdl-spinner__gap-patch{position:absolute;box-sizing:border-box;top:0;left:45%;width:10%;height:100%;overflow:hidden;border-color:inherit}.mdl-spinner__gap-patch .mdl-spinner__circle{width:1000%;left:-450%}.mdl-spinner__circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden;border-color:inherit}.mdl-spinner__circle-clipper.mdl-spinner__left{float:left}.mdl-spinner__circle-clipper.mdl-spinner__right{float:right}.mdl-spinner__circle-clipper .mdl-spinner__circle{width:200%}.mdl-spinner__circle{box-sizing:border-box;height:100%;border-width:3px;border-style:solid;border-color:inherit;border-bottom-color:transparent!important;border-radius:50%;animation:none;position:absolute;top:0;right:0;bottom:0;left:0}.mdl-spinner__left .mdl-spinner__circle{border-right-color:transparent!important;transform:rotate(129deg)}.mdl-spinner.is-active .mdl-spinner__left .mdl-spinner__circle{animation:mdl-spinner__left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__right .mdl-spinner__circle{left:-100%;border-left-color:transparent!important;transform:rotate(-129deg)}.mdl-spinner.is-active .mdl-spinner__right .mdl-spinner__circle{animation:mdl-spinner__right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}@keyframes mdl-spinner__left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@keyframes mdl-spinner__right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}.mdl-textfield{position:relative;font-size:16px;display:inline-block;box-sizing:border-box;width:300px;max-width:100%;margin:0;padding:20px 0}.mdl-textfield .mdl-button{position:absolute;bottom:20px}.mdl-textfield--align-right{text-align:right}.mdl-textfield--full-width{width:100%}.mdl-textfield--expandable{min-width:32px;width:auto;min-height:32px}.mdl-textfield--expandable .mdl-button--icon{top:16px}.mdl-textfield__input{border:none;border-bottom:1px solid rgba(0,0,0,.12);display:block;font-size:16px;font-family:Helvetica,Arial,sans-serif;margin:0;padding:4px 0;width:100%;background:0 0;text-align:left;color:inherit}.mdl-textfield__input[type=number]{-moz-appearance:textfield}.mdl-textfield__input[type=number]::-webkit-inner-spin-button,.mdl-textfield__input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.mdl-textfield.is-focused .mdl-textfield__input{outline:0}.mdl-textfield.is-invalid .mdl-textfield__input{border-color:#d50000;box-shadow:none}.mdl-textfield.is-disabled .mdl-textfield__input,fieldset[disabled] .mdl-textfield .mdl-textfield__input{background-color:transparent;border-bottom:1px dotted rgba(0,0,0,.12);color:rgba(0,0,0,.26)}.mdl-textfield textarea.mdl-textfield__input{display:block}.mdl-textfield__label{bottom:0;color:rgba(0,0,0,.26);font-size:16px;left:0;right:0;pointer-events:none;position:absolute;display:block;top:24px;width:100%;overflow:hidden;white-space:nowrap;text-align:left}.mdl-textfield.has-placeholder .mdl-textfield__label,.mdl-textfield.is-dirty .mdl-textfield__label{visibility:hidden}.mdl-textfield--floating-label .mdl-textfield__label{transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.mdl-textfield--floating-label.has-placeholder .mdl-textfield__label{transition:none}.mdl-textfield.is-disabled.is-disabled .mdl-textfield__label,fieldset[disabled] .mdl-textfield .mdl-textfield__label{color:rgba(0,0,0,.26)}.mdl-textfield--floating-label.has-placeholder .mdl-textfield__label,.mdl-textfield--floating-label.is-dirty .mdl-textfield__label,.mdl-textfield--floating-label.is-focused .mdl-textfield__label{color:#3f51b5;font-size:12px;top:4px;visibility:visible}.mdl-textfield--floating-label.has-placeholder .mdl-textfield__expandable-holder .mdl-textfield__label,.mdl-textfield--floating-label.is-dirty .mdl-textfield__expandable-holder .mdl-textfield__label,.mdl-textfield--floating-label.is-focused .mdl-textfield__expandable-holder .mdl-textfield__label{top:-16px}.mdl-textfield--floating-label.is-invalid .mdl-textfield__label{color:#d50000;font-size:12px}.mdl-textfield__label:after{background-color:#3f51b5;bottom:20px;content:"";height:2px;left:45%;position:absolute;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);visibility:hidden;width:10px}.mdl-textfield.is-focused .mdl-textfield__label:after{left:0;visibility:visible;width:100%}.mdl-textfield.is-invalid .mdl-textfield__label:after{background-color:#d50000}.mdl-textfield__error{color:#d50000;position:absolute;font-size:12px;margin-top:3px;visibility:hidden;display:block}.mdl-textfield.is-invalid .mdl-textfield__error{visibility:visible}.mdl-textfield__expandable-holder{position:relative;margin-left:32px;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:inline-block;max-width:.1px}.mdl-textfield.is-dirty .mdl-textfield__expandable-holder,.mdl-textfield.is-focused .mdl-textfield__expandable-holder{max-width:600px}.mdl-textfield__expandable-holder .mdl-textfield__label:after{bottom:0}dialog{position:absolute;left:0;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;border:solid;padding:1em;background:#fff;color:#000;display:block}dialog:not([open]){display:none}dialog+.backdrop{background:rgba(0,0,0,.1)}._dialog_overlay,dialog+.backdrop{position:fixed;top:0;right:0;bottom:0;left:0}dialog.fixed{position:fixed;top:50%;transform:translateY(-50%)}.firebaseui-container{background-color:#fff;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:rgba(0,0,0,.87);direction:ltr;font:16px Roboto,arial,sans-serif;margin:0 auto;max-width:360px;overflow:visible;position:relative;text-align:left;width:100%}.firebaseui-container.mdl-card{overflow:visible}.firebaseui-card-header{padding:24px 24px 0}.firebaseui-card-content,.firebaseui-card-footer{padding:0 24px}.firebaseui-card-actions{box-sizing:border-box;display:table;font-size:14px;padding:8px 24px 24px;text-align:left;width:100%}.firebaseui-form-links{display:table-cell;vertical-align:middle;width:100%}.firebaseui-form-actions{display:table-cell;text-align:right;white-space:nowrap;width:100%}.firebaseui-subtitle,.firebaseui-title{color:rgba(0,0,0,.87);direction:ltr;font-size:20px;font-weight:500;line-height:24px;margin:0;padding:0;text-align:left}.firebaseui-title{padding-bottom:16px}.firebaseui-subtitle{margin:16px 0}.firebaseui-text{color:rgba(0,0,0,.87);direction:ltr;font-size:16px;line-height:24px;text-align:left}.firebaseui-id-page-password-recovery-email-sent p.firebaseui-text{margin:16px 0}.firebaseui-text-emphasis{font-weight:700}.firebaseui-error{color:#dd2c00;direction:ltr;font-size:12px;line-height:16px;margin:0;text-align:left}.firebaseui-text-input-error{margin:-16px 0 16px}.firebaseui-error-wrapper{min-height:16px}.firebaseui-list-item{direction:ltr;margin:0;padding:0;text-align:left}.firebaseui-hidden{display:none}.firebaseui-relative-wrapper{position:relative}.firebaseui-label{color:rgba(0,0,0,.54);direction:ltr;font-size:16px;text-align:left}.mdl-textfield--floating-label.is-dirty .mdl-textfield__label,.mdl-textfield--floating-label.is-focused .mdl-textfield__label{color:#757575}.firebaseui-input,.firebaseui-input-invalid{border-radius:0;color:rgba(0,0,0,.87);direction:ltr;font-size:16px;width:100%}input.firebaseui-input,input.firebaseui-input-invalid{direction:ltr;text-align:left}.firebaseui-input-invalid{border-color:#dd2c00}.firebaseui-textfield{width:100%}.firebaseui-textfield.mdl-textfield .firebaseui-input{border-color:rgba(0,0,0,.12)}.firebaseui-textfield.mdl-textfield .firebaseui-label:after{background-color:#3f51b5}.firebaseui-textfield-invalid.mdl-textfield .firebaseui-input{border-color:#dd2c00}.firebaseui-textfield-invalid.mdl-textfield .firebaseui-label:after{background-color:#dd2c00}.firebaseui-button{display:inline-block;height:36px;margin-left:8px;min-width:88px}.firebaseui-link{color:#4285f4;font-variant:normal;font-weight:400;text-decoration:none}.firebaseui-link:hover{text-decoration:underline}.firebaseui-indent{margin-left:1em}.firebaseui-tos{color:#757575;direction:ltr;font-size:12px;line-height:16px;margin-bottom:24px;margin-top:0;text-align:left}.firebaseui-provider-sign-in-footer>.firebaseui-tos{text-align:center}.firebaseui-tos-list{list-style:none;text-align:right}.firebaseui-inline-list-item{display:inline-block;margin-left:5px;margin-right:5px}.firebaseui-page-provider-sign-in,.firebaseui-page-select-tenant{background:inherit}.firebaseui-idp-list,.firebaseui-tenant-list{list-style:none;margin:1em 0;padding:0}.firebaseui-idp-button,.firebaseui-tenant-button{direction:ltr;font-weight:500;height:auto;line-height:normal;max-width:220px;min-height:40px;padding:8px 16px;text-align:left;width:100%}.firebaseui-idp-list>.firebaseui-list-item,.firebaseui-tenant-list>.firebaseui-list-item{margin-bottom:15px;text-align:center}.firebaseui-idp-icon-wrapper{display:table-cell;vertical-align:middle}.firebaseui-idp-icon{height:18px;width:18px}.firebaseui-idp-favicon,.firebaseui-idp-icon{border:none;display:inline-block;vertical-align:middle}.firebaseui-idp-favicon{height:14px;margin-right:5px;width:14px}.firebaseui-idp-text{color:#fff;display:table-cell;font-size:14px;padding-left:16px;text-transform:none;vertical-align:middle}.firebaseui-idp-text.firebaseui-idp-text-long{display:table-cell}.firebaseui-idp-text.firebaseui-idp-text-short{display:none}@media (max-width:268px){.firebaseui-idp-text.firebaseui-idp-text-long{display:none}.firebaseui-idp-text.firebaseui-idp-text-short{display:table-cell}}@media (max-width:320px){.firebaseui-recaptcha-container>div>div{transform:scale(.9);-webkit-transform:scale(.9);transform-origin:0 0;-webkit-transform-origin:0 0}}.firebaseui-idp-google>.firebaseui-idp-text{color:#757575}[data-provider-id="yahoo.com"]>.firebaseui-idp-icon-wrapper>.firebaseui-idp-icon{height:22px;width:22px}.firebaseui-info-bar{background-color:#f9edbe;border:1px solid #f0c36d;box-shadow:0 2px 4px rgba(0,0,0,.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);left:10%;padding:8px 16px;position:absolute;right:10%;text-align:center;top:0}.firebaseui-info-bar-message{font-size:12px;margin:0}.firebaseui-dialog{box-sizing:border-box;color:rgba(0,0,0,.87);font:16px Roboto,arial,sans-serif;height:auto;max-height:fit-content;padding:24px;text-align:left}.firebaseui-dialog-icon-wrapper{display:table-cell;vertical-align:middle}.firebaseui-dialog-icon{float:left;height:40px;margin-right:24px;width:40px}.firebaseui-progress-dialog-message{display:table-cell;font-size:16px;font-weight:400;min-height:40px;vertical-align:middle}.firebaseui-progress-dialog-loading-icon{height:28px;margin:6px 30px 6px 6px;width:28px}.firebaseui-icon-done{background-image:url(https://www.gstatic.com/images/icons/material/system/2x/done_googgreen_36dp.png);background-position:50%;background-repeat:no-repeat;background-size:36px 36px}.firebaseui-phone-number{display:flex}.firebaseui-country-selector{background-image:url(https://www.gstatic.com/images/icons/material/system/1x/arrow_drop_down_grey600_18dp.png);background-position:100%;background-repeat:no-repeat;background-size:18px auto;border-radius:0;border-bottom:1px solid rgba(0,0,0,.12);color:rgba(0,0,0,.87);flex-shrink:0;font-size:16px;font-weight:400;height:auto;line-height:normal;margin:20px 24px 20px 0;padding:4px 20px 4px 0;width:90px}.firebaseui-country-selector-flag{display:inline-block;margin-right:1ex}.firebaseui-flag{background-image:url(https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/flags_sprite_2x.png);background-size:100% auto;filter:drop-shadow(1px 1px 1px rgba(0,0,0,.54));height:14px;width:24px}.firebaseui-list-box-dialog{max-height:90%;overflow:auto;padding:8px 0 0}.firebaseui-list-box-actions{padding-bottom:8px}.firebaseui-list-box-icon-wrapper{padding-right:24px}.firebaseui-list-box-icon-wrapper,.firebaseui-list-box-label-wrapper{display:table-cell;vertical-align:top}.firebaseui-list-box-dialog-button{color:rgba(0,0,0,.87);direction:ltr;font-size:16px;font-weight:400;height:auto;line-height:normal;min-height:48px;padding:14px 24px;text-align:left;text-transform:none;width:100%}.firebaseui-phone-number-error{margin-left:114px}.mdl-progress.firebaseui-busy-indicator{height:2px;left:0;position:absolute;top:55px;width:100%}.mdl-spinner.firebaseui-busy-indicator{direction:ltr;height:56px;left:0;margin:auto;position:absolute;right:0;top:30%;width:56px}.firebaseui-callback-indicator-container .firebaseui-busy-indicator{top:0}.firebaseui-callback-indicator-container{height:120px}.firebaseui-new-password-component{display:inline-block;position:relative;width:100%}.firebaseui-input-floating-button{background-position:50%;background-repeat:no-repeat;display:block;height:24px;position:absolute;right:0;top:20px;width:24px}.firebaseui-input-toggle-on{background-image:url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png)}.firebaseui-input-toggle-off{background-image:url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png)}.firebaseui-input-toggle-focus{opacity:.87}.firebaseui-input-toggle-blur{opacity:.38}.firebaseui-recaptcha-wrapper{display:table;margin:0 auto;padding-bottom:8px}.firebaseui-recaptcha-container{display:table-cell}.firebaseui-recaptcha-error-wrapper{caption-side:bottom;display:table-caption}.firebaseui-change-phone-number-link{display:block}.firebaseui-resend-container{direction:ltr;margin:20px 0;text-align:center}.firebaseui-id-resend-countdown{color:rgba(0,0,0,.38)}.firebaseui-id-page-phone-sign-in-start .firebaseui-form-actions div{float:left}@media (max-width:480px){.firebaseui-container{box-shadow:none;max-width:none;width:100%}.firebaseui-card-header{border-bottom:1px solid #e0e0e0;margin-bottom:16px;padding:16px 24px 0}.firebaseui-title{padding-bottom:16px}.firebaseui-card-actions{padding-right:24px}.firebaseui-busy-indicator{top:0}}.mdl-textfield__label{font-weight:400;margin-bottom:0}.firebaseui-id-page-blank,.firebaseui-id-page-spinner{background:inherit;height:64px}.firebaseui-email-sent{background-image:url(https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/success_status.png);background-position:50%;background-repeat:no-repeat;background-size:64px 64px;height:64px;margin-top:16px;text-align:center}.firebaseui-text-justify{text-align:justify}.firebaseui-flag-KY{background-position:0 0}.firebaseui-flag-AC{background-position:0 -14px}.firebaseui-flag-AE{background-position:0 -28px}.firebaseui-flag-AF{background-position:0 -42px}.firebaseui-flag-AG{background-position:0 -56px}.firebaseui-flag-AI{background-position:0 -70px}.firebaseui-flag-AL{background-position:0 -84px}.firebaseui-flag-AM{background-position:0 -98px}.firebaseui-flag-AO{background-position:0 -112px}.firebaseui-flag-AQ{background-position:0 -126px}.firebaseui-flag-AR{background-position:0 -140px}.firebaseui-flag-AS{background-position:0 -154px}.firebaseui-flag-AT{background-position:0 -168px}.firebaseui-flag-AU{background-position:0 -182px}.firebaseui-flag-AW{background-position:0 -196px}.firebaseui-flag-AX{background-position:0 -210px}.firebaseui-flag-AZ{background-position:0 -224px}.firebaseui-flag-BA{background-position:0 -238px}.firebaseui-flag-BB{background-position:0 -252px}.firebaseui-flag-BD{background-position:0 -266px}.firebaseui-flag-BE{background-position:0 -280px}.firebaseui-flag-BF{background-position:0 -294px}.firebaseui-flag-BG{background-position:0 -308px}.firebaseui-flag-BH{background-position:0 -322px}.firebaseui-flag-BI{background-position:0 -336px}.firebaseui-flag-BJ{background-position:0 -350px}.firebaseui-flag-BL{background-position:0 -364px}.firebaseui-flag-BM{background-position:0 -378px}.firebaseui-flag-BN{background-position:0 -392px}.firebaseui-flag-BO{background-position:0 -406px}.firebaseui-flag-BQ{background-position:0 -420px}.firebaseui-flag-BR{background-position:0 -434px}.firebaseui-flag-BS{background-position:0 -448px}.firebaseui-flag-BT{background-position:0 -462px}.firebaseui-flag-BV{background-position:0 -476px}.firebaseui-flag-BW{background-position:0 -490px}.firebaseui-flag-BY{background-position:0 -504px}.firebaseui-flag-BZ{background-position:0 -518px}.firebaseui-flag-CA{background-position:0 -532px}.firebaseui-flag-CC{background-position:0 -546px}.firebaseui-flag-CD{background-position:0 -560px}.firebaseui-flag-CF{background-position:0 -574px}.firebaseui-flag-CG{background-position:0 -588px}.firebaseui-flag-CH{background-position:0 -602px}.firebaseui-flag-CI{background-position:0 -616px}.firebaseui-flag-CK{background-position:0 -630px}.firebaseui-flag-CL{background-position:0 -644px}.firebaseui-flag-CM{background-position:0 -658px}.firebaseui-flag-CN{background-position:0 -672px}.firebaseui-flag-CO{background-position:0 -686px}.firebaseui-flag-CP{background-position:0 -700px}.firebaseui-flag-CR{background-position:0 -714px}.firebaseui-flag-CU{background-position:0 -728px}.firebaseui-flag-CV{background-position:0 -742px}.firebaseui-flag-CW{background-position:0 -756px}.firebaseui-flag-CX{background-position:0 -770px}.firebaseui-flag-CY{background-position:0 -784px}.firebaseui-flag-CZ{background-position:0 -798px}.firebaseui-flag-DE{background-position:0 -812px}.firebaseui-flag-DG{background-position:0 -826px}.firebaseui-flag-DJ{background-position:0 -840px}.firebaseui-flag-DK{background-position:0 -854px}.firebaseui-flag-DM{background-position:0 -868px}.firebaseui-flag-DO{background-position:0 -882px}.firebaseui-flag-DZ{background-position:0 -896px}.firebaseui-flag-EA{background-position:0 -910px}.firebaseui-flag-EC{background-position:0 -924px}.firebaseui-flag-EE{background-position:0 -938px}.firebaseui-flag-EG{background-position:0 -952px}.firebaseui-flag-EH{background-position:0 -966px}.firebaseui-flag-ER{background-position:0 -980px}.firebaseui-flag-ES{background-position:0 -994px}.firebaseui-flag-ET{background-position:0 -1008px}.firebaseui-flag-EU{background-position:0 -1022px}.firebaseui-flag-FI{background-position:0 -1036px}.firebaseui-flag-FJ{background-position:0 -1050px}.firebaseui-flag-FK{background-position:0 -1064px}.firebaseui-flag-FM{background-position:0 -1078px}.firebaseui-flag-FO{background-position:0 -1092px}.firebaseui-flag-FR{background-position:0 -1106px}.firebaseui-flag-GA{background-position:0 -1120px}.firebaseui-flag-GB{background-position:0 -1134px}.firebaseui-flag-GD{background-position:0 -1148px}.firebaseui-flag-GE{background-position:0 -1162px}.firebaseui-flag-GF{background-position:0 -1176px}.firebaseui-flag-GG{background-position:0 -1190px}.firebaseui-flag-GH{background-position:0 -1204px}.firebaseui-flag-GI{background-position:0 -1218px}.firebaseui-flag-GL{background-position:0 -1232px}.firebaseui-flag-GM{background-position:0 -1246px}.firebaseui-flag-GN{background-position:0 -1260px}.firebaseui-flag-GP{background-position:0 -1274px}.firebaseui-flag-GQ{background-position:0 -1288px}.firebaseui-flag-GR{background-position:0 -1302px}.firebaseui-flag-GS{background-position:0 -1316px}.firebaseui-flag-GT{background-position:0 -1330px}.firebaseui-flag-GU{background-position:0 -1344px}.firebaseui-flag-GW{background-position:0 -1358px}.firebaseui-flag-GY{background-position:0 -1372px}.firebaseui-flag-HK{background-position:0 -1386px}.firebaseui-flag-HM{background-position:0 -1400px}.firebaseui-flag-HN{background-position:0 -1414px}.firebaseui-flag-HR{background-position:0 -1428px}.firebaseui-flag-HT{background-position:0 -1442px}.firebaseui-flag-HU{background-position:0 -1456px}.firebaseui-flag-IC{background-position:0 -1470px}.firebaseui-flag-ID{background-position:0 -1484px}.firebaseui-flag-IE{background-position:0 -1498px}.firebaseui-flag-IL{background-position:0 -1512px}.firebaseui-flag-IM{background-position:0 -1526px}.firebaseui-flag-IN{background-position:0 -1540px}.firebaseui-flag-IO{background-position:0 -1554px}.firebaseui-flag-IQ{background-position:0 -1568px}.firebaseui-flag-IR{background-position:0 -1582px}.firebaseui-flag-IS{background-position:0 -1596px}.firebaseui-flag-IT{background-position:0 -1610px}.firebaseui-flag-JE{background-position:0 -1624px}.firebaseui-flag-JM{background-position:0 -1638px}.firebaseui-flag-JO{background-position:0 -1652px}.firebaseui-flag-JP{background-position:0 -1666px}.firebaseui-flag-KE{background-position:0 -1680px}.firebaseui-flag-KG{background-position:0 -1694px}.firebaseui-flag-KH{background-position:0 -1708px}.firebaseui-flag-KI{background-position:0 -1722px}.firebaseui-flag-KM{background-position:0 -1736px}.firebaseui-flag-KN{background-position:0 -1750px}.firebaseui-flag-KP{background-position:0 -1764px}.firebaseui-flag-KR{background-position:0 -1778px}.firebaseui-flag-KW{background-position:0 -1792px}.firebaseui-flag-AD{background-position:0 -1806px}.firebaseui-flag-KZ{background-position:0 -1820px}.firebaseui-flag-LA{background-position:0 -1834px}.firebaseui-flag-LB{background-position:0 -1848px}.firebaseui-flag-LC{background-position:0 -1862px}.firebaseui-flag-LI{background-position:0 -1876px}.firebaseui-flag-LK{background-position:0 -1890px}.firebaseui-flag-LR{background-position:0 -1904px}.firebaseui-flag-LS{background-position:0 -1918px}.firebaseui-flag-LT{background-position:0 -1932px}.firebaseui-flag-LU{background-position:0 -1946px}.firebaseui-flag-LV{background-position:0 -1960px}.firebaseui-flag-LY{background-position:0 -1974px}.firebaseui-flag-MA{background-position:0 -1988px}.firebaseui-flag-MC{background-position:0 -2002px}.firebaseui-flag-MD{background-position:0 -2016px}.firebaseui-flag-ME{background-position:0 -2030px}.firebaseui-flag-MF{background-position:0 -2044px}.firebaseui-flag-MG{background-position:0 -2058px}.firebaseui-flag-MH{background-position:0 -2072px}.firebaseui-flag-MK{background-position:0 -2086px}.firebaseui-flag-ML{background-position:0 -2100px}.firebaseui-flag-MM{background-position:0 -2114px}.firebaseui-flag-MN{background-position:0 -2128px}.firebaseui-flag-MO{background-position:0 -2142px}.firebaseui-flag-MP{background-position:0 -2156px}.firebaseui-flag-MQ{background-position:0 -2170px}.firebaseui-flag-MR{background-position:0 -2184px}.firebaseui-flag-MS{background-position:0 -2198px}.firebaseui-flag-MT{background-position:0 -2212px}.firebaseui-flag-MU{background-position:0 -2226px}.firebaseui-flag-MV{background-position:0 -2240px}.firebaseui-flag-MW{background-position:0 -2254px}.firebaseui-flag-MX{background-position:0 -2268px}.firebaseui-flag-MY{background-position:0 -2282px}.firebaseui-flag-MZ{background-position:0 -2296px}.firebaseui-flag-NA{background-position:0 -2310px}.firebaseui-flag-NC{background-position:0 -2324px}.firebaseui-flag-NE{background-position:0 -2338px}.firebaseui-flag-NF{background-position:0 -2352px}.firebaseui-flag-NG{background-position:0 -2366px}.firebaseui-flag-NI{background-position:0 -2380px}.firebaseui-flag-NL{background-position:0 -2394px}.firebaseui-flag-NO{background-position:0 -2408px}.firebaseui-flag-NP{background-position:0 -2422px}.firebaseui-flag-NR{background-position:0 -2436px}.firebaseui-flag-NU{background-position:0 -2450px}.firebaseui-flag-NZ{background-position:0 -2464px}.firebaseui-flag-OM{background-position:0 -2478px}.firebaseui-flag-PA{background-position:0 -2492px}.firebaseui-flag-PE{background-position:0 -2506px}.firebaseui-flag-PF{background-position:0 -2520px}.firebaseui-flag-PG{background-position:0 -2534px}.firebaseui-flag-PH{background-position:0 -2548px}.firebaseui-flag-PK{background-position:0 -2562px}.firebaseui-flag-PL{background-position:0 -2576px}.firebaseui-flag-PM{background-position:0 -2590px}.firebaseui-flag-PN{background-position:0 -2604px}.firebaseui-flag-PR{background-position:0 -2618px}.firebaseui-flag-PS{background-position:0 -2632px}.firebaseui-flag-PT{background-position:0 -2646px}.firebaseui-flag-PW{background-position:0 -2660px}.firebaseui-flag-PY{background-position:0 -2674px}.firebaseui-flag-QA{background-position:0 -2688px}.firebaseui-flag-RE{background-position:0 -2702px}.firebaseui-flag-RO{background-position:0 -2716px}.firebaseui-flag-RS{background-position:0 -2730px}.firebaseui-flag-RU{background-position:0 -2744px}.firebaseui-flag-RW{background-position:0 -2758px}.firebaseui-flag-SA{background-position:0 -2772px}.firebaseui-flag-SB{background-position:0 -2786px}.firebaseui-flag-SC{background-position:0 -2800px}.firebaseui-flag-SD{background-position:0 -2814px}.firebaseui-flag-SE{background-position:0 -2828px}.firebaseui-flag-SG{background-position:0 -2842px}.firebaseui-flag-SH{background-position:0 -2856px}.firebaseui-flag-SI{background-position:0 -2870px}.firebaseui-flag-SJ{background-position:0 -2884px}.firebaseui-flag-SK{background-position:0 -2898px}.firebaseui-flag-SL{background-position:0 -2912px}.firebaseui-flag-SM{background-position:0 -2926px}.firebaseui-flag-SN{background-position:0 -2940px}.firebaseui-flag-SO{background-position:0 -2954px}.firebaseui-flag-SR{background-position:0 -2968px}.firebaseui-flag-SS{background-position:0 -2982px}.firebaseui-flag-ST{background-position:0 -2996px}.firebaseui-flag-SV{background-position:0 -3010px}.firebaseui-flag-SX{background-position:0 -3024px}.firebaseui-flag-SY{background-position:0 -3038px}.firebaseui-flag-SZ{background-position:0 -3052px}.firebaseui-flag-TA{background-position:0 -3066px}.firebaseui-flag-TC{background-position:0 -3080px}.firebaseui-flag-TD{background-position:0 -3094px}.firebaseui-flag-TF{background-position:0 -3108px}.firebaseui-flag-TG{background-position:0 -3122px}.firebaseui-flag-TH{background-position:0 -3136px}.firebaseui-flag-TJ{background-position:0 -3150px}.firebaseui-flag-TK{background-position:0 -3164px}.firebaseui-flag-TL{background-position:0 -3178px}.firebaseui-flag-TM{background-position:0 -3192px}.firebaseui-flag-TN{background-position:0 -3206px}.firebaseui-flag-TO{background-position:0 -3220px}.firebaseui-flag-TR{background-position:0 -3234px}.firebaseui-flag-TT{background-position:0 -3248px}.firebaseui-flag-TV{background-position:0 -3262px}.firebaseui-flag-TW{background-position:0 -3276px}.firebaseui-flag-TZ{background-position:0 -3290px}.firebaseui-flag-UA{background-position:0 -3304px}.firebaseui-flag-UG{background-position:0 -3318px}.firebaseui-flag-UM{background-position:0 -3332px}.firebaseui-flag-UN{background-position:0 -3346px}.firebaseui-flag-US{background-position:0 -3360px}.firebaseui-flag-UY{background-position:0 -3374px}.firebaseui-flag-UZ{background-position:0 -3388px}.firebaseui-flag-VA{background-position:0 -3402px}.firebaseui-flag-VC{background-position:0 -3416px}.firebaseui-flag-VE{background-position:0 -3430px}.firebaseui-flag-VG{background-position:0 -3444px}.firebaseui-flag-VI{background-position:0 -3458px}.firebaseui-flag-VN{background-position:0 -3472px}.firebaseui-flag-VU{background-position:0 -3486px}.firebaseui-flag-WF{background-position:0 -3500px}.firebaseui-flag-WS{background-position:0 -3514px}.firebaseui-flag-XK{background-position:0 -3528px}.firebaseui-flag-YE{background-position:0 -3542px}.firebaseui-flag-YT{background-position:0 -3556px}.firebaseui-flag-ZA{background-position:0 -3570px}.firebaseui-flag-ZM{background-position:0 -3584px}.firebaseui-flag-ZW{background-position:0 -3598px}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i,r,o,a={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),u=function(e){return document.querySelector(e)},c=(o={},function(e){if("function"==typeof e)return e();if(void 0===o[e]){var t=u.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}o[e]=t}return o[e]}),l=null,h=0,f=[],d=n(6);function p(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=a[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(w(i.parts[o],t))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(w(i.parts[o],t));a[i.id]={id:i.id,refs:1,parts:s}}}}function m(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function v(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=f[f.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function b(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),v(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function w(e,t){var n,i,r,o,a,s;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=h++;n=l||(l=b(t)),i=S.bind(null,n,u,!1),r=S.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=t,s=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",y(s,a.attrs),v(a,s),n=s,i=E.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),i=M.bind(null,n),r=function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return p(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var o=n[r];(s=a[o.id]).refs--,i.push(s)}for(e&&p(m(e,t),t),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var _,k=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function S(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=k(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function M(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t){e.exports=o("1mq7S")}]);a=o("6Ti1v");const Ps={callbacks:{signInSuccessWithAuthResult:function(e,t){const n=Xn.auth().currentUser;return Is(n)&&As(n.email),!0}},signInOptions:[Xn.auth.EmailAuthProvider.PROVIDER_ID,Xn.auth.GoogleAuthProvider.PROVIDER_ID,Xn.auth.TwitterAuthProvider.PROVIDER_ID]};function Rs(){return e(a).createElement("div",null,e(a).createElement("header",{role:"banner"},e(a).createElement("h1",null,"Welcome to Roguelike Celebration 2021!")),e(a).createElement("main",{role:"main"},e(a).createElement("p",null,"This is a social space for attendees of"," ",e(a).createElement("a",{href:"https://roguelike.club"},"Roguelike Celebration"),", a community-generated weekend of talks, games, and conversations about roguelikes and related topics, including procedural generation and game design. It's for fans, players, developers, scholars, and everyone else!"),e(a).createElement(e(Os),{uiConfig:Ps,firebaseAuth:Xn.auth()}),e(a).createElement("p",null,"If you log in via email, we will require you to verify that email address."),e(a).createElement("p",null,"No matter which service you log in with, we do not access any data other than what is needed to authenticate you. If it would make you more comfortable, feel free to sign up for and use a throwaway account on one of these services."),e(a).createElement("p",null,"After logging in, you will have the opportunity to pick whatever chat handle you would like before entering the space."),e(a).createElement("p",null,"By entering the space, you agree to our"," ",e(a).createElement("a",{href:"https://roguelike.club/code.html"},"Code of Conduct"),".")))}a=o("6Ti1v");function Ds(t){return e(a).createElement("div",null,e(a).createElement("h1",null,"This isn't a normal chat app!"),e(a).createElement("p",null,"In the Roguelike Celebration conference space, you can only send/receive messages ",e(a).createElement("strong",null,"in the chat room you are currently in"),". "),e(a).createElement("p",null,"You can move from virtual room to virtual room to talk to different people."),e(a).createElement("p",null,"Our hope is to facilitate smaller group conversations, to make Roguelike Celebration feel a little more like a real-world conference, and to give you a fun and playful space to explore with your fellow attendees."),e(a).createElement("p",null,"Happy wandering, and be wary of reading scrolls without identifying them first ;)"),e(a).createElement("p",null,"-The Roguelike Celebration team"))}a=o("6Ti1v");function js(){return e(a).createElement("div",{id:"go-home"},e(a).createElement("h1",null,"A magical force repels you from the entrance"),e(a).createElement("p",null,"Roguelike Celebration is currently closed! Check the ",e(a).createElement("a",{href:"https://roguelike.club/event2020.html",target:"_blank",rel:"noreferrer"},"schedule")," to see when our doors will be open again."),e(a).createElement("p",null,"We look forward to celebrating again with you soon :)"))}a=o("6Ti1v");function Ls(){return e(a).createElement("div",{id:"you-are-banned"},e(a).createElement("h1",null,"You are banned"),e(a).createElement("p",null,"You have been banned from the social space. If you believe you have been banned in error, please email ",e(a).createElement("b",null,"contact at roguelike.club"),"."))}a=o("6Ti1v");function Ns(t){const n=t.rooms.map((t=>t.hidden?"":e(a).createElement(Bs,{room:t,key:`room-sidebar-${t.id}`})));return e(a).createElement("div",null,e(a).createElement("h1",null,"List of Rooms"),e(a).createElement("ul",null,n))}const Bs=t=>{const{room:n}=t,i=n.users?`(${n.users.length})`:"",r=n.videoUsers&&n.videoUsers.length>0?e(a).createElement(no,null):"";return e(a).createElement("li",{style:{listStyle:"none"}},e(a).createElement("button",{onClick:()=>{ui(n.id)},className:"link-styled-button"},e(a).createElement("strong",null,n.name)," ",i," ",r))};a=o("6Ti1v");function Fs(t){const[n,i]=a.useState(JSON.stringify(t.serverSettings,null,2)),[r,o]=a.useState(""),[s,u]=a.useState(""),[c,l]=a.useState("");return e(a).createElement("div",{className:"serverSettingsContainer"},e(a).createElement("h1",null,"Happening Now Controls"),e(a).createElement("h2",null,"Current Entries"),t.serverSettings.happeningNowEntries.map((n=>e(a).createElement("li",{key:n.text},JSON.stringify(n),e(a).createElement("button",{id:"delete-"+n.text,onClick:()=>(e=>{if(confirm("Are you sure you want to delete the happening now note?")){const n=JSON.parse(JSON.stringify(t.serverSettings));n.happeningNowEntries=t.serverSettings.happeningNowEntries.filter((t=>t.text!==e.text)),ri(n)}})(n)},"Delete")))),e(a).createElement("div",{className:"form",id:"addHappeningNowForm"},e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"add-happening-now-text"},"Text"),e(a).createElement("input",{type:"text",id:"add-happening-now-text",value:r,onChange:e=>o(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"add-happening-now-room-id"},"Room ID (blank if you want to link to an external site)"),e(a).createElement("input",{type:"text",id:"add-happening-now-room-id",value:s,onChange:e=>u(e.currentTarget.value)})),e(a).createElement("div",{className:"field"},e(a).createElement("label",{htmlFor:"add-happening-now-external-link"},"External Link (blank if you want to link to a room)"),e(a).createElement("input",{type:"text",id:"add-happening-now-external-link",value:c,onChange:e=>l(e.currentTarget.value)})),e(a).createElement("button",{id:"add-entry",onClick:()=>{if(0===r.length)return void alert("You need to have text!");if(s.length>0&&c.length>0)return void alert("You cannot have roomId and external link");if(s.length>0&&!fo[s])return void alert("No such room as "+s);const e=JSON.parse(JSON.stringify(t.serverSettings));e.happeningNowEntries.push({text:r,roomId:s.length>0?s:void 0,externalLink:c.length>0?c:void 0}),ri(e)},className:"submit"},"Add Entry")),e(a).createElement("h1",null,"Manual Controls (Finnicky)"),e(a).createElement("h3",{id:"old-settings-header"},"Old settings:"),e(a).createElement("pre",{id:"old-settings-pretty"},JSON.stringify(t.serverSettings,null,2)),e(a).createElement("h3",{id:"new-settings-header"},"New settings:"),e(a).createElement("div",{className:"form",id:"serverSettingsForm"},e(a).createElement("textarea",{id:"new-settings-textarea",defaultValue:n,cols:50,rows:30,onChange:e=>i(e.currentTarget.value)}),e(a).createElement("button",{onClick:e=>{(()=>{let e;try{e=po(JSON.parse(n))}catch(e){return void alert("JSON parse error: "+e.toString())}e?ri(e):alert("New settings were valid json but had invalid properties, please check for typos!")})()},className:"submit"},"Save Changes")))}a=o("6Ti1v");function Us(){return e(a).createElement("div",{id:"client-deployed"},e(a).createElement("h1",null,"New Version Available!"),e(a).createElement("p",null,"We just updated the social space with new features and bugfixes!"),e(a).createElement("p",null,"Please reload this page whenever is convenient so you can be running the latest code."),e(a).createElement("button",{onClick:()=>window.location.reload()},"Reload"))}a=o("6Ti1v");const zs=[...Ms].reverse();function qs(t){const n=a.useContext(Xf),i=new Date,r=zs.find((e=>e.time<i)),o=e=>{fo[e]?(ui(e),n(nn())):console.error("Can't go to room "+e+" from link in happening now view, no such room!")};let s;var u;return s=r?e(a).createElement("div",{id:"currently-scheduled-div"},r.text,r.roomIds?(u=r.roomIds,e(a).createElement("ul",null,u.map((n=>e(a).createElement("li",{key:n},e(a).createElement("button",{id:`button-happening-now${n}`,onClick:()=>o(n),className:"link-styled-button"},t.roomData[n]?t.roomData[n].name:"unknown room")))))):""):e(a).createElement("strong",null,"You're in early! Check the schedule for when the doors officially open."),e(a).createElement("div",{id:"happening-now"},e(a).createElement("h1",null,"Happening Now"),e(a).createElement("h2",null,"From The Schedule"),s,e(a).createElement("h2",null,"Other Live Activities"),e(a).createElement("ul",null,t.entries.map((t=>t.roomId?e(a).createElement("li",{key:t.text},e(a).createElement("button",{id:`button-${t.text}`,onClick:()=>o(t.roomId),className:"link-styled-button"},t.text)):t.externalLink?e(a).createElement("li",{key:t.text},e(a).createElement("a",{className:"nav-item",href:t.externalLink,target:"_blank",rel:"nofollow noopener noreferrer"},t.text)):e(a).createElement("li",{key:t.text},t.text)))))}a=o("6Ti1v"),a=o("6Ti1v");var Hs="undefined"!=typeof document,Vs=[{hidden:"hidden",event:"visibilitychange",state:"visibilityState"},{hidden:"webkitHidden",event:"webkitvisibilitychange",state:"webkitVisibilityState"},{hidden:"mozHidden",event:"mozvisibilitychange",state:"mozVisibilityState"},{hidden:"msHidden",event:"msvisibilitychange",state:"msVisibilityState"},{hidden:"oHidden",event:"ovisibilitychange",state:"oVisibilityState"}],Ws=Hs&&Boolean(document.addEventListener),Ks=function(){if(!Ws)return null;var e=!0,t=!1,n=void 0;try{for(var i,r=Vs[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(o.hidden in document)return o}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}return null}(),Gs=function(){if(!Ks)return[!0,"visible"];var e=Ks.hidden,t=Ks.state;return[!document[e],document[t]]},Ys=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Zs(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Js=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={isSupported:Ws&&Ks},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Ys(n,[{key:"componentDidMount",value:function(){this.state.isSupported&&(this.handleVisibilityChange=this.handleVisibilityChange.bind(this),document.addEventListener(Ks.event,this.handleVisibilityChange))}},{key:"componentWillUnmount",value:function(){this.state.isSupported&&document.removeEventListener(Ks.event,this.handleVisibilityChange)}},{key:"handleVisibilityChange",value:function(){var e;"function"==typeof this.props.onChange&&(e=this.props).onChange.apply(e,Zs(Gs()));"function"==typeof this.props.children&&this.forceUpdate()}},{key:"render",value:function(){return this.props.children?"function"==typeof this.props.children?this.state.isSupported?(t=this.props).children.apply(t,Zs(Gs())):this.props.children():e(a).Children.only(this.props.children):null;var t}}]),n}(e(a).Component);Js.displayName="PageVisibility",Js.propTypes={onChange:e(fi).func,children:e(fi).oneOfType([e(fi).node,e(fi).func])};var Xs=Js;function $s(t){const n=t.dispatch;return e(a).createElement(Xs,{onChange:e=>{if(e&&Xn.auth().currentUser&&Xn.auth().currentUser.emailVerified){var t=Xn.auth().currentUser;n(on(t.uid,t.email,t.providerId,!1))}}},e(a).createElement("div",null,e(a).createElement("header",{role:"banner"},e(a).createElement("h1",null,"Please verify your email!")),e(a).createElement("main",{role:"main"},e(a).createElement("p",null,"You're currently attempting to log in as ",e(a).createElement("strong",null,t.userEmail),", but your email is not yet verified. Please follow the link in your email to complete the registration process."),e(a).createElement("p",null,e(a).createElement("strong",null,"If you have verified your email and this page has not automatically logged you in, please refresh the page manually.")),e(a).createElement("button",{onClick:e=>{As(t.userEmail)}},"Resend Verification Email"),e(a).createElement("br",null),e(a).createElement("button",{onClick:()=>{Xn.auth().signOut().then((()=>{n(on(void 0,void 0,void 0,void 0))}))}},"Use a Different Provider or Email"))))}a=o("6Ti1v");function Qs(){const t=Xn.auth().currentUser;return t.emailVerified||Xn.auth().signInWithEmailLink(t.email,window.location.href).then((()=>{window.location.reload()})),t.emailVerified?e(a).createElement("div",null,e(a).createElement("header",{role:"banner"},e(a).createElement("h1",null,"Your email has been successfully verified!")),e(a).createElement("main",{role:"main"},e(a).createElement("p",null,"You may now close this window and go back to the main app."))):e(a).createElement("div",null,e(a).createElement("header",{role:"banner"},e(a).createElement("h1",null,"Attempting to verify email.")),e(a).createElement("main",{role:"main"},e(a).createElement("p",null,"Please wait while your email is verified.")))}go=o("4mTIe"),a=o("6Ti1v"),a=o("6Ti1v");var eu,tu={};o.register("412Yf",(function(e,t){"use strict";var n=o("2cK96").inherits,i=o("1Y49Z");function r(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,r.prototype),n}n(r,i),e.exports=r})),o.register("2cK96",(function(e,t){var n=o("7lbf0"),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},r=/%[sdj%]/g;e.exports.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),s=i[n];n<o;s=i[++n])v(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},e.exports.deprecate=function(t,i){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.exports.deprecate(t,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),r=!0}return t.apply(this,arguments)}};var a={},s=/^$/;function u(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(n)?i.showHidden=n:n&&e.exports._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),h(i,t,i.depth)}function c(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function l(e,t){return e}function h(t,n,i){if(t.customInspect&&n&&M(n.inspect)&&n.inspect!==e.exports.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return b(r)||(r=h(t,r,i)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(M(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var c,l="",_=!1,E=["{","}"];(p(n)&&(_=!0,E=["[","]"]),M(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(l=" "+RegExp.prototype.toString.call(n)),k(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+f(n)),0!==a.length||_&&0!=n.length?i<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=_?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(d(e,t,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(d(e,t,n,i,r,!0))})),o}(t,n,i,s,a):a.map((function(e){return d(t,n,i,s,e,_)})),t.seen.pop(),function(e,t,n){var i=0;return e.reduce((function(e,t){i++;if(t.indexOf("\n")>=0)i++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,E)):E[0]+l+E[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,r,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),I(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?h(e,u.value,null):h(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function w(e){return _(e)&&"[object RegExp]"===E(e)}function _(e){return"object"==typeof e&&null!==e}function k(e){return _(e)&&"[object Date]"===E(e)}function S(e){return _(e)&&("[object Error]"===E(e)||e instanceof Error)}function M(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}e.exports.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(s.test(t)){var i=n.pid;a[t]=function(){var n=e.exports.format.apply(e.exports,arguments);console.error("%s %d: %s",t,i,n)}}else a[t]=function(){};return a[t]},e.exports.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.exports.types=o("1bQPB"),e.exports.isArray=p,e.exports.isBoolean=m,e.exports.isNull=v,e.exports.isNullOrUndefined=function(e){return null==e},e.exports.isNumber=g,e.exports.isString=b,e.exports.isSymbol=function(e){return"symbol"==typeof e},e.exports.isUndefined=y,e.exports.isRegExp=w,e.exports.types.isRegExp=w,e.exports.isObject=_,e.exports.isDate=k,e.exports.types.isDate=k,e.exports.isError=S,e.exports.types.isNativeError=S,e.exports.isFunction=M,e.exports.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.exports.isBuffer=o("5vVsB");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports.log=function(){console.log("%s - %s",T(),e.exports.format.apply(e.exports,arguments))},e.exports.inherits=o("67rjf"),e.exports._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}e.exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},e.exports.promisify.custom=A,e.exports.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(O.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}})),o.register("1bQPB",(function(e,t){"use strict";var n=o("2fjQn"),i=o("5gdE8"),r=o("5WFk8"),a=o("UWFp8");function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),h=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var m=s(Symbol.prototype.valueOf);function v(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===l(e)}function b(e){return"[object Set]"===l(e)}function y(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function k(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===l(e)}function M(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}e.exports.isArgumentsObject=n,e.exports.isGeneratorFunction=i,e.exports.isTypedArray=a,e.exports.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.exports.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||M(e)},e.exports.isUint8Array=function(e){return"Uint8Array"===r(e)},e.exports.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===r(e)},e.exports.isUint16Array=function(e){return"Uint16Array"===r(e)},e.exports.isUint32Array=function(e){return"Uint32Array"===r(e)},e.exports.isInt8Array=function(e){return"Int8Array"===r(e)},e.exports.isInt16Array=function(e){return"Int16Array"===r(e)},e.exports.isInt32Array=function(e){return"Int32Array"===r(e)},e.exports.isFloat32Array=function(e){return"Float32Array"===r(e)},e.exports.isFloat64Array=function(e){return"Float64Array"===r(e)},e.exports.isBigInt64Array=function(e){return"BigInt64Array"===r(e)},e.exports.isBigUint64Array=function(e){return"BigUint64Array"===r(e)},g.working="undefined"!=typeof Map&&g(new Map),e.exports.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.exports.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},y.working="undefined"!=typeof WeakMap&&y(new WeakMap),e.exports.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(y.working?y(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),e.exports.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.exports.isArrayBuffer=k,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),e.exports.isDataView=M;var E="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function C(e){return"[object SharedArrayBuffer]"===l(e)}function x(e){return void 0!==E&&(void 0===C.working&&(C.working=C(new E)),C.working?C(e):e instanceof E)}function T(e){return v(e,h)}function I(e){return v(e,f)}function A(e){return v(e,d)}function O(e){return u&&v(e,p)}function P(e){return c&&v(e,m)}e.exports.isSharedArrayBuffer=x,e.exports.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},e.exports.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},e.exports.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},e.exports.isGeneratorObject=function(e){return"[object Generator]"===l(e)},e.exports.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},e.exports.isNumberObject=T,e.exports.isStringObject=I,e.exports.isBooleanObject=A,e.exports.isBigIntObject=O,e.exports.isSymbolObject=P,e.exports.isBoxedPrimitive=function(e){return T(e)||I(e)||A(e)||O(e)||P(e)},e.exports.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(k(e)||x(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e.exports,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))})),o.register("2fjQn",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=o("fQB5Q")("Object.prototype.toString"),r=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=a,e.exports=s?r:a})),o.register("fQB5Q",(function(e,t){"use strict";var n=o("5sE9x"),i=o("3EXX5"),r=i(n("String.prototype.indexOf"));e.exports=function(e,t){var o=n(e,!!t);return"function"==typeof o&&r(e,".prototype.")>-1?i(o):o}})),o.register("5sE9x",(function(e,t){"use strict";var n,i=SyntaxError,r=Function,a=TypeError,s=function(e){try{return r('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,h=o("6pa0H")(),f=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"==typeof Uint8Array?n:f(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},v=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=f(r.prototype))}return m[t]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=o("6MwEN"),y=o("A728t"),w=b.call(Function.call,Array.prototype.concat),_=b.call(Function.apply,Array.prototype.splice),k=b.call(Function.call,String.prototype.replace),S=b.call(Function.call,String.prototype.slice),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,C=function(e){var t=S(e,0,1),n=S(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return k(e,M,(function(e,t,n,i){r[r.length]=n?k(i,E,"$1"):t||e})),r},x=function(e,t){var n,r=e;if(y(g,r)&&(r="%"+(n=g[r])[0]+"%"),y(m,r)){var o=m[r];if(o===d&&(o=v(r)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var n=C(e),r=n.length>0?n[0]:"",o=x("%"+r+"%",t),s=o.name,c=o.value,l=!1,h=o.alias;h&&(r=h[0],_(n,w([0,1],h)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],v=S(p,0,1),g=S(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),y(m,s="%"+(r+="."+p)+"%"))c=m[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var b=u(c,p);c=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[p]}else d=y(c,p),c=c[p];d&&!l&&(m[s]=c)}}return c}})),o.register("6pa0H",(function(e,t){"use strict";var i=n.Symbol,r=o("2i7Ex");e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}})),o.register("2i7Ex",(function(e,t){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}})),o.register("6MwEN",(function(e,t){"use strict";var n=o("6BCeX");e.exports=Function.prototype.bind||n})),o.register("6BCeX",(function(e,t){"use strict";var n="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||r.call(t)!==o)throw new TypeError(n+t);for(var a,s=i.call(arguments,1),u=function(){if(this instanceof a){var n=t.apply(this,s.concat(i.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(i.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],h=0;h<c;h++)l.push("$"+h);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var f=function(){};f.prototype=t.prototype,a.prototype=new f,f.prototype=null}return a}})),o.register("A728t",(function(e,t){"use strict";var n=o("6MwEN");e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)})),o.register("3EXX5",(function(e,t){"use strict";var n=o("6MwEN"),i=o("5sE9x"),r=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,r),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var i=u(t,"length");i.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var h=function(){return s(n,r,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h})),o.register("5gdE8",(function(e,t){"use strict";var n,i=Object.prototype.toString,r=Function.prototype.toString,o=/^\s*(?:function)?\*/,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(o.test(r.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!s)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&s(t)}return s(e)===n}})),o.register("5WFk8",(function(e,t){"use strict";var i=o("DxZXf"),r=o("sfPT1"),a=o("fQB5Q"),s=a("Object.prototype.toString"),u=o("6pa0H")()&&"symbol"==typeof Symbol.toStringTag,c=r(),l=a("String.prototype.slice"),h={},f=o("6ynXo"),d=Object.getPrototypeOf;u&&f&&d&&i(c,(function(e){if("function"==typeof n[e]){var t=new n[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var i=d(t),r=f(i,Symbol.toStringTag);if(!r){var o=d(i);r=f(o,Symbol.toStringTag)}h[e]=r.get}}));var p=o("UWFp8");e.exports=function(e){return!!p(e)&&(u?function(e){var t=!1;return i(h,(function(n,i){if(!t)try{var r=n.call(e);r===i&&(t=r)}catch(e){}})),t}(e):l(s(e),8,-1))}})),o.register("DxZXf",(function(e,t){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=function(e,t,r){if("[object Function]"!==i.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)t.call(r,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(r,e[s],s,e)}})),o.register("sfPT1",(function(e,t){"use strict";var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];e.exports=function(){for(var e=[],t=0;t<i.length;t++)"function"==typeof n[i[t]]&&(e[e.length]=i[t]);return e}})),o.register("6ynXo",(function(e,t){"use strict";var n=o("5sE9x")("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n})),o.register("UWFp8",(function(e,t){"use strict";var i=o("DxZXf"),r=o("sfPT1"),a=o("fQB5Q"),s=a("Object.prototype.toString"),u=o("6pa0H")()&&"symbol"==typeof Symbol.toStringTag,c=r(),l=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},h=a("String.prototype.slice"),f={},d=o("62SVX"),p=Object.getPrototypeOf;u&&d&&p&&i(c,(function(e){var t=new n[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var i=p(t),r=d(i,Symbol.toStringTag);if(!r){var o=p(i);r=d(o,Symbol.toStringTag)}f[e]=r.get}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=h(s(e),8,-1);return l(c,t)>-1}return!!d&&function(e){var t=!1;return i(f,(function(n,i){if(!t)try{t=n.call(e)===i}catch(e){}})),t}(e)}})),o.register("62SVX",(function(e,t){"use strict";var n=o("5sE9x")("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n})),o.register("5vVsB",(function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}})),o.register("67rjf",(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),o.register("1Y49Z",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=o("1UpQ7"),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"}},{key:"attach",value:function(e){return(e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this,e)).muted=!0,e}},{key:"_end",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).apply(this,arguments)}},{key:"restart",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"restart",this).apply(this,arguments)}},{key:"stop",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).apply(this,arguments)}}]),t}(o("5B2Jx")(r));e.exports=a})),o.register("1UpQ7",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_start",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_start",this).call(this),this._dummyEl&&this._detachElement(this._dummyEl)}},{key:"attach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).apply(this,arguments)}}]),t}(o("6YbA9"));e.exports=r})),o.register("6YbA9",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("6YI9h").guessBrowser,a=o("3bRT0").MediaStream,s=o("2S2q7"),u=s.waitForEvent,c=s.waitForSometime,l=o("vrqLQ"),h=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=Object.assign({playPausedElementsIfNotBackgrounded:"safari"===r()&&"object"===("undefined"==typeof document?"undefined":n(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.id,e.kind,i)),s=!1;return i=Object.assign({MediaStream:a},i),Object.defineProperties(o,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return s},set:function(e){s=e}},_playPausedElementsIfNotBackgrounded:{value:i.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:i.workaroundWebKitBug212780||i.playPausedElementsIfNotBackgrounded},_MediaStream:{value:i.MediaStream},isStarted:{enumerable:!0,get:function(){return s}},mediaStreamTrack:{enumerable:!0,get:function(){return e.track}}}),o._initialize(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_start",value:function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)}},{key:"_initialize",value:function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",(function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)})),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl),this._attachments.delete(this._dummyEl))}},{key:"_end",value:function(){this._log.debug("Ended"),this._dummyEl&&(this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null)}},{key:"attach",value:function(e){var t=this;if("string"==typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([u(document,"visibilitychange"),c(1e3)]).then((function(){"visible"===document.visibilityState&&l.whenResolved("audio").then((function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()})).then((function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)})).catch((function(i){t.warn("Error while playing unintentionally paused <"+n+"> element:",i,e)}))}))}(e,t._log)}:null;this._elShims.set(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.pause,i=e.play,r=!1;e.pause=function(){return r=!0,n.call(e)},e.play=function(){return r=!1,i.call(e)};var o=t?function(){r||t()}:null;o&&e.addEventListener("pause",o);return{pausedIntentionally:function(){return r},unShim:function(){e.pause=n,e.play=i,o&&e.removeEventListener("pause",o)}}}(e,n))}return e}},{key:"_attach",value:function(e){var t=e.srcObject;t instanceof this._MediaStream||(t=new this._MediaStream);var n="audio"===this.mediaStreamTrack.kind?"getAudioTracks":"getVideoTracks";return t[n]().forEach((function(e){t.removeTrack(e)})),t.addTrack(this.mediaStreamTrack),e.srcObject=t,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e}},{key:"_selectElement",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t}},{key:"_createElement",value:function(){return"undefined"!=typeof document?document.createElement(this.kind):null}},{key:"detach",value:function(e){var t=void 0;return t="string"==typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t}},{key:"_detachElements",value:function(e){return e.map(this._detachElement.bind(this))}},{key:"_detachElement",value:function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;(t instanceof this._MediaStream&&t.removeTrack(this.mediaStreamTrack),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e))&&(this._elShims.get(e).unShim(),this._elShims.delete(e));return e}},{key:"_getAllAttachedElements",value:function(){var e=[];return this._attachments.forEach((function(t){e.push(t)})),e}}]),t}(o("4HKtL"));e.exports=h})),o.register("6YI9h",(function(e,n){var i,r,o,a,s,u,c,l,h;function f(e,t,n,i){if(!(i in t)&&!i.match(/^on[a-z]+$/)){var r;try{r=typeof e[i]}catch(e){}"function"===r&&(t[i]=function(){return this[n][i].apply(this[n],arguments)})}}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:null}function p(e){return void 0===e&&(e=d()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari/.test(e)?"safari":null}t(e.exports,"delegateMethods",(()=>u),(e=>u=e)),t(e.exports,"guessBrowser",(()=>h),(e=>h=e)),t(e.exports,"guessBrowserVersion",(()=>s),(e=>s=e)),t(e.exports,"flatMap",(()=>c),(e=>c=e)),t(e.exports,"proxyProperties",(()=>o),(e=>o=e)),t(e.exports,"defer",(()=>i),(e=>i=e)),t(e.exports,"legacyPromise",(()=>r),(e=>r=e)),t(e.exports,"support",(()=>l),(e=>l=e)),t(e.exports,"interceptEvent",(()=>a),(e=>a=e)),i=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},u=function(e,t,n){for(var i in e)f(e,t,n,i)},c=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce((function(e,n){var i=t(n);return e.concat(i)}),[])},h=p,s=function(e){void 0===e&&(e=d());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[p(e)];if(!t)return null;var n=new RegExp("("+t+")/([^\\s]+)"),i=(e.match(n)||[])[2];if(!i)return null;var r=i.split(".").map(Number);return{major:isNaN(r[0])?null:r[0],minor:isNaN(r[1])?null:r[1]}},a=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"==typeof e?(n=e,this.addEventListener(t,n)):n=null}})},r=function(e,t,n){return t?e.then((function(e){t(e)}),(function(e){n(e)})):e},o=function(e,t,n){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,n,i){if(i in t)return;if(i.match(/^on[a-z]+$/))return Object.defineProperty(t,i,{value:null,writable:!0}),void n.addEventListener(i.slice(2),(function(){t.dispatchEvent.apply(t,arguments)}));Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[i]}})}(0,t,n,e)}))},l=function(){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia&&"function"==typeof RTCPeerConnection}})),o.register("3bRT0",(function(e,t){"use strict";var n={};Object.defineProperties(n,{getStats:{enumerable:!0,value:o("e0sKO")},getUserMedia:{enumerable:!0,value:o("rESYi")},MediaStream:{enumerable:!0,value:o("1KzhY")},MediaStreamTrack:{enumerable:!0,value:o("3l2t9")},RTCIceCandidate:{enumerable:!0,value:o("5Pyp4")},RTCPeerConnection:{enumerable:!0,value:o("3qKVE")},RTCSessionDescription:{enumerable:!0,value:o("5HKfU")},version:{enumerable:!0,value:o("58jVg").version}}),e.exports=n})),o.register("e0sKO",(function(e,t){"use strict";var n=o("6YI9h").flatMap,i=o("6YI9h").guessBrowser,r=o("6YI9h").guessBrowserVersion,a=o("4w4ZI").getSdpFormat,s=i(),u=r(),c="chrome"===s,l="firefox"===s,h="safari"===s,f=c?u.major:null;function d(e){var t=Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}));if(!t)return null;var n=e.get(t.localCandidateId),i=e.get(t.remoteCandidateId),r=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],o=r.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a=n?o.reduce((function(e,t){return e[t.key]=typeof n[t.key]===t.type?n[t.key]:"deleted"!==t.key&&null,e}),{}):null,s=i?r.reduce((function(e,t){return e[t.key]=typeof i[t.key]===t.type?i[t.key]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){return e[n.key]=typeof t[n.key]===n.type?n.fixup?n.fixup(t[n.key]):t[n.key]:null,e}),{localCandidate:a,remoteCandidate:s})}function p(e){var t=Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}));if(!t)return null;var n=e.get(t.localCandidateId),i=e.get(t.remoteCandidateId),r=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],o=r.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?o.reduce((function(e,t){var i=t.ffKeys&&t.ffKeys.find((function(e){return e in n}))||t.key;return e[t.key]=typeof n[i]===t.type?"candidateType"===i&&a[n[i]]||n[i]:"deleted"!==i&&null,e}),{}):null,u=i?r.reduce((function(e,t){var n=t.ffKeys&&t.ffKeys.find((function(e){return e in i}))||t.key;return e[t.key]=typeof i[n]===t.type?"candidateType"===n&&a[i[n]]||i[n]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){return e[n.key]=typeof t[n.key]===n.type?t[n.key]:null,e}),{localCandidate:s,remoteCandidate:u})}function m(e,t,i){var r="local"===i?"getSenders":"getReceivers";return e[r]?e[r]().map((function(e){return e.track})).filter((function(e){return e&&e.kind===t})):n(e["local"===i?"getLocalStreams":"getRemoteStreams"](),(function(e){return e["audio"===t?"getAudioTracks":"getVideoTracks"]()}))}function v(e,t){return new Promise((function(n,i){f&&f<67?e.getStats((function(e){n([g(e,t)])}),null,i):e.getStats(t).then((function(e){n(function(e){var t=null,n=[],i=null,r=null,o=null,a=null;e.forEach((function(e){switch(e.type){case"inbound-rtp":t=e;break;case"outbound-rtp":n.push(e);break;case"track":o=e;break;case"codec":a=e;break;case"remote-inbound-rtp":i=e;break;case"remote-outbound-rtp":r=e}}));var s=o&&o.remoteSource,u=[],c=s?r:i;return(s?[t]:n).forEach((function(e){var t={},n=[e,o,a,c&&c.ssrc===e.ssrc?c:null];function i(e){var t=n.find((function(t){return t&&void 0!==t[e]}))||null;return t?t[e]:null}var r=i("ssrc");"number"==typeof r&&(t.ssrc=String(r));var l=i("timestamp");t.timestamp=Math.round(l);var h=i("mimeType");"string"==typeof h&&(h=h.split("/"),t.codecName=h[h.length-1]);var f=i("roundTripTime");"number"==typeof f&&(t.roundTripTime=Math.round(1e3*f));var d=i("jitter");"number"==typeof d&&(t.jitter=Math.round(1e3*d));var p=i("frameWidth");"number"==typeof p&&(s?t.frameWidthReceived=p:t.frameWidthSent=p);var m=i("frameHeight");"number"==typeof m&&(s?t.frameHeightReceived=m:t.frameHeightSent=m);var v=i("framesPerSecond");"number"==typeof v&&(t.frameRateSent=v);var g=i("bytesReceived");"number"==typeof g&&(t.bytesReceived=g);var b=i("bytesSent");"number"==typeof b&&(t.bytesSent=b);var y=i("packetsLost");"number"==typeof y&&(t.packetsLost=y);var w=i("packetsReceived");"number"==typeof w&&(t.packetsReceived=w);var _=i("packetsSent");"number"==typeof _&&(t.packetsSent=_);var k=i("audioLevel");"number"==typeof k&&(k=Math.round(32767*k),s?t.audioOutputLevel=k:t.audioInputLevel=k),u.push(t)})),u}(e))}),i)}))}function g(e,t){var n=e.result().find((function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id})),i={};return n&&(i.timestamp=Math.round(Number(n.timestamp)),i=n.names().reduce((function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e}),i)),i}function b(e,t){e=e||new Map;var n=null,i=null;e.forEach((function(t){if(!t.isRemote)switch(t.type){case"inbound-rtp":n=t,i=e.get(t.remoteId);break;case"outbound-rtp":i=t,n=e.get(t.remoteId)}}));var r=t?n:i,o=t?i:n;function a(e){return r&&void 0!==r[e]?r[e]:o&&void 0!==o[e]?o[e]:null}var s={},u=a("timestamp");s.timestamp=Math.round(u);var c=a("ssrc");"number"==typeof c&&(s.ssrc=String(c));var l=a("bytesSent");"number"==typeof l&&(s.bytesSent=l);var h=a("packetsLost");"number"==typeof h&&(s.packetsLost=h);var f=a("packetsSent");"number"==typeof f&&(s.packetsSent=f);var d=a("roundTripTime");"number"==typeof d&&(s.roundTripTime=Math.round(1e3*d));var p=a("jitter");"number"==typeof p&&(s.jitter=Math.round(1e3*p));var m=a("framerateMean");"number"==typeof m&&(s.frameRateSent=Math.round(m));var v=a("bytesReceived");"number"==typeof v&&(s.bytesReceived=v);var g=a("packetsReceived");"number"==typeof g&&(s.packetsReceived=g);var b=a("framerateMean");return"number"==typeof b&&(s.frameRateReceived=Math.round(b)),s}e.exports=function(e,t){return e&&"function"==typeof e.getStats?function(e,t){var i=m(e,"audio","local"),r=m(e,"video","local"),o=m(e,"audio"),s=m(e,"video"),u={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},f=n([[i,"localAudioTrackStats",!1],[r,"localVideoTrackStats",!1],[o,"remoteAudioTrackStats",!0],[s,"remoteVideoTrackStats",!0]],(function(n){var i=n[0],r=n[1],o=n[2];return i.map((function(n){return function(e,t,n){if(void 0!==(n=n||{}).testForChrome||c)return v(e,t);if(void 0!==n.testForFirefox||l)return function(e,t,n){return new Promise((function(i,r){e.getStats(t).then((function(e){i([b(e,n)])}),r)}))}(e,t,n.isRemote);if(void 0!==n.testForSafari||h)return void 0!==n.testForSafari||"unified"===a()?v(e,t):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" ")));return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:o},t)).then((function(e){e.forEach((function(e){e.trackId=n.id,u[r].push(e)}))}))}))}));return Promise.all(f).then((function(){return function(e,t){return void 0!==(t=t||{}).testForChrome||c||void 0!==t.testForSafari||h?e.getStats().then(d):void 0!==t.testForFirefox||l?e.getStats().then(p):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)})).then((function(e){return u.activeIceCandidatePair=e,u}))}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}})),o.register("4w4ZI",(function(e,n){var i,r,a;t(e.exports,"getSdpFormat",(()=>a),(e=>a=e)),t(e.exports,"updateUnifiedPlanTrackIdsToSSRCs",(()=>i),(e=>i=e)),t(e.exports,"updatePlanBTrackIdsToSSRCs",(()=>r),(e=>r=e));var s=o("6YI9h").flatMap,u=o("6YI9h").guessBrowser,c=null;var l=null;function h(e){return e&&function(){if("boolean"==typeof c)return c;if("undefined"==typeof RTCPeerConnection)return c=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),c=!1}catch(e){c=!0}return c}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!l)if("undefined"!=typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype)try{(new RTCPeerConnection).addTransceiver("audio"),l="unified"}catch(e){l="planb"}else l="planb";return l}()}function f(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce((function(t,n){var i=n.match(new RegExp(e));return i?t.add(i[1]):t}),new Set)}function d(e,t){return f(e,t)}function p(e){return d("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function m(e){return d("^a=msid:.+ +(.+) *$",e)}function v(e,t){return f("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function g(e,t,n){return t=t||".*",n=n||".*",e.split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var i=new RegExp("m="+t,"gm"),r=new RegExp("a="+n,"gm");return i.test(e)&&r.test(e)}))}function b(e){return Array.from(f("^a=ssrc:([0-9]+) +.*$",e))}function y(e,t){var n=g(e),i=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),r=n.filter((function(e){return e.match(i)}));return new Set(s(r,b))}function w(e,t,n){return new Map(Array.from(e(n)).map((function(e){return[e,t(n,e)]})))}function _(e){return w(p,v,e)}function k(e){return w(m,y,e)}function S(e,t,n){var i=e(n),r=new Map;i.forEach((function(e,i){if(t.has(i)){var o=Array.from(t.get(i)),a=Array.from(e);o.forEach((function(e,t){var i=a[t];r.set(i,e);var o="^a=ssrc:"+i+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(o,"gm"),s)}))}else t.set(i,e)}));var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach((function(e){var t=e.match(new RegExp(o));if(t){var i=t[1],a=t[2].split(" ").map((function(e){var t=r.get(e);return t||e})).join(" ");n=n.replace(t[0],i+a)}})),n}a=function(e){return{chrome:h(e),firefox:"unified",safari:"undefined"!=typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[u()]||null},r=function(e,t){return S(_,e,t)},i=function(e,t){return S(k,e,t)}})),o.register("rESYi",(function(e,t){"use strict";e.exports=function(e){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?(e=e||{audio:!0,video:!0},navigator.mediaDevices.getUserMedia(e)):Promise.reject(new Error("getUserMedia is not supported"))}})),o.register("1KzhY",(function(e,t){"use strict";"function"==typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("MediaStream is not supported")}})),o.register("3l2t9",(function(e,t){"use strict";"function"==typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("MediaStreamTrack is not supported")}})),o.register("5Pyp4",(function(e,t){"use strict";"function"==typeof RTCIceCandidate?e.exports=RTCIceCandidate:e.exports=function(){throw new Error("RTCIceCandidate is not supported")}})),o.register("3qKVE",(function(e,t){"use strict";if("function"==typeof RTCPeerConnection)switch((0,o("6YI9h").guessBrowser)()){case"chrome":e.exports=o("11Gwt");break;case"firefox":e.exports=o("2GZqt");break;case"safari":e.exports=o("2ffW8");break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}})),o.register("11Gwt",(function(e,t){"use strict";var n=o("WMLWz"),i=o("4NXJr"),r=o("2cK96").inherits,a=o("27Wel"),s=o("1KzhY"),u=o("5uSRe"),c=o("4w4ZI"),l=o("6YI9h");function h(e,t){if(!(this instanceof h))return new h(e,t);i.call(this),e=e||{};var n=Object.assign(e.iceTransportPolicy?{iceTransports:e.iceTransportPolicy}:{},e);l.interceptEvent(this,"datachannel"),l.interceptEvent(this,"signalingstatechange");var r=c.getSdpFormat(n.sdpSemantics),o=new RTCPeerConnection(n,t);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new s},_peerConnection:{value:o},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:r},_senders:{value:new Map},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:o.localDescription}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:o.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":o.signalingState}}});var u=this;o.addEventListener("datachannel",(function(e){m(e.channel),u.dispatchEvent(e)})),o.addEventListener("signalingstatechange",(function(){"stable"===o.signalingState&&(u._appliedTracksToSSRCs=new Map(u._tracksToSSRCs)),u._pendingLocalOffer||u._pendingRemoteOffer||u.dispatchEvent.apply(u,arguments)})),o.ontrack=function(){},"function"!=typeof RTCPeerConnection.prototype.addTrack&&o.addStream(this._localStream),l.proxyProperties(RTCPeerConnection.prototype,this,o)}function f(e,t,n){var i,r,o=t?e._pendingLocalOffer:e._pendingRemoteOffer,a=t?e._pendingRemoteOffer:e._pendingLocalOffer,s=t?"have-local-offer":"have-remote-offer",u=t?"setLocalDescription":"setRemoteDescription";if(!t&&a&&"answer"===n.type)i=function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));o||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;r=d(n),t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,i=Promise.resolve(),e.signalingState!==c&&i.then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))}else"rollback"===n.type&&(e.signalingState!==s?i=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(i=Promise.resolve()).then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))));return i||e._peerConnection[u](d(n))}function d(e){return e instanceof n&&e._description?e._description:new RTCSessionDescription(e)}function p(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function m(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),p()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function v(e,t,n){return"unified"===e?c.updateUnifiedPlanTrackIdsToSSRCs(t,n):c.updatePlanBTrackIdsToSSRCs(t,n)}r(h,i),"function"!=typeof RTCPeerConnection.prototype.addTrack?(h.prototype.addTrack=function(){var e=[].slice.call(arguments),t=e[0];if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection is closed");var n=this._senders.get(t);if(n&&n.track)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(t),this._peerConnection.addStream(this._localStream),n=new u(t),this._senders.set(t,n),n},h.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var t=e.track;t&&(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))},h.prototype.getSenders=function(){return Array.from(this._senders.values())}):h.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");try{this._peerConnection.removeTrack(e)}catch(e){}},h.prototype.addIceCandidate=function(e){var t,n=[].slice.call(arguments),i=this;return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return i._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e),n.length>1?l.legacyPromise(t,n[1],n[2]):t},h.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},h.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),i=this;return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return i._signalingStateLatch.lower(),i._peerConnection.createAnswer()})).then((function(e){return i._pendingRemoteOffer=null,i._rolledBackTracksToSSRCs.clear(),new n({type:"answer",sdp:v(i._sdpFormat,i._tracksToSSRCs,e.sdp)})}),(function(e){throw i._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer().then((function(e){return i._rolledBackTracksToSSRCs.clear(),new n({type:"answer",sdp:v(i._sdpFormat,i._tracksToSSRCs,e.sdp)})})),t.length>1?l.legacyPromise(e,t[0],t[1]):e},h.prototype.createOffer=function(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},i=this,r=this._peerConnection.createOffer(t).then((function(e){return i._rolledBackTracksToSSRCs.clear(),new n({type:e.type,sdp:v(i._sdpFormat,i._tracksToSSRCs,e.sdp)})}));return e.length>1?l.legacyPromise(r,e[0],e[1]):r},h.prototype.createDataChannel=function(e,t){t=function(e){e=Object.assign({},e),p()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime);return e}(t);var n=this._peerConnection.createDataChannel(e,t);return m(n),n},h.prototype.setLocalDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var n=f(this,!0,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},h.prototype.setRemoteDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.clear();var n=f(this,!1,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},l.delegateMethods(RTCPeerConnection.prototype,h.prototype,"_peerConnection"),e.exports=h})),o.register("WMLWz",(function(e,t){"use strict";e.exports=function e(t){if(!(this instanceof e))return new e(t);var n=t&&"rollback"===t.type?null:new RTCSessionDescription(t);Object.defineProperties(this,{_description:{get:function(){return n}},sdp:{enumerable:!0,value:n?n.sdp:t.sdp},type:{enumerable:!0,value:n?n.type:t.type}})}})),o.register("4NXJr",(function(e,t){"use strict";var n=o("6xYCf").EventEmitter;function i(){Object.defineProperties(this,{_eventEmitter:{value:new n}})}i.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},i.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},i.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=i})),o.register("6xYCf",(function(e,t){"use strict";var n,i="object"==typeof Reflect?Reflect:null,r=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,i){var r,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(e))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=m(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,a;if(u(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}})),o.register("27Wel",(function(e,t){"use strict";var n=o("6YI9h").defer,i={high:new Set(["low"]),low:new Set(["high"])};function r(e){if(!(this instanceof r))return new r(e);var t=e||"low";Object.defineProperties(this,{_state:{set:function(e){if(t!==e){t=e;var n=this._whenDeferreds.get(t);n.forEach((function(e){e.resolve(this)}),this),n.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])},state:{enumerable:!0,get:function(){return this._state}}})}function a(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}r.prototype.lower=function(){return this.transition("low")},r.prototype.raise=function(){return this.transition("high")},r.prototype.transition=function(e){if(!i[this.state].has(e))throw a(this.state,e);return this._state=e,this},r.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(a(this.state,e));var t=n();return this._whenDeferreds.get(e).add(t),t.promise},e.exports=r})),o.register("5uSRe",(function(e,t){"use strict";e.exports=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})}})),o.register("2GZqt",(function(e,t){"use strict";var n=o("4NXJr"),i=o("4yewK"),r=o("2cK96").inherits,a=o("4w4ZI").updateUnifiedPlanTrackIdsToSSRCs,s=o("6YI9h"),u="object"==typeof navigator&&navigator.userAgent&&(navigator.userAgent.match(/Firefox\/61/)||navigator.userAgent.match(/Firefox\/62/));function c(e){if(!(this instanceof c))return new c(e);n.call(this),s.interceptEvent(this,"signalingstatechange");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return f(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var i,r=this;t.addEventListener("signalingstatechange",(function(){if(!r._rollingBack&&r.signalingState!==i){i=r.signalingState;var e=r.dispatchEvent.apply.bind(r.dispatchEvent,r,arguments);r._isClosed?setTimeout(e):e()}})),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function l(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new i({type:"rollback"})).then(n).then((function(t){return e._rollingBack=!1,t}),(function(t){throw e._rollingBack=!1,t}))}function h(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var i=t.sdp.match(/a=setup:([a-z]+)/);if(i){var r=i[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[r]:r}}}function f(e,t){return e&&"answer"===e.type&&t?new i({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}r(c,n),Object.defineProperty(c.prototype,"peerIdentity",{enumerable:!0,value:Promise.resolve({idp:"",name:""})}),u&&(c.prototype.addTrack=function(){var e=arguments[0],t=this._peerConnection.addTrack.apply(this._peerConnection,arguments);return t.replaceTrack(e),t}),c.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._peerConnection.createAnswer().then((function(e){return h(n,e),f(e,n._initiallyNegotiatedDtlsRole)})),"function"==typeof t[0]?s.legacyPromise(e,t[0],t[1]):e},c.prototype.createOffer=function(){var e,t=[].slice.call(arguments),n=(t.length>1?t[2]:t[0])||{},r=this;if("have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState){var o="have-local-offer"===this.signalingState;e=l(this,o,(function(){return r.createOffer(n)}))}else e=r._peerConnection.createOffer(n);return e=e.then((function(e){return new i({type:e.type,sdp:a(r._tracksToSSRCs,e.sdp)})})),t.length>1?s.legacyPromise(e,t[0],t[1]):e},c.prototype.setLocalDescription=function(){var e,t=[].slice.call(arguments),n=t[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(e=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),e?t.length>1?s.legacyPromise(e,t[1],t[2]):e:this._peerConnection.setLocalDescription.apply(this._peerConnection,t)},c.prototype.setRemoteDescription=function(){var e,t=[].slice.call(arguments),n=t[0],i=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?e=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(e=l(this,!1,(function(){return i._peerConnection.setRemoteDescription(n)})))),e||(e=this._peerConnection.setRemoteDescription(n)),e=e.then((function(){h(i,n,!0)})),t.length>1?s.legacyPromise(e,t[1],t[2]):e},c.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},s.delegateMethods(RTCPeerConnection.prototype,c.prototype,"_peerConnection"),e.exports=c})),o.register("4yewK",(function(e,t){"use strict";e.exports=RTCSessionDescription})),o.register("2ffW8",(function(e,t){"use strict";var n=o("4NXJr"),i=o("2cK96").inherits,r=o("27Wel"),a=o("4w4ZI"),s=o("6YI9h"),u="unified"===a.getSdpFormat(),c=u?a.updateUnifiedPlanTrackIdsToSSRCs:a.updatePlanBTrackIdsToSSRCs;function l(e){if(!(this instanceof l))return new l(e);n.call(this),s.interceptEvent(this,"datachannel"),s.interceptEvent(this,"iceconnectionstatechange"),s.interceptEvent(this,"signalingstatechange"),s.interceptEvent(this,"track");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new r},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription}},iceConnectionState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState}},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState}}});var i=this;t.addEventListener("datachannel",(function(e){d(e.channel),i.dispatchEvent(e)})),t.addEventListener("iceconnectionstatechange",(function(){i._isClosed||i.dispatchEvent.apply(i,arguments)})),t.addEventListener("signalingstatechange",(function(){i._isClosed||("stable"===t.signalingState&&(i._appliedTracksToSSRCs=new Map(i._tracksToSSRCs)),i._pendingLocalOffer||i._pendingRemoteOffer||i.dispatchEvent.apply(i,arguments))})),t.addEventListener("track",(function(e){i._pendingRemoteOffer=null,i.dispatchEvent(e)})),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function h(e,t,n){var i,r=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,a=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&o&&"answer"===n.type)return function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);if("offer"===n.type){if(e.signalingState!==a&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));r||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var u=e.signalingState;return i=n,t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,e.signalingState!==u?Promise.resolve().then((function(){e.dispatchEvent(new Event("signalingstatechange"))})):Promise.resolve()}return"rollback"===n.type?e.signalingState!==a?Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))):e._peerConnection[s](n)}function f(e,t){return!!e.getTransceivers().find((function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t}))}function d(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}i(l,n),l.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return t._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e)},l.prototype.createOffer=function(e){e=Object.assign({},e);var t=this;if(e.offerToReceiveAudio&&!this._audioTransceiver&&(!u||!f(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=u?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(e){return Promise.reject(e)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!u||!f(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=u?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(e){return Promise.reject(e)}}return this._peerConnection.createOffer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)})}))},l.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()})).then((function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e}),(function(e){throw t._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e}))},l.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return d(n),n},l.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},l.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),h(this,!0,e)},l.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),h(this,!1,e)},l.prototype.close=function(){if(!this._isClosed){this._isClosed=!0,this._peerConnection.close();var e=this;setTimeout((function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))}))}},s.delegateMethods(RTCPeerConnection.prototype,l.prototype,"_peerConnection"),e.exports=l})),o.register("5HKfU",(function(e,t){"use strict";if("function"==typeof RTCSessionDescription)switch((0,o("6YI9h").guessBrowser)()){case"chrome":e.exports=o("WMLWz");break;case"firefox":e.exports=o("4yewK");break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}})),o.register("58jVg",(function(e,t){e.exports=JSON.parse('{"_args":[["@twilio/webrtc@4.3.2","/home/runner/work/azure-mud/azure-mud"]],"_from":"@twilio/webrtc@4.3.2","_id":"@twilio/webrtc@4.3.2","_inBundle":false,"_integrity":"sha512-3gIq7XDI3vBoikRBchCnocFmlRQt45KC7v0DKkat+TV6WBXYJx+Hub22PR18PAROkwl5dAmIziByjYWWVhCHgA==","_location":"/@twilio/webrtc","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@twilio/webrtc@4.3.2","name":"@twilio/webrtc","escapedName":"@twilio%2fwebrtc","scope":"@twilio","rawSpec":"4.3.2","saveSpec":null,"fetchSpec":"4.3.2"},"_requiredBy":["/twilio-video"],"_resolved":"https://registry.npmjs.org/@twilio/webrtc/-/webrtc-4.3.2.tgz","_spec":"4.3.2","_where":"/home/runner/work/azure-mud/azure-mud","author":{"name":"Manjesh Malavalli","email":"mmalavalli@twilio.com"},"bugs":{"url":"https://github.com/twilio/twilio-webrtc.js/issues"},"contributors":[{"name":"Mark Roberts","email":"mroberts@twilio.com"},{"name":"Ryan Rowland","email":"rrowland@twilio.com"},{"name":"Makarand Patwardhan","email":"mpatwardhan@twilio.com"}],"description":"WebRTC-related APIs and shims used by twilio-video.js","devDependencies":{"browserify":"^14.4.0","electron":"^5.0.0","envify":"^4.1.0","eslint":"^4.4.1","is-docker":"^2.0.0","istanbul":"^0.4.5","karma":"^1.7.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.2.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.0.1","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"~0.1","karma-spec-reporter":"0.0.31","mocha":"^3.5.0","npm-run-all":"^4.0.2","rimraf":"^2.6.1","simple-git":"^2.4.0","twilio-release-tool":"^1.0.0","watchify":"^3.9.0","webrtc-adapter":"^6.4.8"},"homepage":"https://github.com/twilio/twilio-webrtc.js#readme","keywords":["shim","twilio","video","webrtc"],"license":"BSD-3-Clause","main":"./lib/index.js","name":"@twilio/webrtc","repository":{"type":"git","url":"git+https://github.com/twilio/twilio-webrtc.js.git"},"scripts":{"build":"npm-run-all clean lint test","clean":"rimraf coverage","lint":"eslint ./lib","test":"npm-run-all test:*","test:integration":"npm-run-all test:integration:*","test:integration:adapter":"karma start karma/integration.adapter.conf.js","test:integration:native":"karma start karma/integration.conf.js","test:unit":"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js"},"version":"4.3.2"}')})),o.register("2S2q7",(function(e,n){var i,r,a,s,u,c,l,h,f,d,p,m,v,g,b,y,w,_,k,S,M,E,C,x,T;t(e.exports,"asLocalTrack",(()=>M),(e=>M=e)),t(e.exports,"isNonArrayObject",(()=>T),(e=>T=e)),t(e.exports,"waitForEvent",(()=>m),(e=>m=e)),t(e.exports,"waitForSometime",(()=>c),(e=>c=e)),t(e.exports,"createSubscribePayload",(()=>l),(e=>l=e)),t(e.exports,"capitalize",(()=>v),(e=>v=e)),t(e.exports,"inRange",(()=>i),(e=>i=e)),t(e.exports,"trackPublicationClass",(()=>y),(e=>y=e)),t(e.exports,"createBandwidthProfilePayload",(()=>g),(e=>g=e)),t(e.exports,"oncePerTick",(()=>s),(e=>s=e)),t(e.exports,"valueToJSON",(()=>b),(e=>b=e)),t(e.exports,"difference",(()=>S),(e=>S=e)),t(e.exports,"hidePrivateAndCertainPublicPropertiesInClass",(()=>x),(e=>x=e)),t(e.exports,"buildLogLevels",(()=>E),(e=>E=e)),t(e.exports,"constants",(()=>_),(e=>_=e)),t(e.exports,"asLocalTrackPublication",(()=>C),(e=>C=e)),t(e.exports,"defer",(()=>p),(e=>p=e)),t(e.exports,"createMediaSignalingPayload",(()=>f),(e=>f=e)),t(e.exports,"getUserAgent",(()=>k),(e=>k=e)),t(e.exports,"isChromeScreenShareTrack",(()=>d),(e=>d=e)),t(e.exports,"filterObject",(()=>a),(e=>a=e)),t(e.exports,"flatMap",(()=>w),(e=>w=e)),t(e.exports,"trackClass",(()=>u),(e=>u=e)),t(e.exports,"makeUUID",(()=>h),(e=>h=e)),t(e.exports,"isDeepEqual",(()=>r),(e=>r=e));var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var j=o("72UdZ"),L=j.typeErrors,N=j.trackPriority,B=o("6YI9h");function F(e,t,n,i){if(!(i in t)&&!i.match(/^on[a-z]+$/)){var r=void 0;try{A(e[i])}catch(e){}"function"===r&&(t[i]=function(){var e;return this[n][i].apply(e,arguments)})}}function U(e){Object.getOwnPropertyNames(e).forEach((function(t){t.startsWith("_")&&z(e,t)}))}function z(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){e.hasOwnProperty(t)&&z(e,t)}))}function H(e){return e.map(V)}function V(e){return Array.isArray(e)?H(e):e instanceof Set?H([].concat(D(e))):e instanceof Map?[].concat(D(e.entries())).reduce((function(e,t){var n=I(t,2),i=n[0],r=n[1];return Object.assign(O({},i,V(r)),e)}),{}):e&&"object"===(void 0===e?"undefined":A(e))?(t=e,Object.entries(t).reduce((function(e,t){var n=I(t,2),i=n[0],r=n[1];return Object.assign(O({},i,V(r)),e)}),{})):e;var t}function W(e){return Y(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:G},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function K(e){return Y(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function G(e){return Y(e,[{prop:N.PRIORITY_HIGH,type:"object",transform:K},{prop:N.PRIORITY_LOW,type:"object",transform:K},{prop:N.PRIORITY_STANDARD,type:"object",transform:K}])}function Y(e,t){return t.reduce((function(t,n){var i=n.prop,r=n.type,o=n.payloadProp,a=void 0===o?i:o,s=n.transform,u=void 0===s?function(e){return e}:s;return A(e[i])===r?Object.assign(O({},a,u(e[i])),t):t}),{})}_=j,g=function(e){return Y(e,[{prop:"video",type:"object",transform:W}])},f=function(e,t,n,i){var r={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:r}:{},t?{network_quality:r}:{},n?{track_priority:r}:{},i?{track_switch_off:r}:{})},l=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},M=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw L.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},C=function(e,t,n,i){return new(0,{audio:i.LocalAudioTrackPublication,video:i.LocalVideoTrackPublication,data:i.LocalDataTrackPublication}[e.kind])(t,e,n,i)},v=function(e){return e[0].toUpperCase()+e.slice(1)},S=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},a=function(e,t){return Object.keys(e).reduce((function(n,i){return e[i]!==t&&(n[i]=e[i]),n}),{})},w=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce((function(e,n){var i=t(n);return e.concat(i)}),[])},k=function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"},x=function(e,t){return function(e){function n(){var e;P(this,n);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=R(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(r)));return U(a),q(a,t),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n}(e)},r=function e(t,n){if(t===n)return!0;if((void 0===t?"undefined":A(t))!==(void 0===n?"undefined":A(n)))return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"===(void 0===t?"undefined":A(t))){var i=Object.keys(t).sort(),r=Object.keys(n).sort();return!Array.isArray(n)&&e(i,r)&&i.every((function(i){return e(t[i],n[i])}))}return!1},T=function(e){return"object"===(void 0===e?"undefined":A(e))&&!Array.isArray(e)},i=function(e,t,n){return t<=e&&e<=n},h=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},s=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},p=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},E=function(e){return"string"==typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},u=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"Track"},y=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"TrackPublication"},b=V,d=function(e){return"chrome"===B.guessBrowser()&&"video"===e.kind&&e.label&&(/^screen:[0-9]+/.test(e.label)||/^web-contents-media-stream:[0-9/]+/.test(e.label)||/^window:[0-9]+/.test(e.label))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new Promise((function(t){return setTimeout(t,e)}))},m=function(e,t){return new Promise((function(n){e.addEventListener(t,(function i(r){e.removeEventListener(t,i),n(r)}))}))}})),o.register("72UdZ",(function(e,n){var i,r,o,a,s,u,c,l,h,f,d,p,m,v,g,b,y,w,_,k,S;t(e.exports,"DEFAULT_NQ_LEVEL_REMOTE",(()=>w),(e=>w=e)),t(e.exports,"WS_SERVER",(()=>y),(e=>y=e)),t(e.exports,"DEFAULT_REGION",(()=>S),(e=>S=e)),t(e.exports,"DEFAULT_SESSION_TIMEOUT_SEC",(()=>p),(e=>p=e)),t(e.exports,"typeErrors",(()=>k),(e=>k=e)),t(e.exports,"PUBLISH_BACKOFF_JITTER",(()=>f),(e=>f=e)),t(e.exports,"DEFAULT_ENVIRONMENT",(()=>b),(e=>b=e)),t(e.exports,"DEFAULT_LOG_LEVEL",(()=>m),(e=>m=e)),t(e.exports,"reconnectBackoffConfig",(()=>a),(e=>a=e)),t(e.exports,"iceRestartBackoffConfig",(()=>_),(e=>_=e)),t(e.exports,"DEFAULT_REALM",(()=>u),(e=>u=e)),t(e.exports,"DEFAULT_ICE_GATHERING_TIMEOUT_MS",(()=>c),(e=>c=e)),t(e.exports,"ICE_ACTIVITY_CHECK_PERIOD_MS",(()=>i),(e=>i=e)),t(e.exports,"ICE_INACTIVITY_THRESHOLD_MS",(()=>h),(e=>h=e)),t(e.exports,"subscriptionMode",(()=>l),(e=>l=e)),t(e.exports,"DEFAULT_NQ_LEVEL_LOCAL",(()=>s),(e=>s=e)),t(e.exports,"PUBLISH_MAX_ATTEMPTS",(()=>g),(e=>g=e)),t(e.exports,"trackSwitchOffMode",(()=>r),(e=>r=e)),t(e.exports,"MAX_NQ_LEVEL",(()=>v),(e=>v=e)),t(e.exports,"PUBLISH_BACKOFF_MS",(()=>d),(e=>d=e)),t(e.exports,"trackPriority",(()=>o),(e=>o=e)),b="prod",u="us1",S="gll",m="warn",y=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},g=5,f=10,d=20,k={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+((["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" ")+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},c=15e3,s=1,w=0,v=3,i=1e3,h=3e3,_={factor:1.1,initialDelay:1,maxDelay:1e3*(p=30),randomisationFactor:.5},a={factor:1.5,initialDelay:80,randomisationFactor:.5},l={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},r={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},o={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"}})),o.register("vrqLQ",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2S2q7").defer,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_audio:{value:i(),writable:!0},_video:{value:i(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return n(e,[{key:"resolveDeferred",value:function(e){"audio"===e?this._audio.resolve():this._video.resolve()}},{key:"startDeferred",value:function(e){"audio"===e?this._audio=i():this._video=i()}},{key:"whenResolved",value:function(e){return"audio"===e?this._audio.promise:this._video.promise}}]),e}();e.exports=new r})),o.register("4HKtL",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("4H6HK"),r=o("2S2q7"),a=r.buildLogLevels,s=r.valueToJSON,u=o("72UdZ").DEFAULT_LOG_LEVEL,c=o("483rj"),l=0,h=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=Object.assign({name:e,log:null,logLevel:u},i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=String(i.name),s=a(i.logLevel),h=i.log?i.log.createLog("media",r):new c("media",r,s);return Object.defineProperties(r,{_instanceId:{value:++l},_log:{value:h},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:o}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toJSON",value:function(){return s(this)}}]),t}(i);e.exports=h})),o.register("4H6HK",(function(e,t){"use strict";var n=o("6xYCf").EventEmitter,i=o("2S2q7").hidePrivateAndCertainPublicPropertiesInClass;e.exports=i(n,["domain"])})),o.register("483rj",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("72UdZ").DEFAULT_LOG_LEVEL,a=o("72UdZ").typeErrors,s=void 0;var u=function(){function e(t,i,o){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw a.INVALID_TYPE("moduleName","string");if(!i)throw a.REQUIRED_ARGUMENT("component");"object"!==(void 0===o?"undefined":n(o))&&(o={}),d(o),Object.defineProperties(this,{_component:{value:i},_logLevels:{value:o},_warnings:{value:new Set},logLevel:{get:function(){return e.getLevelByName(o[t]||r)}},name:{get:i.toString.bind(i)}})}return i(e,[{key:"createLog",value:function(t,n){return new e(t,n,this._logLevels)}},{key:"setLevels",value:function(e){return d(e),Object.assign(this._logLevels,e),this}},{key:"log",value:function(t,n){var i=e._levels[t];if(!i)throw a.INVALID_VALUE("logLevel",l);if(this.logLevel<=t){var r=i.name,o=(new Date).toISOString().split("T").concat(["|",r,"in",this.name+":"]);i.logFn.apply(console,o.concat(n))}return this}},{key:"debug",value:function(){return this.log(e.DEBUG,[].slice.call(arguments))}},{key:"deprecated",value:function(e){var t=function(e){if((s=s||new Map).has(e))return s.get(e);var t=new Set;return s.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))}},{key:"info",value:function(){return this.log(e.INFO,[].slice.call(arguments))}},{key:"warn",value:function(){return this.log(e.WARN,[].slice.call(arguments))}},{key:"warnOnce",value:function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))}},{key:"error",value:function(){return this.log(e.ERROR,[].slice.call(arguments))}},{key:"throw",value:function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t}}],[{key:"getLevelByName",value:function(t){return isNaN(t)?(f(t=t.toUpperCase()),e[t]):parseInt(t,10)}}]),e}();Object.defineProperties(u,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:[{name:"DEBUG",logFn:console.log},{name:"INFO",logFn:console.info},{name:"WARN",logFn:console.warn},{name:"ERROR",logFn:console.error},{name:"OFF",logFn:function(){}}]}});var c={},l=[],h=u._levels.map((function(e,t){return c[e.name]=!0,l.push(t),e.name}));function f(e){if(!(e in c))throw a.INVALID_VALUE("level",h)}function d(e){Object.keys(e).forEach((function(t){f(e[t].toUpperCase())}))}e.exports=u})),o.register("5B2Jx",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var a=o("3bRT0").getUserMedia,s=o("6YI9h").guessBrowser,u=o("2S2q7"),c=u.capitalize,l=u.defer,h=u.waitForSometime,f=u.waitForEvent,d=o("72UdZ").typeErrors.ILLEGAL_INVOKE,p=o("3pfsT"),m=o("20SJk"),v=o("4cLmM"),g=o("vrqLQ"),b=o("jvtlz"),y=o("1Cusm");function w(e){var t=e._log,n=e.kind,i={audio:p,video:m}[n],r=e._dummyEl,o=e.mediaStreamTrack,a=null;function s(){var n=e._workaroundWebKitBug1208516Cleanup,o=e.isStopped,s=e.mediaStreamTrack.muted,u=o&&!!n;return Promise.resolve().then((function(){return"visible"===document.visibilityState&&!a&&(s||u||r.play().then((function(){return i(r)})).then((function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e})).catch((function(e){t.warn("Failed to detect silence:",e)})).finally((function(){r.pause()})))}))}function u(){return Promise.race([f(o,"unmute"),h(50)]).then((function(){return s()})).then((function(t){return t&&!a&&(a=l(),e._restart().finally((function(){r=e._dummyEl,b(),o=e.mediaStreamTrack,d(),a.resolve(),a=null}))),(a&&a.promise||Promise.resolve()).finally((function(){return g.resolveDeferred(n)}))}))}function c(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),g.startDeferred(n)}function d(){o.addEventListener("ended",u),o.addEventListener("mute",c),o.addEventListener("unmute",u)}function b(){o.removeEventListener("ended",u),o.removeEventListener("mute",c),o.removeEventListener("unmute",u)}return v.onVisible(1,u),d(),function(){v.offVisible(1,u),b()}}e.exports=function(e){return function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r="safari"===s()&&"object"===("undefined"==typeof document?"undefined":n(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState;i=Object.assign({getUserMedia:a,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:r,gUMSilentTrackWorkaround:b},i);var o=new y(e),u=o.kind,c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,i));return Object.defineProperties(c,{_constraints:{value:"object"===n(i[u])?i[u]:{},writable:!0},_getUserMedia:{value:i.getUserMedia},_gUMSilentTrackWorkaround:{value:i.gUMSilentTrackWorkaround},_workaroundWebKitBug1208516:{value:i.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:i.isCreatedByCreateLocalTracks},_trackSender:{value:o},id:{enumerable:!0,value:o.id},isEnabled:{enumerable:!0,get:function(){return o.enabled}},isStopped:{enumerable:!0,get:function(){return"ended"===o.readyState}}}),c._workaroundWebKitBug1208516&&(c._workaroundWebKitBug1208516Cleanup=w(c)),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_end",value:function(){this._didCallEnd||(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).call(this),this._didCallEnd=!0,this.emit("stopped",this))}},{key:"_initialize",value:function(){this._didCallEnd&&(this._didCallEnd=!1),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this)}},{key:"_reacquireTrack",value:function(e){var t=this._getUserMedia,n=this._gUMSilentTrackWorkaround,i=this._log,r=this.mediaStreamTrack.kind;i.info("Re-acquiring the MediaStreamTrack"),i.debug("Constraints:",e);var o=Object.assign({audio:!1,video:!1},function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,e));return(this._workaroundWebKitBug1208516Cleanup?n(i,t,o):t(o)).then((function(e){return e.getTracks()[0]}))}},{key:"_restart",value:function(e){var t=this,n=this._log;return e=e||this._constraints,this._stop(),this._reacquireTrack(e).catch((function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",t,e),t})).then((function(i){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",i),t._constraints=Object.assign({},e),t._setMediaStreamTrack(i)}))}},{key:"_setMediaStreamTrack",value:function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),this._trackSender.setMediaStreamTrack(e).catch((function(n){t._log.warn("setMediaStreamTrack failed:",n,e)})).then((function(){t._initialize(),t._getAllAttachedElements().forEach((function(e){return t._attach(e)}))}))}},{key:"_stop",value:function(){return this.mediaStreamTrack.stop(),this._end(),this}},{key:"enable",value:function(e){return(e="boolean"!=typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this}},{key:"disable",value:function(){return this.enable(!1)}},{key:"restart",value:function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(d("restart","can only be called on a Local"+c(n)+"Track that is created using createLocalTracks or createLocal"+c(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var i=this._restart(e);return this._workaroundWebKitBug1208516&&(i=i.finally((function(){t._workaroundWebKitBug1208516Cleanup=w(t)}))),i}},{key:"stop",value:function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()}}]),t}(e)}})),o.register("3pfsT",(function(e,t){"use strict";var n=o("1kD3V");e.exports=function(e){var t=o("42Xan"),i={},r=t.getOrCreate(i),a=3;return function t(){return a--,n(r,e.srcObject,250).then((function(e){return!!e&&(!(a>0)||t())})).catch((function(){return!0}))}().finally((function(){t.release(i)}))}})),o.register("1kD3V",(function(e,t){"use strict";e.exports=function(e,t,n){n="number"==typeof n?n:250;var i=e.createMediaStreamSource(t),r=e.createAnalyser();r.fftSize=2048,i.connect(r);var o=new Uint8Array(r.fftSize),a=!1;return setTimeout((function(){a=!0}),n),function e(){return a?Promise.resolve(!0):(r.getByteTimeDomainData(o),o.some((function(e){return 128!==e&&0!==e}))?Promise.resolve(!1):function(e){return e="number"==typeof e?e:0,new Promise((function(t){return setTimeout(t,e)}))}().then(e))}().then((function(e){return i.disconnect(),e}),(function(e){throw i.disconnect(),e}))}})),o.register("42Xan",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i="undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({AudioContext:i},t),Object.defineProperties(this,{_AudioContext:{value:t.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return n(e,[{key:"getOrCreate",value:function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(e){}return this._audioContext}},{key:"release",value:function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))}}]),e}();e.exports=new r})),o.register("20SJk",(function(e,t){"use strict";var n=null;e.exports=function(e){return n=n||document.createElement("canvas"),new Promise((function(t){var i=3;setTimeout((function r(){return i--,function(e){var t=n.getContext("2d");t.drawImage(e,0,0,50,50);var i=t.getImageData(0,0,50,50).data.filter((function(e,t){return(t+1)%4}));return 0===Math.max.apply(Math,i)}(e)?i>0?setTimeout(r,250):t(!0):t(!1)}),250)}))}})),o.register("4cLmM",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(this,e),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){"visible"===document.visibilityState&&t._emitVisible()}}});for(var r=0;r<n;r++)this._listeners.push([])}return n(e,[{key:"_listenerCount",value:function(){return this._listeners.reduce((function(e,t){return e+t.length}),0)}},{key:"_emitVisible",value:function(){for(var e=this,t=Promise.resolve(),n=function(n){t=t.then((function(){return e._emitVisiblePhase(n)}))},i=1;i<=this._listeners.length;i++)n(i);return t}},{key:"_emitVisiblePhase",value:function(e){var t=this._listeners[e-1];return Promise.all(t.map((function(e){var t=e();return t instanceof Promise?t:Promise.resolve(t)})))}},{key:"_start",value:function(){document.addEventListener("visibilitychange",this._onVisibilityChange)}},{key:"_stop",value:function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)}},{key:"onVisible",value:function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this}},{key:"offVisible",value:function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],i=n.indexOf(t);return-1!==i&&(n.splice(i,1),0===this._listenerCount()&&this._stop()),this}}]),e}();e.exports=new r(2)})),o.register("jvtlz",(function(e,t){"use strict";var n=o("1kD3V");e.exports=function(e,t,i,r,a){r="number"==typeof r?r:3;var s=0,u=o("42Xan"),c={},l=u.getOrCreate(c);return function o(){return t(i).then((function(t){return(i.audio?n(l,t,a).catch((function(t){return e.warn("Encountered an error while detecting silence",t),!0})):Promise.resolve(!1)).then((function(n){return n?r<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),t.getTracks().forEach((function(e){return e.stop()})),r--,o()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)}))}))}().then((function(e){return u.release(c),e}),(function(e){throw u.release(c),e}))}})),o.register("1Cusm",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.id,e));return Object.defineProperties(n,{_clones:{value:new Set},_senders:{value:new Set}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"clone",value:function(){var e=new t(this.track.clone());return this._clones.add(e),e}},{key:"removeClone",value:function(e){this._clones.delete(e)}},{key:"setMediaStreamTrack",value:function(e){var t=this,n=Array.from(this._clones),i=Array.from(this._senders);return Promise.all(n.map((function(t){return t.setMediaStreamTrack(e.clone())})).concat(i.map((function(t){return t.replaceTrack(e)})))).finally((function(){t._track=e}))}},{key:"addSender",value:function(e){return this._senders.add(e),this}},{key:"removeSender",value:function(e){return this._senders.delete(e),this}}]),t}(o("4o7vs"));e.exports=i})),o.register("4o7vs",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.kind));return Object.defineProperties(i,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"stop",value:function(){this.track.stop(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}}]),t}(o("6ynNs"));e.exports=r})),o.register("6ynNs",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(i,{id:{enumerable:!0,value:e},kind:{enumerable:!0,value:n}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"stop",value:function(){this.emit("stopped")}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("0r2bB",(function(e,t){"use strict";var n=o("2cK96").inherits,i=o("7DhcG");function r(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,r.prototype),n}n(r,i),e.exports=r})),o.register("7DhcG",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=o("6YI9h").guessBrowser,a=o("20SJk"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({workaroundSilentLocalVideo:"safari"===r()&&"undefined"!=typeof document&&"function"==typeof document.createElement},n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(i,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?u:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),i._workaroundSilentLocalVideo&&(i._workaroundSilentLocalVideoCleanup=i._workaroundSilentLocalVideo(i,document)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"}},{key:"_end",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_end",this).apply(this,arguments)}},{key:"disable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).apply(this,arguments)}},{key:"enable",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).apply(this,arguments)}},{key:"restart",value:function(){var e=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"restart",this).apply(this,arguments);return this._workaroundSilentLocalVideo&&n.finally((function(){e._workaroundSilentLocalVideoCleanup=e._workaroundSilentLocalVideo(e,document)})),n}},{key:"stop",value:function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).apply(this,arguments)}}]),t}(o("5B2Jx")(o("23FoH")));function u(e,t){var n=e._log,i=e._dummyEl,r=e.mediaStreamTrack;function o(){e.isEnabled&&(n.info("Unmuted, checking silence"),i.play().then((function(){return a(i,t)})).then((function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")})).catch((function(e){n.warn("Failed to detect silence and restart:",e)})).finally((function(){(i=e._dummyEl).paused||i.pause(),r.removeEventListener("unmute",o),(r=e.mediaStreamTrack).addEventListener("unmute",o)})))}return r.addEventListener("unmute",o),function(){r.removeEventListener("unmute",o)}}e.exports=s})),o.register("23FoH",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(i,{dimensions:{enumerable:!0,value:{width:null,height:null}}}),r(i,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){s(e,e._dummyEl)&&(e.dimensions.width=e._dummyEl.videoWidth,e.dimensions.height=e._dummyEl.videoHeight)},this._dummyEl.onresize=function(){s(e,e._dummyEl)&&(e.dimensions.width=e._dummyEl.videoWidth,e.dimensions.height=e._dummyEl.videoHeight,e.isStarted&&(e._log.debug("Dimensions changed:",e.dimensions),e.emit(t.DIMENSIONS_CHANGED,e)))})}},{key:"_start",value:function(e){return this.dimensions.width=e.videoWidth,this.dimensions.height=e.videoHeight,this._log.debug("Dimensions:",this.dimensions),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_start",this).call(this,e)}},{key:"attach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).apply(this,arguments)}},{key:"detach",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).apply(this,arguments)}}]),t}(o("6YbA9"));function s(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}a.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=a})),o.register("3EiTy",(function(e,t){"use strict";var n=o("2cK96").inherits,i=o("6yxb9");function r(e){var t=new i(e);return Object.setPrototypeOf(t,r.prototype),t}n(r,i),e.exports=r})),o.register("6yxb9",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("4HKtL"),r=o("1TX2o"),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new(0,(e=Object.assign({DataTrackSender:r,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},e)).DataTrackSender)(e.maxPacketLifeTime,e.maxRetransmits,e.ordered),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,"data",e));return Object.defineProperties(i,{_trackSender:{value:n},id:{enumerable:!0,value:n.id},maxPacketLifeTime:{enumerable:!0,value:e.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:e.maxRetransmits},ordered:{enumerable:!0,value:e.ordered},reliable:{enumerable:!0,value:null===e.maxPacketLifeTime&&null===e.maxRetransmits}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"send",value:function(e){this._trackSender.send(e)}}]),t}(i);e.exports=a})),o.register("1TX2o",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=o("74d2M"),a=o("2S2q7").makeUUID,s=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a(),e,n,i));return Object.defineProperties(r,{_clones:{value:new Set},_dataChannels:{value:new Set}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_addClone",value:function(e){this._clones.add(e)}},{key:"removeClone",value:function(e){this._clones.delete(e)}},{key:"addDataChannel",value:function(e){return this._dataChannels.add(e),this}},{key:"clone",value:function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",(function(){return e.removeClone(n)})),n}},{key:"removeDataChannel",value:function(e){return this._dataChannels.delete(e),this}},{key:"send",value:function(e){return this._dataChannels.forEach((function(t){try{t.send(e)}catch(e){}})),this._clones.forEach((function(t){try{t.send(e)}catch(e){}})),this}},{key:"stop",value:function(){this._dataChannels.forEach((function(e){return e.close()})),this._clones.forEach((function(e){return e.stop()})),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}}]),t}(r);e.exports=s})),o.register("74d2M",(function(e,t){"use strict";var n=function(e){function t(e,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"data"));return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:i},ordered:{enumerable:!0,value:r}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("6ynNs"));e.exports=n}));var nu,iu=(eu={LocalAudioTrack:o("412Yf"),LocalVideoTrack:o("0r2bB"),LocalDataTrack:o("3EiTy")}).LocalAudioTrack,ru=eu.LocalDataTrack,ou=eu.LocalVideoTrack,au=(nu=JSON.parse('{"_args":[["twilio-video@2.8.0","/home/runner/work/azure-mud/azure-mud"]],"_from":"twilio-video@2.8.0","_id":"twilio-video@2.8.0","_inBundle":false,"_integrity":"sha512-TDL4GxlSqYE32zmN0nOVtsdIVAgValRl3LRBuUAuREsQXXk7oEWyXHqNIF1/N9Kvh5J5BVK6FvXnxSA5TsdLkA==","_location":"/twilio-video","_phantomChildren":{"async-limiter":"1.0.1","ultron":"1.1.1"},"_requested":{"type":"version","registry":true,"raw":"twilio-video@2.8.0","name":"twilio-video","escapedName":"twilio-video","rawSpec":"2.8.0","saveSpec":null,"fetchSpec":"2.8.0"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/twilio-video/-/twilio-video-2.8.0.tgz","_spec":"2.8.0","_where":"/home/runner/work/azure-mud/azure-mud","author":{"name":"Mark Andrus Roberts","email":"mroberts@twilio.com"},"browser":{"ws":"./src/ws.js","xmlhttprequest":"./src/xmlhttprequest.js"},"bugs":{"url":"https://github.com/twilio/twilio-video.js/issues"},"contributors":[{"name":"Ryan Rowland","email":"rrowland@twilio.com"},{"name":"Manjesh Malavalli","email":"mmalavalli@twilio.com"},{"name":"Makarand Patwardhan","email":"mpatwardhan@twilio.com"}],"dependencies":{"@twilio/webrtc":"4.3.2","backoff":"^2.5.0","ws":"^3.3.1","xmlhttprequest":"^1.8.0"},"description":"Twilio Video JavaScript Library","devDependencies":{"@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1","browserify":"^17.0.0","cheerio":"^0.22.0","cors":"^2.8.5","electron":"^9.1.0","envify":"^4.0.0","eslint":"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","express":"^4.16.2","ink-docstrap":"^1.3.2","inquirer":"^7.0.0","is-docker":"^2.0.0","istanbul":"^0.4.5","jsdoc":"^3.5.5","json-loader":"^0.5.7","karma":"^5.0.2","karma-browserify":"^7.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","mocha":"^3.2.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2","requirejs":"^2.3.3","rimraf":"^2.6.1","simple-git":"^1.126.0","sinon":"^4.0.1","ts-node":"4.0.1","tslint":"5.8.0","twilio":"^3.49.0","twilio-release-tool":"^1.0.0","typescript":"2.6.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","watchify":"^3.11.1","webrtc-adapter":"^4.1.1"},"engines":{"node":">=0.12"},"homepage":"https://twilio.com","keywords":["twilio","webrtc","library","javascript","video","rooms"],"license":"BSD-3-Clause","main":"./es5/index.js","name":"twilio-video","repository":{"type":"git","url":"git+https://github.com/twilio/twilio-video.js.git"},"scripts":{"build":"npm-run-all clean lint docs cover test:integration build:es5 build:js build:min.js test:umd","build:es5":"rimraf ./es5 && babel lib -d es5","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\"/^! twilio-video.js/\\" -b beautify=false,ascii_only=true","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js","clean":"rimraf ./coverage ./es5 ./dist","cover":"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js","docs":"node ./scripts/docs.js ./dist/docs","lint":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/**","test":"npm-run-all test:unit test:integration","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:framework":"npm-run-all test:framework:install test:framework:angular test:framework:no-framework test:framework:react","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:integration":"node ./scripts/karma.js karma/integration.conf.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:umd":"mocha ./test/umd/index.js","test:unit":"mocha ./test/unit/index.js"},"title":"Twilio Video","version":"2.8.0"}')).version,su={};o.register("60Xpw",(function(e,t){"use strict";var n=o("3bRT0").MediaStreamTrack,i=o("6YI9h"),r=i.guessBrowser,a=i.guessBrowserVersion,s=o("2GPnH"),u=o("3myXV"),c=o("5rqz7"),l=o("3hHCs"),h=eu.LocalAudioTrack,f=eu.LocalDataTrack,d=eu.LocalVideoTrack,p=o("6Sa4g"),m=o("1THoy"),v=o("4jydZ"),g=o("2S2q7"),b=g.asLocalTrack,y=g.buildLogLevels,w=g.filterObject,_=g.isNonArrayObject,k=o("72UdZ"),S=k.DEFAULT_ENVIRONMENT,M=k.DEFAULT_LOG_LEVEL,E=k.DEFAULT_REALM,C=k.DEFAULT_REGION,x=k.WS_SERVER,T=k.typeErrors,I=o("5NTmS"),A=o("5qB4o"),O=o("483rj"),P=o("6jDrF").validateBandwidthProfile,R="safari"===r()&&a(),D=0,j=!1,L=!1;if(R){var N=R.major,B=R.minor;L=N<12||12===N&&B<1}var F=new Set([{didWarn:!1,name:"abortOnIceServersTimeout"},{didWarn:!1,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,name:"iceServersTimeout"}]);function U(e,t,n,i,r,o){var a=e.createLocalParticipantSignaling(n,i);return t.debug("Creating a new LocalParticipant:",a),new r.LocalParticipant(a,o,r)}function z(e,t,n){var i=new m(t,n,e),r=e.log;return r.debug("Creating a new Room:",i),n.on("stateChanged",(function e(t){"disconnected"===t&&(r.info("Disconnected from Room:",i.toString()),n.removeListener("stateChanged",e))})),i}function q(e,t,n,i,r,o){return t.log.debug("Creating a new RoomSignaling"),n.connect(o._signaling,e,i,r,t)}function H(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then((function(i){var r=t(i);return r.catch((function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),i.forEach((function(e){e.stop()})))})),r}))}function V(e){var t="string"==typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if(void 0===t&&(t={}),!_(t))return I.reject(T.INVALID_TYPE("options","object"));t=Object.assign({automaticSubscription:!0,createLocalTracks:u,dominantSpeaker:!1,enableDscp:!1,environment:S,eventListener:null,insights:!0,LocalAudioTrack:h,LocalDataTrack:f,LocalParticipant:l,LocalVideoTrack:d,Log:O,MediaStreamTrack:n,logLevel:M,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:E,region:C,signaling:v},w(t));var i=x(t.environment,t.region),r=new A(Date.now(),t.eventListener);t=Object.assign({eventObserver:r,wsServer:i},t);var o=y(t.logLevel),a="[connect #"+ ++D+"]",m=void 0;try{m=new t.Log("default",a,o)}catch(k){return I.reject(k)}if(t.log=m,function(e,t){F.forEach((function(n){var i=n.didWarn,r=n.name,o=n.newName;r in e&&(o&&(e[o]=e[r]),delete e[r],i||["error","off"].includes(t.level)||(t.warn('The ConnectOptions flag "'+r+'" is '+(o?'deprecated and scheduled for removal. Please use "'+o+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))}))}(t,m),L&&!j&&"error"!==m.logLevel&&"off"!==m.logLevel&&(j=!0,m.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!=typeof e)return I.reject(T.INVALID_TYPE("token","string"));var g=Object.assign({},t);if(delete g.name,"tracks"in t){if(!Array.isArray(t.tracks))return I.reject(T.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map((function(e){return b(e,g)}))}catch(k){return I.reject(k)}}var k=P(t.bandwidthProfile);if(k)return I.reject(k);var R=new(0,t.signaling)(t.wsServer,t);m.info("Connecting to a Room"),m.debug("Options:",t);var N=new c({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate}),B={audio:t.preferredAudioCodecs.map(V),video:t.preferredVideoCodecs.map(V)},W=new p(_(t.networkQuality)?t.networkQuality:{});t.networkQuality=_(t.networkQuality)||t.networkQuality;var K=s(H.bind(null,t),U.bind(null,R,m,N,W,t),q.bind(null,e,t,R,N,B),z.bind(null,t));return K.then((function(e){return m.info("Connected to Room:",e.toString()),m.info("Room name:",e.name),m.debug("Room:",e),e}),(function(e){K._isCanceled?m.info("Attempt to connect to a Room was canceled"):m.info("Error while connecting to a Room:",e)})),K}})),o.register("2GPnH",(function(e,t){"use strict";var n=o("5NTmS");e.exports=function(e,t,i,r){var o=void 0,a=new Error("Canceled");return new n((function(s,u,c){var l=void 0;e((function(e){return c()?n.reject(a):(l=t(e),i(l).then((function(e){if(c())throw a;return o=e()})))})).then((function(e){if(c())throw e.disconnect(),a;s(r(l,e))})).catch((function(e){u(e)}))}),(function(){o&&o.cancel()}))}})),o.register("5NTmS",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:n}}),Object.defineProperty(this,"_promise",{value:new Promise((function(e,n){t((function(t){i._isCancelable=!1,e(t)}),(function(e){i._isCancelable=!1,n(e)}),(function(){return i._isCanceled}))}))})}return n(e,[{key:"cancel",value:function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this}},{key:"catch",value:function(){var t=[].slice.call(arguments),n=this._promise;return new e((function(e,r){n.catch.apply(n,i(t)).then(e,r)}),this._onCancel)}},{key:"then",value:function(){var t=[].slice.call(arguments),n=this._promise;return new e((function(e,r){n.then.apply(n,i(t)).then(e,r)}),this._onCancel)}}],[{key:"reject",value:function(t){return new e((function(e,n){n(t)}),(function(){}))}},{key:"resolve",value:function(t){return new e((function(e){e(t)}),(function(){}))}}]),e}();e.exports=r})),o.register("3myXV",(function(e,t){"use strict";var n=o("2S2q7").asLocalTrack,i=o("2S2q7").buildLogLevels,r=o("3bRT0").getUserMedia,a=eu.LocalAudioTrack,s=eu.LocalDataTrack,u=eu.LocalVideoTrack,c=o("3bRT0").MediaStreamTrack,l=o("483rj"),h=o("72UdZ").DEFAULT_LOG_LEVEL,f=o("jvtlz"),d=0;e.exports=function(e){var t=!(e&&("audio"in e||"video"in e));e=Object.assign({audio:t,getUserMedia:r,logLevel:h,LocalAudioTrack:a,LocalDataTrack:s,LocalVideoTrack:u,MediaStreamTrack:c,Log:l,video:t},e);var o="[createLocalTracks #"+ ++d+"]",p=i(e.logLevel),m=new e.Log("default",o,p),v=Object.assign({log:m},e);if(delete v.name,!1===e.audio&&!1===e.video)return m.info("Neither audio nor video requested, so returning empty LocalTracks"),Promise.resolve([]);if(e.tracks)return m.info("Adding user-provided LocalTracks"),m.debug("LocalTracks:",e.tracks),Promise.resolve(e.tracks);var g={audio:e.audio&&e.audio.name?{name:e.audio.name}:{},video:e.video&&e.video.name?{name:e.video.name}:{}};g.audio.isCreatedByCreateLocalTracks=!0,g.video.isCreatedByCreateLocalTracks=!0,e.audio&&"boolean"==typeof e.audio.workaroundWebKitBug1208516&&(g.audio.workaroundWebKitBug1208516=e.audio.workaroundWebKitBug1208516),e.video&&"boolean"==typeof e.video.workaroundWebKitBug1208516&&(g.video.workaroundWebKitBug1208516=e.video.workaroundWebKitBug1208516),e.audio&&delete e.audio.name,e.video&&delete e.video.name;var b={audio:e.audio,video:e.video};return(e.audio&&e.audio.workaroundWebKitBug180748?f(m,e.getUserMedia,b):e.getUserMedia(b)).then((function(e){var t=e.getAudioTracks().concat(e.getVideoTracks());return m.info("Call to getUserMedia successful; got MediaStreamTracks:",t),t.map((function(e){return n(e,Object.assign(g[e.kind],v))}))}),(function(e){throw m.warn("Call to getUserMedia failed:",e),e}))}})),o.register("5rqz7",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},e),Object.defineProperties(n,{maxAudioBitrate:{value:e.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:e.maxVideoBitrate,writable:!0}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toJSON",value:function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}}},{key:"update",value:function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce((function(n,i){return t[i]!==e[i]&&(t[i]=e[i],n=!0),n}),!1)&&this.emit("changed")}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("3hHCs",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var a=o("3bRT0").MediaStreamTrack,s=o("2S2q7"),u=s.asLocalTrack,c=s.asLocalTrackPublication,l=s.trackClass,h=o("72UdZ"),f=h.typeErrors,d=h.trackPriority,p=o("6jDrF").validateLocalTrack,m=eu.LocalAudioTrack,v=eu.LocalDataTrack,g=eu.LocalVideoTrack,b=o("4Qd8e"),y=o("4ykWE"),w=o("3ViJy"),_=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(i=Object.assign({LocalAudioTrack:m,LocalVideoTrack:g,LocalDataTrack:v,MediaStreamTrack:a,LocalAudioTrackPublication:b,LocalVideoTrackPublication:w,LocalDataTrackPublication:y,shouldStopLocalTracks:!1,tracks:n},i)).shouldStopLocalTracks?new Set(n.filter((function(e){return"data"!==e.kind}))):new Set,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return Object.defineProperties(o,{_LocalAudioTrack:{value:i.LocalAudioTrack},_LocalDataTrack:{value:i.LocalDataTrack},_LocalVideoTrack:{value:i.LocalVideoTrack},_MediaStreamTrack:{value:i.MediaStreamTrack},_LocalAudioTrackPublication:{value:i.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:i.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:i.LocalVideoTrackPublication},_tracksToStop:{value:r},signalingRegion:{enumerable:!0,get:function(){return e.signalingRegion}}}),o._handleTrackSignalingEvents(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addTrack",value:function(e,n,i){var o=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrack",this).call(this,e,n);return o&&"disconnected"!==this.state&&this._addLocalTrack(e,i),o}},{key:"_addLocalTrack",value:function(e,t){this._signaling.addTrack(e._trackSender,e.name,t),this._log.info("Added a new "+l(e,!0)+":",e.id),this._log.debug(l(e,!0)+":",e)}},{key:"_removeTrack",value:function(e,n){var i=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrack",this).call(this,e,n);return i&&"disconnected"!==this.state&&(this._signaling.removeTrack(e._trackSender),this._log.info("Removed a "+l(e,!0)+":",e.id),this._log.debug(l(e,!0)+":",e)),i}},{key:"_getTrackEvents",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTrackEvents",this).call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])}},{key:"toString",value:function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_handleTrackSignalingEvents",value:function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=this._signaling;this.on("trackDisabled",r),this.on("trackEnabled",o),this.on("trackStopped",a),this._tracks.forEach((function(n){e._addLocalTrack(n,d.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch((function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)}))}));var i=this;n.on("stateChanged",(function e(s){t.debug("Transitioned to state:",s),"disconnected"===s?(t.debug("Removing LocalTrack event listeners"),n.removeListener("stateChanged",e),i.removeListener("trackDisabled",r),i.removeListener("trackEnabled",o),i.removeListener("trackStopped",a),i._tracks.forEach((function(e){var t=a(e);t&&e._trackSender.removeClone(t._trackTransceiver)})),t.info("LocalParticipant disconnected. Stopping "+i._tracksToStop.size+" automatically-acquired LocalTracks"),i._tracksToStop.forEach((function(e){e.stop()}))):"connected"===s&&(t.info("reconnected"),setTimeout((function(){return i.emit("reconnected")}),0))}))}function r(e){var i=n.getPublication(e._trackSender);i&&(i.disable(),t.debug("Disabled the "+l(e,!0)+":",e.id))}function o(e){var i=n.getPublication(e._trackSender);i&&(i.enable(),t.debug("Enabled the "+l(e,!0)+":",e.id))}function a(e){var t=n.getPublication(e._trackSender);return t&&t.stop(),t}}},{key:"_getOrCreateLocalTrackPublication",value:function(e){var t=k(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,i=this,r=this._signaling.getPublication(e._trackSender);if(!r)return Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"));function o(e){i.unpublishTrack(e.track)}return new Promise((function(a,s){r.on("updated",(function u(){var h=r.error;if(h)return r.removeListener("updated",u),n.warn("Failed to publish the "+l(e,!0)+": "+h.message),i._removeTrack(e,e.id),setTimeout((function(){i.emit("trackPublicationFailed",h,e)})),void s(h);if(!i._tracks.has(e.id))return r.removeListener("updated",u),void s(new Error("The "+e+" was unpublished"));if(r.sid){r.removeListener("updated",u);var f={log:n,LocalAudioTrackPublication:i._LocalAudioTrackPublication,LocalDataTrackPublication:i._LocalDataTrackPublication,LocalVideoTrackPublication:i._LocalVideoTrackPublication};(t=k(i.tracks,e))||(t=c(e,r,o,f),i._addTrackPublication(t)),"connected"===i._signaling.state&&setTimeout((function(){i.emit("trackPublished",t)})),a(t)}}))}))}},{key:"publishTrack",value:function(e,t){var n=k(this.tracks,e);if(n)return Promise.resolve(n);t=Object.assign({log:this._log,priority:d.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);var i=void 0;try{i=u(e,t)}catch(e){return Promise.reject(e)}var r=Object.values(d);if(!r.includes(t.priority))return Promise.reject(f.INVALID_VALUE("LocalTrackPublishOptions.priority",r));var o=this._addTrack(i,i.id,t.priority)||this._tracks.get(i.id);return this._getOrCreateLocalTrackPublication(o)}},{key:"publishTracks",value:function(e){if(!Array.isArray(e))throw f.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))}},{key:"setBandwidthProfile",value:function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")}},{key:"setNetworkQualityConfiguration",value:function(e){if("object"!==(void 0===e?"undefined":n(e))||null===e)throw f.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach((function(t){if(t in e&&("number"!=typeof e[t]||isNaN(e[t])))throw f.INVALID_TYPE("networkQualityConfiguration."+t,"number")})),this._signaling.setNetworkQualityConfiguration(e),this}},{key:"setParameters",value:function(e){if(void 0!==e&&"object"!==(void 0===e?"undefined":n(e)))throw f.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");return e?["maxAudioBitrate","maxVideoBitrate"].forEach((function(t){if(void 0!==e[t]&&"number"!=typeof e[t]&&null!==e[t])throw f.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")})):null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null}),this._signaling.setParameters(e),this}},{key:"unpublishTrack",value:function(e){p(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=k(this.tracks,t);return n&&this._removeTrackPublication(n),n}},{key:"unpublishTracks",value:function(e){var t=this;if(!Array.isArray(e))throw f.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce((function(e,n){var i=t.unpublishTrack(n);return i?e.concat(i):e}),[])}}]),t}(o("4op8I"));function k(e,t){return Array.from(e.values()).find((function(e){return e.track===t||e.track.mediaStreamTrack===t}))||null}e.exports=_})),o.register("6jDrF",(function(e,n){var i,r;t(e.exports,"validateBandwidthProfile",(()=>i),(e=>i=e)),t(e.exports,"validateLocalTrack",(()=>r),(e=>r=e));var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=o("2S2q7").isNonArrayObject,u=o("72UdZ"),c=u.typeErrors,l=u.subscriptionMode,h=u.trackPriority,f=u.trackSwitchOffMode;function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return void 0===e?null:null!==e&&s(e)?n.reduce((function(n,i){var r=i.prop,o=i.type,s=i.values;if(n||!(r in e))return n;var u=e[r];return o&&(void 0===u?"undefined":a(u))!==o||"number"===o&&isNaN(u)?c.INVALID_TYPE(t+"."+r,o):Array.isArray(s)&&!s.includes(u)?c.INVALID_VALUE(t+"."+r,s):n}),null):c.INVALID_TYPE(t,"object")}i=function(e){var t=d(e,"options.bandwidthProfile");return!e||t?t:(t=d(e.video,"options.bandwidthProfile.video",[{prop:"dominantSpeakerPriority",values:Object.values(h)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(l)},{prop:"trackSwitchOffMode",values:Object.values(f)}]))||(e.video?function(e){var t="options.bandwidthProfile.video.renderDimensions",n=d(e,t);return e?n||Object.values(h).reduce((function(n,i){return n||d(e[i],t+"."+i,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}),null):n}(e.video.renderDimensions):null)},r=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw c.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}})),o.register("4Qd8e",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n,i,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(o("1URFQ"));e.exports=i})),o.register("1URFQ",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2s9kc"),r=o("72UdZ"),a=r.typeErrors,s=r.trackPriority,u=function(e){function t(e,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.name,e.sid,r));return Object.defineProperties(o,{_reemitTrackEvent:{value:function(){return o.emit(o.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:e},_unpublish:{value:i},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return e.updatedPriority}},track:{enumerable:!0,value:n}}),n.on("disabled",o._reemitTrackEvent),n.on("enabled",o._reemitTrackEvent),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"setPriority",value:function(e){var t=Object.values(s);if(!t.includes(e))throw a.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this}},{key:"unpublish",value:function(){return this.track.removeListener("disabled",this._reemitTrackEvent),this.track.removeListener("enabled",this._reemitTrackEvent),this._unpublish(this),this}}]),t}(i);e.exports=u})),o.register("2s9kc",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("4H6HK"),r=o("2S2q7"),a=r.buildLogLevels,s=r.valueToJSON,u=o("72UdZ").DEFAULT_LOG_LEVEL,c=o("483rj"),l=0,h=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i=Object.assign({logLevel:u},i);var o=a(i.logLevel);return Object.defineProperties(r,{_instanceId:{value:l++},_log:{value:i.log||new c("default",r,o)},trackName:{enumerable:!0,value:e},trackSid:{enumerable:!0,value:n}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toJSON",value:function(){return s(this)}},{key:"toString",value:function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(i);e.exports=h})),o.register("4ykWE",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n,i,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(o("1URFQ"));e.exports=i})),o.register("3ViJy",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n,i,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(o("1URFQ"));e.exports=i})),o.register("4op8I",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=o("4H6HK"),s=o("2NhYx"),u=o("4upvN"),c=o("4fPoW"),l=o("7stCC"),h=o("73AkP"),f=o("1wu7O"),d=o("2S2q7"),p=0,m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=function(e){var t=e.map((function(e){return[e.id,e]})),n=t.filter((function(e){return"audio"===e[1].kind})),i=t.filter((function(e){return"video"===e[1].kind})),r=t.filter((function(e){return"data"===e[1].kind}));return{audioTracks:n,dataTracks:r,tracks:t,videoTracks:i}}((n=Object.assign({RemoteAudioTrack:s,RemoteAudioTrackPublication:u,RemoteDataTrack:c,RemoteDataTrackPublication:l,RemoteVideoTrack:h,RemoteVideoTrackPublication:f,tracks:[]},n)).tracks),o=n.log.createLog("default",i),a=new Map(r.audioTracks),d=new Map(r.dataTracks),m=new Map(r.tracks),g=new Map(r.videoTracks);return Object.defineProperties(i,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:a},_dataTracks:{value:d},_instanceId:{value:++p},_log:{value:o},_signaling:{value:e},_tracks:{value:m},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:g},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return e.identity}},networkQualityLevel:{enumerable:!0,get:function(){return e.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return e.networkQualityStats}},sid:{enumerable:!0,get:function(){return e.sid}},state:{enumerable:!0,get:function(){return e.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),i._tracks.forEach(v.bind(null,i)),e.on("networkQualityLevelChanged",(function(){return i.emit("networkQualityLevelChanged",i.networkQualityLevel,i.networkQualityStats&&(i.networkQualityStats.audio||i.networkQualityStats.video)?i.networkQualityStats:null)})),function(e,t){var n=e._log;if("disconnected"===e.state)return;t.on("stateChanged",(function i(r){n.debug("Transitioned to state:",r),e.emit(r,e),"disconnected"===r&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",i),t.tracks.forEach((function(t){var n=e._tracks.get(t.id),i=e._trackEventReemitters.get(t.id);n&&i&&i.forEach((function(e,t){n.removeListener(t,e)}))})),e._trackEventReemitters.clear(),e.tracks.forEach((function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach((function(e,n){t.removeListener(n,e)}))})),e._trackPublicationEventReemitters.clear())}))}(i,e),o.info("Created a new Participant"+(i.identity?": "+i.identity:"")),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_getTrackEvents",value:function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]}},{key:"_getTrackPublicationEvents",value:function(){return[]}},{key:"toString",value:function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"}},{key:"_addTrack",value:function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),v(this,e,t),n.info("Added a new "+d.trackClass(e)+":",t),n.debug(d.trackClass(e)+":",e),e)}},{key:"_addTrackPublication",value:function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var i=new Map;if("disconnected"===e.state)return;e._getTrackPublicationEvents().forEach((function(r){var o=n(r,2),a=o[0],s=o[1];i.set(a,(function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];e.emit.apply(e,[s].concat(i,[t]))})),t.on(a,i.get(a))})),e._trackPublicationEventReemitters.set(t.trackSid,i)}(this,e),t.info("Added a new "+d.trackPublicationClass(e)+":",e.trackSid),t.debug(d.trackPublicationClass(e)+":",e),e)}},{key:"_handleTrackSignalingEvents",value:function(){var e=this._log,t=this;if("disconnected"!==this.state){var i=this._RemoteAudioTrack,r=this._RemoteAudioTrackPublication,o=this._RemoteVideoTrack,a=this._RemoteVideoTrackPublication,s=this._RemoteDataTrack,u=this._RemoteDataTrackPublication,c=this._signaling;c.on("trackAdded",l),c.on("trackRemoved",h),c.tracks.forEach(l),c.on("stateChanged",(function n(i){"disconnected"===i?(e.debug("Removing event listeners"),c.removeListener("stateChanged",n),c.removeListener("trackAdded",l),c.removeListener("trackRemoved",h)):"connected"===i&&(e.info("reconnected"),setTimeout((function(){return t.emit("reconnected")}),0))}))}function l(i){var o=new(0,{audio:r,data:u,video:a}[i.kind])(i,{log:e});t._addTrackPublication(o);var s=i.isSubscribed;s&&f(i),t._trackSignalingUpdatedEventCallbacks.set(i.sid,(function(){if(s!==i.isSubscribed){if(s=i.isSubscribed)return void f(i);!function(e){var i=Array.from(t._tracks.entries()).find((function(t){return n(t,2)[1].sid===e.sid})),r=n(i,2),o=r[0],a=r[1],s=t.tracks.get(e.sid);a&&t._removeTrack(a,s,o)}(i)}})),i.on("updated",t._trackSignalingUpdatedEventCallbacks.get(i.sid))}function h(e){e.isSubscribed&&e.setTrackTransceiver(null);var n=t._trackSignalingUpdatedEventCallbacks.get(e.sid);n&&(e.removeListener("updated",n),t._trackSignalingUpdatedEventCallbacks.delete(e.sid));var i=t.tracks.get(e.sid);i&&t._removeTrackPublication(i)}function f(n){var r=n.isEnabled,a=n.name,u=n.kind,l=n.sid,h=n.trackTransceiver,f={audio:i,video:o,data:s}[u],d=t.tracks.get(l);if(f&&u===h.kind){var p={log:e,name:a},m="data"===u?new f(l,h,p):new f(l,h,r,(function(e){return c.updateSubscriberTrackPriority(l,e)}),p);t._addTrack(m,d,h.id)}}}},{key:"_removeTrack",value:function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var n=this._log;return n.info("Removed a "+d.trackClass(e)+":",t),n.debug(d.trackClass(e)+":",e),e}},{key:"_removeTrackPublication",value:function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var t=this._log;return t.info("Removed a "+d.trackPublicationClass(e)+":",e.trackSid),t.debug(d.trackPublicationClass(e)+":",e),e}},{key:"toJSON",value:function(){return d.valueToJSON(this)}}]),t}(a);function v(e,t,n){var i=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach((function(n){var o=n[0],a=n[1];i.set(o,(function(){var t=[a].concat([].slice.call(arguments));return e.emit.apply(e,r(t))})),t.on(o,i.get(o))})),e._trackEventReemitters.set(n,i))}e.exports=m})),o.register("2NhYx",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=o("1UpQ7"),a=function(e){function t(e,n,i,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"}},{key:"setPriority",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPriority",this).call(this,e)}}]),t}(o("6tlBw")(r));e.exports=a})),o.register("6tlBw",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var a=o("72UdZ"),s=a.typeErrors,u=a.trackPriority,c=o("6YI9h").guessBrowser,l=o("4cLmM");e.exports=function(e){return function(e){function t(e,i,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=Object.assign({workaroundWebKitBug212780:"safari"===c()&&"object"===("undefined"==typeof document?"undefined":n(document))&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},a);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,a));return Object.defineProperties(s,{_isEnabled:{value:r,writable:!0},_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:o},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:e},_workaroundWebKitBug212780:{value:a.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setPriority",value:function(e){var t=[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(u)));if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this}},{key:"_setEnabled",value:function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))}},{key:"_setSwitchedOff",value:function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))}},{key:"attach",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this,e);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function i(){e._attachments.forEach((function(i){var r=e._elShims.get(i);i.paused&&r&&!r.pausedIntentionally()&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",i),t.debug("RemoteMediaTrack:",e),i.play().then((function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",i),t.debug("RemoteMediaTrack:",e)})).catch((function(r){t.warn("Error while playing inadvertently paused <"+n+"> element:",r,i,e)})))}))}return l.onVisible(2,i),function(){l.offVisible(2,i)}}(this)),n}},{key:"detach",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detach",this).call(this,e);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n}}]),t}(e)}})),o.register("4upvN",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(o("3wK7E"));e.exports=i})),o.register("3wK7E",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,e.sid,n));Object.defineProperties(i,{_signaling:{value:e},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return e.isEnabled}},kind:{enumerable:!0,value:e.kind},publishPriority:{enumerable:!0,get:function(){return e.priority}},track:{enumerable:!0,get:function(){return this._track}}});var r=e.error,o=e.isEnabled,a=e.isSwitchedOff,s=e.priority;return e.on("updated",(function(){if(r!==e.error)return r=e.error,void i.emit("subscriptionFailed",e.error);o!==e.isEnabled&&(o=e.isEnabled,i.track&&i.track._setEnabled(e.isEnabled),i.emit(e.isEnabled?"trackEnabled":"trackDisabled")),a!==e.isSwitchedOff&&(a=e.isSwitchedOff,i.track&&(i.track._setSwitchedOff(e.isSwitchedOff),i.emit(e.isSwitchedOff?"trackSwitchedOff":"trackSwitchedOn",i.track))),s!==e.priority&&(s=e.priority,i.emit("publishPriorityChanged",s))})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}},{key:"_subscribed",value:function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))}},{key:"_unsubscribe",value:function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}}}]),t}(o("2s9kc"));e.exports=i})),o.register("4fPoW",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("4HKtL"),r=o("72UdZ"),a=r.typeErrors,s=r.trackPriority,u=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,"data",i));return Object.defineProperties(r,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:e}}),n.on("message",(function(e){r.emit("message",e,r)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"setPriority",value:function(e){var t=[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.values(s)));if(!t.includes(e))throw a.INVALID_VALUE("priority",t);return this._priority=e,this}},{key:"_setEnabled",value:function(){}},{key:"_setSwitchedOff",value:function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))}}]),t}(i);e.exports=u})),o.register("7stCC",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(o("3wK7E"));e.exports=i})),o.register("73AkP",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=function(e){function t(e,n,i,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"}},{key:"setPriority",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPriority",this).call(this,e)}}]),t}(o("6tlBw")(o("23FoH")));e.exports=r})),o.register("1wu7O",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"}}]),t}(o("3wK7E"));e.exports=i})),o.register("6Sa4g",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("6xYCf").EventEmitter,a=o("72UdZ"),s=a.DEFAULT_NQ_LEVEL_LOCAL,u=a.DEFAULT_NQ_LEVEL_REMOTE,c=a.MAX_NQ_LEVEL,l=o("2S2q7").inRange,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=Object.assign({local:s,remote:u},e),Object.defineProperties(n,{local:{value:l(e.local,s,c)?e.local:s,writable:!0},remote:{value:l(e.remote,u,c)?e.remote:u,writable:!0}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"update",value:function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",s,3],["remote",u,3]].forEach((function(i){var r=n(i,3),o=r[0],a=r[1],s=r[2];t[o]="number"==typeof e[o]&&l(e[o],a,s)?e[o]:a}))}}]),t}(r);e.exports=h})),o.register("1THoy",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=o("4H6HK"),s=o("4ILYM"),u=o("35GjY"),c=o("2S2q7").valueToJSON,l=0,h=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=i.log.createLog("default",a),u=new Map;return Object.defineProperties(a,{_log:{value:s},_instanceId:{value:++l},_options:{value:i},_participants:{value:u},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:u},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),r=a,(o=n.recording).on("updated",(function(){var e=o.isEnabled;r._log.info("Recording "+(e?"started":"stopped")),r.emit("recording"+(e?"Started":"Stopped"))})),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(d.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",d.bind(null,e)),t.on("dominantSpeakerChanged",(function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)})),t.on("stateChanged",(function i(r,o){switch(n.info("Transitioned to state:",r),r){case"disconnected":e.participants.forEach((function(e){e._unsubscribeTracks()})),e.emit(r,e,o),e.localParticipant.tracks.forEach((function(e){e.unpublish()})),t.removeListener("stateChanged",i);break;case"reconnecting":setTimeout((function(){return e.emit("reconnecting",o)}),0);break;default:setTimeout((function(){return e.emit("reconnected")}),0)}}))}(a,n),s.info("Created a new Room:",a.name),s.debug("Initial RemoteParticipants:",Array.from(a._participants.values())),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"toString",value:function(){return"[Room #"+this._instanceId+": "+this.sid+"]"}},{key:"disconnect",value:function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this}},{key:"getStats",value:function(){var e=this;return this._signaling.getStats().then((function(t){return Array.from(t).map((function(t){var i=n(t,2),r=i[0],o=i[1];return new u(r,Object.assign({},o,{localAudioTrackStats:f(e,o.localAudioTrackStats),localVideoTrackStats:f(e,o.localVideoTrackStats)}))}))}))}},{key:"toJSON",value:function(){return c(this)}}]),t}(a);function f(e,t){var n=e.localParticipant._signaling;return t.reduce((function(e,t){var i=n.tracks.get(t.trackId),r=n.getSender(i);return r?[Object.assign({},t,{trackId:r.id})].concat(e):e}),[])}function d(e,t){var i=e._log,o=new s(t,{log:i});i.info("A new RemoteParticipant connected:",o),e._participants.set(o.sid,o),e.emit("participantConnected",o);var a=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map((function(t){var i=Array.isArray(t)?t:[t,t],a=n(i,2),s=a[0],u=a[1];function c(){var t=[].slice.call(arguments);t.unshift(u),t.push(o),e.emit.apply(e,r(t))}return o.on(s,c),[s,c]}));o.once("disconnected",(function(){var t=e.dominantSpeaker;i.info("RemoteParticipant disconnected:",o),e._participants.delete(o.sid),a.forEach((function(e){o.removeListener(e[0],e[1])})),e.emit("participantDisconnected",o),o===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)}))}e.exports=h})),o.register("4ILYM",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._handleTrackSignalingEvents(),i.once("disconnected",i._unsubscribeTracks.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"}},{key:"_addTrack",value:function(e,n,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrack",this).call(this,e,r)?(n._subscribed(e),this.emit("trackSubscribed",e,n),e):null}},{key:"_addTrackPublication",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addTrackPublication",this).call(this,e);return n?(this.emit("trackPublished",n),n):null}},{key:"_getTrackPublicationEvents",value:function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTrackPublicationEvents",this).call(this)),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])}},{key:"_unsubscribeTracks",value:function(){var e=this;this.tracks.forEach((function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}}))}},{key:"_removeTrack",value:function(e,n,r){var o=this._tracks.get(r);return o?(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrack",this).call(this,o,r),n._unsubscribe(),this.emit("trackUnsubscribed",o,n),o):null}},{key:"_removeTrackPublication",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeTrackPublication",this).call(this,e);return n?(this.emit("trackUnpublished",n),n):null}}]),t}(o("4op8I"));e.exports=r})),o.register("35GjY",(function(e,t){"use strict";var n=o("4LEaR"),i=o("6JSWC"),r=o("2b80o"),a=o("2TWgy");e.exports=function e(t,o,s){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:t,enumerable:!0},localAudioTrackStats:{value:o.localAudioTrackStats.map((function(e){return new n(e.trackId,e,s)})),enumerable:!0},localVideoTrackStats:{value:o.localVideoTrackStats.map((function(e){return new i(e.trackId,e,s)})),enumerable:!0},remoteAudioTrackStats:{value:o.remoteAudioTrackStats.map((function(e){return new r(e.trackId,e)})),enumerable:!0},remoteVideoTrackStats:{value:o.remoteVideoTrackStats.map((function(e){return new a(e.trackId,e)})),enumerable:!0}})}})),o.register("4LEaR",(function(e,t){"use strict";var n=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return Object.defineProperties(r,{audioLevel:{value:"number"==typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("4vu4g"));e.exports=n})),o.register("4vu4g",(function(e,t){"use strict";var n=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(r,{bytesSent:{value:"number"==typeof n.bytesSent?n.bytesSent:i?0:null,enumerable:!0},packetsSent:{value:"number"==typeof n.packetsSent?n.packetsSent:i?0:null,enumerable:!0},roundTripTime:{value:"number"==typeof n.roundTripTime?n.roundTripTime:i?0:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("7ETi7"));e.exports=n})),o.register("7ETi7",(function(e,t){"use strict";e.exports=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:t,enumerable:!0},trackSid:{value:n.trackSid,enumerable:!0},timestamp:{value:n.timestamp,enumerable:!0},ssrc:{value:n.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof n.packetsLost?n.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof n.codecName?n.codecName:null,enumerable:!0}})}})),o.register("6JSWC",(function(e,t){"use strict";var n=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i)),o=null;"number"==typeof n.frameWidthInput&&"number"==typeof n.frameHeightInput&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var a=null;return"number"==typeof n.frameWidthSent&&"number"==typeof n.frameHeightSent&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(r,{captureDimensions:{value:o,enumerable:!0},dimensions:{value:a,enumerable:!0},captureFrameRate:{value:"number"==typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("4vu4g"));e.exports=n})),o.register("2b80o",(function(e,t){"use strict";var n=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(i,{audioLevel:{value:"number"==typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("1OZ7V"));e.exports=n})),o.register("1OZ7V",(function(e,t){"use strict";var n=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperties(i,{bytesReceived:{value:"number"==typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("7ETi7"));e.exports=n})),o.register("2TWgy",(function(e,t){"use strict";var n=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=null;return"number"==typeof n.frameWidthReceived&&"number"==typeof n.frameHeightReceived&&(r={},Object.defineProperties(r,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(i,{dimensions:{value:r,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("1OZ7V"));e.exports=n})),o.register("4jydZ",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("65OdF"),r=o("7j1bC"),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Object.assign({createCancelableRoomSignalingPromise:i},n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:e}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_connect",value:function(e,t,n,i,r){return r=Object.assign({},this._options,r),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,i,r)}},{key:"createLocalParticipantSignaling",value:function(e,t){return new r(e,t)}}]),t}(o("4oiTN"));e.exports=a})),o.register("65OdF",(function(e,t){"use strict";var n=o("5NTmS"),i=o("2FlGg"),r=o("3Do6d"),a=o("49dgk"),s=o("6D3Hv"),u=s.SignalingConnectionDisconnectedError,c=s.SignalingIncomingMessageInvalidError,l=o("2S2q7").flatMap;e.exports=function(e,t,o,s,h,f){var d=f=Object.assign({PeerConnectionManager:i,RoomV2:r,Transport:a},f),p=d.PeerConnectionManager,m=d.RoomV2,v=d.Transport,g=d.iceServers,b=d.log,y=new p(s,h,f),w=l(o.tracks,(function(e){return[e.trackTransceiver]}));y.setTrackSenders(w);var _=new Error("Canceled"),k=void 0,S=new n((function(n,i,r){var a=f,s=a.InsightsPublisher,l=a.NullInsightsPublisher,h=a.automaticSubscription,d=a.bandwidthProfile,p=a.dominantSpeaker,w=a.environment,S=a.eventObserver,M=a.logLevel,E=a.name,C=a.networkMonitor,x=a.networkQuality,T=a.insights,I=a.realm,A=a.sdpSemantics,O=a.wsServerInsights,P=Object.assign({automaticSubscription:h,dominantSpeaker:p,environment:w,eventObserver:S,logLevel:M,networkMonitor:C,networkQuality:x,iceServers:g,insights:T,onIced:function(e){return r()?(i(_),Promise.reject(_)):(b.debug("Got ICE servers:",e),f.iceServers=e,y.setConfiguration(f),y.createAndOffer().then((function(){if(r())throw i(_),_;b.debug("createAndOffer() succeeded."),y.dequeue("description")})).catch((function(e){throw b.error("createAndOffer() failed:",e),i(e),e})))},realm:I,sdpSemantics:A},"string"==typeof O?{wsServerInsights:O}:{},s?{InsightsPublisher:s}:{},l?{NullInsightsPublisher:l}:{},d?{bandwidthProfile:d}:{});(k=new v(E,e,o,y,t,P)).once("connected",(function(e){if(b.debug("Transport connected:",e),r())i(_);else if(e.participant){var t=e.options.signaling_region;o.setSignalingRegion(t),n(new m(o,e,k,y,f))}else i(new c)})),k.once("stateChanged",(function(e,t){"disconnected"===e?(k=null,i(t||new u)):b.debug("Transport state changed:",e)}))}),(function(){k&&(k.disconnect(),k=null)}));return S.catch((function(){k&&(k.disconnect(),k=null),y.close()})),S}})),o.register("2FlGg",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=o("6YI9h").guessBrowser,a=o("6FDe6"),s=o("1Cusm"),u=o("1b3aJ"),c=o("2S2q7"),l=o("6D3Hv").MediaConnectionError,h="firefox"===r(),f=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=(i=Object.assign({audioContextFactory:h?o("42Xan"):null,PeerConnectionV2:a},i)).audioContextFactory?i.audioContextFactory.getOrCreate(r):null,l=u?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(r,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:c.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:u?new s(d(u)):null},_encodingParameters:{value:e},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:l},_peerConnections:{value:new Map},_preferredCodecs:{value:n},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_closeAbsentPeerConnections",value:function(e){var t=new Set(e.map((function(e){return e.id})));return this._peerConnections.forEach((function(e){t.has(e.id)||e._close()})),this}},{key:"_getConfiguration",value:function(){return this._configurationDeferred.promise}},{key:"_getOrCreate",value:function(e,t){var n=this,i=this,r=this._peerConnections.get(e);if(!r){var o=this._PeerConnectionV2,a=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{r=new o(e,this._encodingParameters,this._preferredCodecs,a)}catch(e){throw new l}this._peerConnections.set(r.id,r),r.on("candidates",this.queue.bind(this,"candidates")),r.on("description",this.queue.bind(this,"description")),r.on("trackAdded",this.queue.bind(this,"trackAdded")),r.on("stateChanged",(function e(t){"closed"===t&&(r.removeListener("stateChanged",e),i._peerConnections.delete(r.id),i._closedPeerConnectionIds.add(r.id),_(i),w(i))})),r.on("connectionStateChanged",(function(){return _(n)})),r.on("iceConnectionStateChanged",(function(){return w(n)})),this._dataTrackSenders.forEach(r.addDataTrackSender,r),this._mediaTrackSenders.forEach(r.addMediaTrackSender,r),w(this)}return r}},{key:"close",value:function(){return this._peerConnections.forEach((function(e){e.close()})),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),w(this),this}},{key:"createAndOffer",value:function(){var e=this;return this._getConfiguration().then((function(t){var n=void 0;do{n=c.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)})).then((function(e){return e.offer()})).then((function(){return e}))}},{key:"getTrackReceivers",value:function(){return c.flatMap(this._peerConnections,(function(e){return e.getTrackReceivers()}))}},{key:"getStates",value:function(){var e=[];return this._peerConnections.forEach((function(t){var n=t.getState();n&&e.push(n)})),e}},{key:"setConfiguration",value:function(e){return this._configuration&&(this._configurationDeferred=c.defer(),this._peerConnections.forEach((function(t){t.setConfiguration(e)}))),this._configuration=e,this._configurationDeferred.resolve(e),this}},{key:"setIceReconnectTimeout",value:function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach((function(t){t.setIceReconnectTimeout(e)})),this._sessionTimeout=e),this}},{key:"setTrackSenders",value:function(e){var t=new Set(e.filter((function(e){return"data"===e.kind}))),n=new Set(e.filter((function(e){return e&&("audio"===e.kind||"video"===e.kind)}))),i=function(e,t,n){return{data:p(e,t),media:m(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach((function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()}))}(this,i),this}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&this._closeAbsentPeerConnections(e),this._getConfiguration().then((function(n){return Promise.all(e.map((function(e){return t._closedPeerConnectionIds.has(e.id)?null:t._getOrCreate(e.id,n).update(e)})))})).then((function(){return t}))}},{key:"getStats",value:function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map((function(e){return e.getStats().then((function(t){return[e.id,t]}))}))).then((function(e){return new Map(e)}))}},{key:"connectionState",get:function(){return this._connectionState}},{key:"iceConnectionState",get:function(){return this._iceConnectionState}}]),t}(u);function d(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}function p(e,t){return{add:c.difference(t,e._dataTrackSenders),remove:c.difference(e._dataTrackSenders,t)}}function m(e,t){return{add:c.difference(t,e._mediaTrackSenders),remove:c.difference(e._mediaTrackSenders,t)}}var v={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3},g=void 0;function b(){return Object.keys(v).reduce((function(e,t){return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},v[t],t))}),{})}function y(e){return e.length?(g=g||b(),e.reduce((function(e,t){return g[Math.max(v[e],v[t])]}))):"new"}function w(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=y([].concat(i(e._peerConnections.values())).map((function(e){return e.iceConnectionState}))),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function _(e){e._lastConnectionState=e.connectionState,e._connectionState=y([].concat(i(e._peerConnections.values())).map((function(e){return e.connectionState}))),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=f})),o.register("6FDe6",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2ZZtP"),r=o("3bRT0"),a=r.MediaStream,s=r.RTCIceCandidate,u=r.RTCPeerConnection,c=r.RTCSessionDescription,l=r.getStats,h=o("6YI9h").guessBrowser,f=o("4w4ZI").getSdpFormat,d=o("72UdZ"),p=d.DEFAULT_ICE_GATHERING_TIMEOUT_MS,m=d.DEFAULT_LOG_LEVEL,v=d.DEFAULT_SESSION_TIMEOUT_SEC,g=d.iceRestartBackoffConfig,b=o("60VD0"),y=b.createCodecMapForMediaSection,w=b.disableRtx,_=b.enableDtxForOpus,k=b.getMediaSections,S=b.removeSSRCAttributes,M=b.revertSimulcastForNonVP8MediaSections,E=b.setBitrateParameters,C=b.setCodecPreferences,x=b.setSimulcast,T=b.unifiedPlanAddOrRewriteNewTrackIds,I=b.unifiedPlanAddOrRewriteTrackIds,A=b.unifiedPlanFilterLocalCodecs,O=o("5WF7N"),P=o("6D3Hv"),R=P.MediaClientLocalDescFailedError,D=P.MediaClientRemoteDescFailedError,j=o("2S2q7"),L=j.buildLogLevels,N=j.isChromeScreenShareTrack,B=j.oncePerTick,F=o("4gLFr"),U=o("5njfX"),z=o("2suVg"),q=o("1AybR"),H=o("56JJ3"),V=o("483rj"),W=o("01c5F"),K=o("5nLUc"),G=o("1Q8kx"),Y=o("79cTh"),Z=h(),J="chrome"===Z,X="firefox"===Z,$="safari"===Z,Q="undefined"!=typeof RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.getParameters&&"function"==typeof RTCRtpSender.prototype.setParameters,ee=0,te={open:["closed","updating"],updating:["closed","open"],closed:[]},ne=function(e){function t(e,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"open",te)),h=ae(o=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:N,iceServers:[],isRTCRtpSenderParamsSupported:Q,logLevel:m,offerOptions:{},revertSimulcastForNonVP8MediaSections:M,sessionTimeout:1e3*v,setBitrateParameters:E,setCodecPreferences:C,setSimulcast:x,Backoff:i,IceConnectionMonitor:U,MediaStream:a,RTCIceCandidate:s,RTCPeerConnection:u,RTCSessionDescription:c,Timeout:O},o)),d=f(h.sdpSemantics),b="unified"===d,y=b?null:new o.MediaStream,w=L(o.logLevel),_=o.RTCPeerConnection;!0===o.enableDscp&&(o.chromeSpecificConstraints=o.chromeSpecificConstraints||{},o.chromeSpecificConstraints.optional=o.chromeSpecificConstraints.optional||[],o.chromeSpecificConstraints.optional.push({googDscp:!0}));var k=o.log?o.log.createLog("signaling",l):new V("webrtc",l,w),S=new _(h,o.chromeSpecificConstraints);o.dummyAudioMediaStreamTrack&&S.addTrack(o.dummyAudioMediaStreamTrack,y||new o.MediaStream),Object.defineProperties(l,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:o.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:o.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new o.Timeout((function(){return l._handleIceGatheringTimeout()}),p,!1)},_iceRestartBackoff:{value:o.Backoff.exponential(g)},_instanceId:{value:++ee},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_isUnifiedPlan:{value:b},_isRTCRtpSenderParamsSupported:{value:o.isRTCRtpSenderParamsSupported},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localMediaStream:{value:y},_localUfrag:{writable:!0,value:null},_log:{value:k},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_iceConnectionMonitor:{value:new o.IceConnectionMonitor(S)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:o.offerOptions},_peerConnection:{value:S},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplyDtx:{value:r.audio.every((function(e){return"opus"!==e.codec}))||r.audio.some((function(e){var t=e.codec,n=e.dtx;return"opus"===t&&n}))},_shouldApplySimulcast:{value:(J||$)&&r.video.some((function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast}))},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new o.Timeout((function(){k.debug("ICE reconnect timed out"),l.close()}),o.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new F},_sdpFormat:{value:d},_setBitrateParameters:{value:o.setBitrateParameters},_setCodecPreferences:{value:o.setCodecPreferences},_setSimulcast:{value:o.setSimulcast},_revertSimulcastForNonVP8MediaSections:{value:o.revertSimulcastForNonVP8MediaSections},_RTCIceCandidate:{value:o.RTCIceCandidate},_RTCPeerConnection:{value:o.RTCPeerConnection},_RTCSessionDescription:{value:o.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},id:{enumerable:!0,value:e}}),n.on("changed",B((function(){l._isRTCRtpSenderParamsSupported?l._needsAnswer||ce(l):l.offer()}))),S.addEventListener("connectionstatechange",l._handleConnectionStateChange.bind(l)),S.addEventListener("datachannel",l._handleDataChannelEvent.bind(l)),S.addEventListener("icecandidate",l._handleIceCandidateEvent.bind(l)),S.addEventListener("iceconnectionstatechange",l._handleIceConnectionStateChange.bind(l)),S.addEventListener("icegatheringstatechange",l._handleIceGatheringStateChange.bind(l)),S.addEventListener("signalingstatechange",l._handleSignalingStateChange.bind(l)),S.addEventListener("track",l._handleTrackEvent.bind(l)),l._iceRestartBackoff.on("ready",(function(){return l._initiateIceRestart()}));var T=l;return l.on("stateChanged",(function e(t){"closed"===t&&(T.removeListener("stateChanged",e),T._dataChannels.forEach((function(e,t){T.removeDataTrackSender(t)})))})),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"toString",value:function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"}},{key:"_addIceCandidate",value:function(e){var t=this;return Promise.resolve().then((function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)})).catch((function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)}))}},{key:"_addIceCandidates",value:function(e){return Promise.all(e.map(this._addIceCandidate,this)).then((function(){}))}},{key:"_addOrUpdateTransceiver",value:function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map((function(e){return e.codec.toLowerCase()})),video:e._preferredVideoCodecs.map((function(e){return e.codec.toLowerCase()}))}[t],i=e._recycledTransceivers[t],r=n.find((function(t){return e._localCodecs.has(t)}));if(!r)return i.shift();var o=i.find((function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(r)}));o&&i.splice(i.indexOf(o),1);return o}(this,e.kind);if(n&&n.sender){var i=n.sender.track?n.sender.track.id:null;return i&&this._log.warn("Reusing transceiver: "+n.mid+"] "+i+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then((function(){n.direction="sendrecv"}),(function(){})).finally((function(){t._replaceTrackPromises.delete(n)}))),n}return this._peerConnection.addTransceiver(e)}},{key:"_checkIceBox",value:function(e){var t=oe(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)}},{key:"_answer",value:function(e){var t=this;return Promise.resolve().then((function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)})).catch((function(){throw new D})).then((function(){return t._peerConnection.createAnswer()})).then((function(n){n=X?new t._RTCSessionDescription({sdp:w(n.sdp),type:n.type}):Y(n);var i=S(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var r=i;i=t._setSimulcast(r,t._sdpFormat,t._trackIdsToAttributes),i=t._revertSimulcastForNonVP8MediaSections(i,r,e.sdp)}return i=i.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:i})})).then((function(){return t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)})).catch((function(e){throw e instanceof D?e:new R}))}},{key:"_close",value:function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),!0)}},{key:"_handleConnectionStateChange",value:function(){this.emit("connectionStateChanged")}},{key:"_handleDataChannelEvent",value:function(e){var t=this,n=e.channel,i=new z(n);this._dataTrackReceivers.add(i),n.addEventListener("close",(function(){t._dataTrackReceivers.delete(i)})),this.emit("trackAdded",i)}},{key:"_handleGlare",value:function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then((function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})})).then((function(){return t._needsAnswer=!1,t._answer(e)})).then((function(e){return e?Promise.resolve():t._offer()}))}},{key:"_handleIceCandidateEvent",value:function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))}},{key:"_handleIceConnectionStateChange",value:function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),i=this._log;i.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&i.debug("ICE reconnected"):(i.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start((function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(i.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))}))):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")}},{key:"_handleIceGatheringTimeout",value:function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")}},{key:"_handleIceGatheringStateChange",value:function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout,i=n.delay,r=n.isSet;"gathering"!==e||this._didGenerateLocalCandidates||r||(t.debug("Starting ICE gathering timeout: "+i),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())}},{key:"_handleSignalingStateChange",value:function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))}},{key:"_handleTrackEvent",value:function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher||(this._trackMatcher=e.transceiver&&e.transceiver.mid?new G:$||this._isUnifiedPlan?new K:new W),this._trackMatcher.update(n);var i=e.track,r=this._trackMatcher.match(e)||i.id,o=new q(r,i);this._mediaTrackReceivers.forEach((function(e){e.track.id===o.track.id&&t._mediaTrackReceivers.delete(e)})),this._mediaTrackReceivers.add(o),i.addEventListener("ended",(function(){return t._mediaTrackReceivers.delete(o)})),this.emit("trackAdded",o)}},{key:"_initiateIceRestart",value:function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout,n=t.delay;t.isSet||(e.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer()}}},{key:"_initiateIceRestartBackoff",value:function(){"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff())}},{key:"_maybeReoffer",value:function(e){var t=this._shouldOffer;if(e&&e.sdp){if(this._isUnifiedPlan){var n=this._peerConnection.getSenders().filter((function(e){return e.track}));t=["audio","video"].reduce((function(t,i){var r=k(e.sdp,i,"(sendrecv|sendonly)"),o=n.filter(se.bind(null,i));return t||r.length<o.length}),t)}var i=this._dataChannels.size>0,r=k(e.sdp,"application").length>0;t=t||i&&!r}return(t?this._offer():Promise.resolve()).then((function(){return t}))}},{key:"_offer",value:function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then((function(){return e._peerConnection.createOffer(t)})).catch((function(){throw new R})).then((function(t){t=X?new e._RTCSessionDescription({sdp:w(t.sdp),type:t.type}):Y(t);var n=S(t.sdp,["mslabel","label"]);n=e._isUnifiedPlan&&e._peerConnection.remoteDescription?A(n,e._peerConnection.remoteDescription.sdp):n;var i=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:i},i=e._setSimulcast(i,e._sdpFormat,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:i})}))}},{key:"_getMediaTrackSenderId",value:function(e){var t=Array.from(this._rtpSenders.keys()).find((function(t){return t.track.id===e}));return t?t.id:e}},{key:"_addOrRewriteLocalTrackIds",value:function(e){var t=this,n=this._peerConnection.getTransceivers().filter((function(e){var t=e.sender;return!e.stopped&&t&&t.track})),i=n.filter((function(e){return e.mid})),r=new Map(i.map((function(e){var n=e.mid,i=e.sender;return[n,t._getMediaTrackSenderId(i.track.id)]}))),o=I(e.sdp,r),a=n.filter((function(e){return!e.mid})),s=new Map(["audio","video"].map((function(e){return[e,a.filter((function(t){return t.sender.track.kind===e})).map((function(e){var n=e.sender;return t._getMediaTrackSenderId(n.track.id)}))]}))),u=T(o,r,s);return new this._RTCSessionDescription({sdp:u,type:e.type})}},{key:"_rollbackAndApplyOffer",value:function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then((function(){return t._setLocalDescription(e)}))}},{key:"_setLocalDescription",value:function(e){var t=this;return"rollback"!==e.type&&this._shouldApplyDtx&&(e=new this._RTCSessionDescription({sdp:_(e.sdp),type:e.type})),this._peerConnection.setLocalDescription(e).catch((function(n){throw t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".'),e.sdp&&t._log.warn("The SDP was "+e.sdp),new R})).then((function(){"rollback"!==e.type&&(t._localDescription=t._isUnifiedPlan?t._addOrRewriteLocalTrackIds(e):e,t._shouldApplyDtx&&(t._localDescription=new t._RTCSessionDescription({sdp:_(t._localDescription.sdp,[]),type:t._localDescription.type})),t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ue(t)),t._localUfrag=oe(e),t.emit("description",t.getState()))}))}},{key:"_setRemoteDescription",value:function(e){var t=this;return e.sdp&&(this._isRTCRtpSenderParamsSupported||(e.sdp=this._setBitrateParameters(e.sdp,X?"TIAS":"AS",this._encodingParameters.maxAudioBitrate,this._encodingParameters.maxVideoBitrate)),e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?e.sdp=_(e.sdp):e.sdp=_(e.sdp,[]),X&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then((function(){if("answer"===e.type&&t._shouldApplySimulcast){var n=t._revertSimulcastForNonVP8MediaSections(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp);if(n!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:n})}})).then((function(){return t._peerConnection.setRemoteDescription(e)})).then((function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ue(t))}),(function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".'),e.sdp&&t._log.warn("The SDP was "+e.sdp),n}))}},{key:"_updateDescription",value:function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then((function(){})))}var n=e.revision;return Promise.resolve().then((function(){return t._setRemoteDescription(e)})).catch((function(){throw new D})).then((function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then((function(){}))}))}},{key:"_updateIce",value:function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)}},{key:"addDataTrackSender",value:function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(t){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+t.message)}}},{key:"addMediaTrackSender",value:function(e){if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var t=void 0;if(this._localMediaStream)this._localMediaStream.addTrack(e.track),t=this._peerConnection.addTrack(e.track,this._localMediaStream);else t=this._addOrUpdateTransceiver(e.track).sender;e.addSender(t),this._rtpSenders.set(e,t)}}},{key:"close",value:function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))}},{key:"getTrackReceivers",value:function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))}},{key:"getState",value:function(){if(!this._localDescription)return null;var e="answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision,t={type:this._localDescription.type,revision:e};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}}},{key:"offer",value:function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",(function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then((function(){e.tryTransition("open",t)}),(function(n){throw e.tryTransition("open",t),n}))}))}},{key:"removeDataTrackSender",value:function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())}},{key:"removeMediaTrackSender",value:function(e){if("closed"!==this._peerConnection.signalingState&&this._rtpSenders.has(e)){var t=this._rtpSenders.get(e);this._peerConnection.removeTrack(t),this._localMediaStream&&this._localMediaStream.removeTrack(e.track),e.removeSender(t),this._rtpSenders.delete(e)}}},{key:"setConfiguration",value:function(e){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(ae(e))}},{key:"setIceReconnectTimeout",value:function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this}},{key:"update",value:function(e){var t=this;return this.bracket("updating",(function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var i=[];return e.ice&&i.push(t._updateIce(e.ice)),e.description&&i.push(t._updateDescription(e.description)),Promise.all(i).then((function(){t.tryTransition("open",n)}),(function(e){throw t.tryTransition("open",n),e}))}))}},{key:"getStats",value:function(){var e=this;return l(this._peerConnection).then((function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map((function(t){return re(e,t)})),remoteVideoTrackStats:t.remoteVideoTrackStats.map((function(t){return re(e,t)})),localAudioTrackStats:t.localAudioTrackStats.map((function(t){return ie(e,t)})),localVideoTrackStats:t.localVideoTrackStats.map((function(t){return ie(e,t)}))})}(e,t)}))}},{key:"connectionState",get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState}},{key:"iceConnectionState",get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState}},{key:"isApplicationSectionNegotiated",get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&k(this._peerConnection.localDescription.sdp,"application").length>0}}]),t}(H);function ie(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function re(e,t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e._mediaTrackReceivers)).find((function(e){return e.track.id===t.trackId})),i=n?n.id:null;return Object.assign(t,{trackId:i})}function oe(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function ae(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function se(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}function ue(e){e._isUnifiedPlan&&(function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach((function(t){if(function(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)}(t,e)){var n=t.receiver.track;e._recycledTransceivers[n.kind].push(t)}}))}(e),function(e){var t=e._peerConnection.localDescription;t&&k(t.sdp).forEach((function(t){y(t).forEach((function(t,n){return e._localCodecs.add(n)}))}))}(e),function(e){var t=e._peerConnection.remoteDescription;t&&k(t.sdp).forEach((function(t){var n=t.match(/^a=mid:(.+)$/m)[1],i=y(t);e._remoteCodecMaps.set(n,i)}))}(e)),e._isRTCRtpSenderParamsSupported&&ce(e)}function ce(e){var t=e._encodingParameters,n=t.maxAudioBitrate,i=t.maxVideoBitrate,r=new Map([["audio",n],["video",i]]);e._peerConnection.getSenders().filter((function(e){return e.track})).forEach((function(t){var n=r.get(t.track.kind),i=t.getParameters();null===n||0===n?function(e){Array.isArray(e.encodings)&&e.encodings.forEach((function(e){return delete e.maxBitrate}))}(i):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){X?e.encodings=[{maxBitrate:t}]:e.encodings.forEach((function(e){e.maxBitrate=t}))}(i,n),!X&&e._enableDscp&&i.encodings.length>0&&(i.encodings[0].networkPriority="high"),t.setParameters(i).catch((function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))}))}))}e.exports=ne})),o.register("2ZZtP",(function(e,n){var i,r,a,s,u,c,l;t(e.exports,"FibonacciStrategy",(()=>r),(e=>r=e)),t(e.exports,"Backoff",(()=>u),(e=>u=e)),t(e.exports,"fibonacci",(()=>c),(e=>c=e)),t(e.exports,"exponential",(()=>l),(e=>l=e)),t(e.exports,"ExponentialStrategy",(()=>s),(e=>s=e)),t(e.exports,"call",(()=>i),(e=>i=e)),t(e.exports,"FunctionCall",(()=>a),(e=>a=e));var h=o("5eycW"),f=o("7cCYv"),d=o("7sJh7"),p=o("189q2");u=h,a=p,r=d,s=f,c=function(e){return new h(new d(e))},l=function(e){return new h(new f(e))},i=function(e,t,n){var i=Array.prototype.slice.call(arguments);return e=i[0],t=i.slice(1,i.length-1),n=i[i.length-1],new p(e,t,n)}})),o.register("5eycW",(function(e,t){var n=o("6xYCf"),i=o("7cdTl");function r(e){n.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}o("2cK96").inherits(r,n.EventEmitter),r.prototype.failAfter=function(e){i.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},r.prototype.backoff=function(e){i.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},r.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},r.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=r})),o.register("7cdTl",(function(e,t){e.exports=o("7yK5B")})),o.register("7yK5B",(function(e,t){var n=o("2cK96"),i=e.exports=o("10zDH");function r(e,t,i,r){i=i||"";var o=new e(n.format.apply(this,[i].concat(r)));throw Error.captureStackTrace(o,t),o}function a(e,t,n){r(i.IllegalArgumentError,e,t,n)}function s(e,t,n){r(i.IllegalStateError,e,t,n)}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function c(e){return function(t,n){var i=u(t);if(i==e)return t;a(arguments.callee,n||'Expected "'+e+'" but got "'+i+'".',Array.prototype.slice.call(arguments,2))}}e.exports.checkArgument=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||s(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;a(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;a(arguments.callee,t||'Expected value to be defined and not null but got "'+u(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=c("string"),e.exports.checkIsArray=c("array"),e.exports.checkIsNumber=c("number"),e.exports.checkIsBoolean=c("boolean"),e.exports.checkIsFunction=c("function"),e.exports.checkIsObject=c("object")})),o.register("10zDH",(function(e,n){var i,r;t(e.exports,"IllegalStateError",(()=>i),(e=>i=e)),t(e.exports,"IllegalArgumentError",(()=>r),(e=>r=e));var a=o("2cK96");function s(e){Error.call(this,e),this.message=e}function u(e){Error.call(this,e),this.message=e}a.inherits(s,Error),s.prototype.name="IllegalArgumentError",a.inherits(u,Error),u.prototype.name="IllegalStateError",i=u,r=s})),o.register("7cCYv",(function(e,t){var n=o("2cK96"),i=o("7cdTl"),r=o("78pnY");function a(e){r.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=a.DEFAULT_FACTOR,e&&void 0!==e.factor&&(i.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}n.inherits(a,r),a.DEFAULT_FACTOR=2,a.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},a.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=a})),o.register("78pnY",(function(e,t){function n(e){return null!=e}function i(e){if(n((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(n(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(n(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}o("6xYCf"),o("2cK96"),i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i})),o.register("7sJh7",(function(e,t){var n=o("2cK96"),i=o("78pnY");function r(e){i.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}n.inherits(r,i),r.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},r.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=r})),o.register("189q2",(function(e,t){var n=o("6xYCf"),i=o("7cdTl"),r=o("2cK96"),a=o("5eycW"),s=o("7sJh7");function u(e,t,r){n.EventEmitter.call(this),i.checkIsFunction(e,"Expected fn to be a function."),i.checkIsArray(t,"Expected args to be an array."),i.checkIsFunction(r,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=r,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=u.DEFAULT_RETRY_PREDICATE_,this.state_=u.State_.PENDING}r.inherits(u,n.EventEmitter),u.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},u.DEFAULT_RETRY_PREDICATE_=function(e){return!0},u.prototype.isPending=function(){return this.state_==u.State_.PENDING},u.prototype.isRunning=function(){return this.state_==u.State_.RUNNING},u.prototype.isCompleted=function(){return this.state_==u.State_.COMPLETED},u.prototype.isAborted=function(){return this.state_==u.State_.ABORTED},u.prototype.setStrategy=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},u.prototype.retryIf=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},u.prototype.getLastResult=function(){return this.lastResult_.concat()},u.prototype.getNumRetries=function(){return this.numRetries_},u.prototype.failAfter=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},u.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=u.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},u.prototype.start=function(e){i.checkState(!this.isAborted(),"FunctionCall is aborted."),i.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new s;this.backoff_=e?e(t):new a(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=u.State_.RUNNING,this.doCall_(!1)},u.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);n.EventEmitter.prototype.emit.apply(this,t);var i=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(i))},u.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},u.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,n.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=u.State_.COMPLETED,this.doCallback_())}},u.prototype.handleBackoff_=function(e,t,n){this.emit("backoff",e,t,n)},e.exports=u})),o.register("60VD0",(function(e,n){var i,r,a,s,u,c,l,h,f,d,p,m,v;t(e.exports,"enableDtxForOpus",(()=>d),(e=>d=e)),t(e.exports,"removeSSRCAttributes",(()=>a),(e=>a=e)),t(e.exports,"setCodecPreferences",(()=>h),(e=>h=e)),t(e.exports,"setBitrateParameters",(()=>l),(e=>l=e)),t(e.exports,"revertSimulcastForNonVP8MediaSections",(()=>s),(e=>s=e)),t(e.exports,"createCodecMapForMediaSection",(()=>c),(e=>c=e)),t(e.exports,"disableRtx",(()=>r),(e=>r=e)),t(e.exports,"getMediaSections",(()=>i),(e=>i=e)),t(e.exports,"unifiedPlanAddOrRewriteNewTrackIds",(()=>m),(e=>m=e)),t(e.exports,"unifiedPlanAddOrRewriteTrackIds",(()=>v),(e=>v=e)),t(e.exports,"unifiedPlanFilterLocalCodecs",(()=>p),(e=>p=e)),t(e.exports,"setSimulcast",(()=>f),(e=>f=e)),t(e.exports,"createPtToCodecName",(()=>u),(e=>u=e));var g=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=o("2S2q7").difference,y=o("2S2q7").flatMap,w=o("4rlTB"),_={0:"PCMU",8:"PCMA"};function k(e,t){return t?"\r\nb="+e+":"+("AS"===e?Math.round((t+16e3)/950):t):null}function S(e){return Array.from(E(e)).reduce((function(e,t){var n=t[0],i=t[1],r=e.get(i)||[];return e.set(i,r.concat(n))}),new Map)}function M(e){return T(e).reduce((function(e,t){var n=x(t);return n?e.set(n,t):e}),new Map)}function E(e){return I(e).reduce((function(t,n){var i=new RegExp("a=rtpmap:"+n+" ([^/]+)"),r=e.match(i),o=r?r[1].toLowerCase():_[n]?_[n].toLowerCase():"";return t.set(n,o)}),new Map)}function C(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce((function(e,t){var n=t.split("="),i=g(n,2),r=i[0],o=i[1];return e[r]=isNaN(o)?o:parseInt(o,10),e}),{})}function x(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function T(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var i=new RegExp("m="+(t||".*"),"gm"),r=new RegExp("a="+(n||".*"),"gm");return i.test(e)&&r.test(e)}))}function I(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map((function(e){return parseInt(e,10)})):[]}function A(e,t){var n=t.split("\r\n"),i=n[0],r=n.slice(1);return[i=i.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(r).join("\r\n")}function O(e,t){if(!/^m=(audio|video)/.test(e))return e;var n=x(e),i=n&&t.get(n);if(!i)return e;var r=E(i),o=S(e),a=y(Array.from(r),(function(t){var n=g(t,2),r=n[0],a=n[1];return"rtx"!==a?function(e,t,n,i,r){var o=n.get(e)||[];if(o.length<=1)return o;var a=C(t,r);if(!a)return o;var s=o.find((function(e){var t=C(e,i);return t&&Object.keys(a).every((function(e){return a[e]===t[e]}))}));return"number"==typeof s?[s]:o}(a,r,o,e,i):[]})),s=o.get("rtx")||[];a=a.concat(s.filter((function(t){var n=C(t,e);return n&&a.includes(n.apt)})));var u=e.split("\r\n").filter((function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&a.includes(parseInt(n,10))}));return A(I(e).filter((function(e){return a.includes(e)})),u.join("\r\n"))}function P(e,t){var n=T(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var n=x(e);if(!n)return e;var i=t.get(n);if(!i)return e;var r=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!r)return e;var o=r.split(" "),a=g(o,2),s=a[0],u=a[1],c=new RegExp("msid:"+s+(u?" "+u:"")+"$","gm");return e.replace(c,"msid:"+s+" "+i)}))).join("\r\n")}function R(e,t){return"a=fmtp:"+e+" "+Object.entries(t).map((function(e){var t=g(e,2);return t[0]+"="+t[1]})).join(";")}c=S,u=E,r=function(e){var t=T(e);return[e.split("\r\nm=")[0]].concat(t.map((function(e){if(!/^m=video/.test(e))return e;var t=S(e).get("rtx");if(!t)return e;var n=new Set(I(e));t.forEach((function(e){return n.delete(e)}));var i=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),r=i&&i[1],o=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(r?[new RegExp("^a=ssrc:"+r+" .+$")]:[]);return e=e.split("\r\n").filter((function(e){return o.every((function(t){return!t.test(e)}))})).join("\r\n"),A(Array.from(n),e)}))).join("\r\n")},d=function(e,t){var n=T(e),i=e.split("\r\nm=")[0];return t=t||n.filter((function(e){return/^m=audio/.test(e)})).map(x),[i].concat(n.map((function(e){if(!/^m=audio/.test(e))return e;var n=S(e).get("opus");if(!n)return e;var i=C(n,e);if(!i)return e;var r=R(n,i),o=new RegExp(r),a=x(e);t.includes(a)?i.usedtx=1:delete i.usedtx;var s=R(n,i);return e.replace(o,s)}))).join("\r\n")},i=T,a=function(e,t){return e.split("\r\n").filter((function(e){return!t.find((function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)}))})).join("\r\n")},s=function(e,t,n){var i=M(n),r=M(t),o=T(e);return[e.split("\r\nm=")[0]].concat(o.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var o=i.get(n),a=E(o),s=I(o);return s.length&&"vp8"===a.get(s[0])?e:r.get(n).replace(/\r\n$/,"")}))).concat("").join("\r\n")},l=function(e,t,n,i){var r=T(e);return[e.split("\r\nm=")[0]].concat(r.map((function(e){if(!/^m=(audio|video)/.test(e)||!/a=(recvonly|sendrecv)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1];return function(e,t,n){var i=k(e,t)||"",r=/\r\nb=(AS|TIAS):([0-9]+)/,o=n.match(r);if(!o)return n.replace(/(\r\n)?$/,i+"$1");var a=parseInt(o[2],10);return t=t||1/0,i=k(e,Math.min(a,t)),n.replace(r,i)}(t,"audio"===r?n:i,e)}))).join("\r\n")},h=function(e,t,n){var i=T(e);return[e.split("\r\nm=")[0]].concat(i.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var i=e.match(/^m=(audio|video)/)[1],r=S(e),o=function(e,t){t=t.map((function(e){return e.codec.toLowerCase()}));var n=y(t,(function(t){return e.get(t)||[]})),i=b(Array.from(e.keys()),t),r=y(i,(function(t){return e.get(t)}));return n.concat(r)}(r,"audio"===i?t:n),a=A(o,e),s=r.get("pcma")||[],u=r.get("pcmu")||[];return("audio"===i?new Set(s.concat(u)):new Set).has(o[0])?a.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):a}))).join("\r\n")},f=function(e,t,n){var i=T(e);return[e.split("\r\nm=")[0]].concat(i.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var i=S(e),r=I(e),o=new Set(i.get("vp8")||[]);return r.some((function(e){return o.has(e)}))?w(e,t,n):e}))).concat("").join("\r\n")},p=function(e,t){var n=T(e),i=e.split("\r\nm=")[0],r=M(t);return[i].concat(n.map((function(e){return O(e,r)}))).join("\r\n")},m=function(e,t,n){var i=Array.from(n).reduce((function(n,i){var r=g(i,2),o=r[0],a=r[1];return T(e,o,"send(only|recv)").map(x).filter((function(e){return!t.has(e)})).forEach((function(e,t){return n.set(e,a[t])})),n}),new Map);return P(e,i)},v=P})),o.register("4rlTB",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("2S2q7").difference,a=o("2S2q7").flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{cName:{enumerable:!0,value:i},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:n},trackId:{enumerable:!0,value:t}})}return i(e,[{key:"addSimulcastSSRCs",value:function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach((function(e){this.primarySSRCs.add(e)}),this),this.rtxPairs.size&&e.forEach((function(e){this.rtxPairs.set(s(),e)}),this)}}},{key:"addSSRC",value:function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n}},{key:"toSdpLines",value:function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map((function(e){return e.reverse()})),i=Array.from(this.primarySSRCs.values()),r=n.length?a(n):i,o=a(r,(function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]})),s=n.map((function(e){return"a=ssrc-group:FID "+e.join(" ")})),u=["a=ssrc-group:SIM "+i.join(" ")];return s.concat(o).concat(u)}}]),e}();function c(e,t){return(e.match(new RegExp(t,"gm"))||[]).map((function(e){return(e.match(new RegExp(t))||[]).slice(1)}))}function l(e){return c(e,"^a=ssrc:([0-9]+) msid:([^\\s]+) ([^\\s]+)$")}function h(e){var t=a(c(e,"^a=msid:(.+) (.+)$")),i=n(t,2),r=i[0],o=i[1];return a(c(e,"^a=ssrc:(.+) cname:.+$")).map((function(e){return[e,r,o]}))}function f(e,t){var n=function(e){return new Set(a(c(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),i=function(e){return new Map(c(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map((function(e){return e.reverse()})))}(e);return function(e,t){return{planb:l,unified:h}[t](e)}(e,t).reduce((function(t,r){var o=r[0],a=r[1],s=r[2],c=t.get(s)||new u(s,a,function(e,t,n){var i="a=ssrc:"+t+" "+n+":(.+)";return e.match(new RegExp(i))[1]}(e,o,"cname")),l=i.get(o)||null;return c.addSSRC(o,l,n.has(o)),t.set(s,c)}),new Map)}e.exports=function(e,t,n){var i=f(e,t),o=Array.from(i.keys()),s=Array.from(n.keys()),u=r(o,s),c=r(s,o);a(u,(function(e){return i.get(e)})).forEach((function(e){e.addSimulcastSSRCs(),n.set(e.trackId,e)})),s=Array.from(n.keys());var l=r(s,c),h=a(l,(function(e){return n.get(e)})),d=!e.match(/a=rtpmap:[0-9]+ rtx/),p=a(h,(function(e){return e.toSdpLines(d)})),m=a(new Set(e.split("\r\n").concat(p))),v="a=x-google-flag:conference";return e.match(v)||m.push(v),m.join("\r\n")}})),o.register("5WF7N",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,e),Object.defineProperties(this,{_delay:{value:n,writable:!0},_fn:{value:t},_timeout:{value:null,writable:!0}}),r&&this.start()}return n(e,[{key:"setDelay",value:function(e){this._delay=e}},{key:"start",value:function(){var e=this;this.isSet||(this._timeout=setTimeout((function(){var t=e._fn;e.clear(),t()}),this._delay))}},{key:"clear",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"reset",value:function(){this.clear(),this.start()}},{key:"delay",get:function(){return this._delay}},{key:"isSet",get:function(){return!!this._timeout}}]),e}();e.exports=r})),o.register("6D3Hv",(function(e,n){var i,r,a,s,u,c,l,h,f,d;function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t(e.exports,"SignalingServerBusyError",(()=>a),(e=>a=e)),t(e.exports,"MediaClientLocalDescFailedError",(()=>c),(e=>c=e)),t(e.exports,"MediaConnectionError",(()=>u),(e=>u=e)),t(e.exports,"MediaDTLSTransportFailedError",(()=>d),(e=>d=e)),t(e.exports,"createTwilioError",(()=>h),(e=>h=e)),t(e.exports,"SignalingConnectionDisconnectedError",(()=>i),(e=>i=e)),t(e.exports,"MediaClientRemoteDescFailedError",(()=>l),(e=>l=e)),t(e.exports,"SignalingIncomingMessageInvalidError",(()=>s),(e=>s=e)),t(e.exports,"RoomCompletedError",(()=>f),(e=>f=e)),t(e.exports,"SignalingConnectionError",(()=>r),(e=>r=e));var g=o("4nKGW"),b={};h=function(e,t){return t="string"==typeof t&&t?t:"Unknown error",b[e="number"==typeof e?e:0]?new b[e]:new g(e,t)};var y=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20101,"Invalid Access Token"))}return v(t,e),t}(g);Object.defineProperty(b,20101,{value:y});var w=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20102,"Invalid Access Token header"))}return v(t,e),t}(g);Object.defineProperty(b,20102,{value:w});var _=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20103,"Invalid Access Token issuer/subject"))}return v(t,e),t}(g);Object.defineProperty(b,20103,{value:_});var k=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20104,"Access Token expired or expiration date invalid"))}return v(t,e),t}(g);Object.defineProperty(b,20104,{value:k});var S=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20105,"Access Token not yet valid"))}return v(t,e),t}(g);Object.defineProperty(b,20105,{value:S});var M=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20106,"Invalid Access Token grants"))}return v(t,e),t}(g);Object.defineProperty(b,20106,{value:M});var E=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,20107,"Invalid Access Token signature"))}return v(t,e),t}(g);Object.defineProperty(b,20107,{value:E});var C=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53e3,"Signaling connection error"))}return v(t,e),t}(g);r=C,Object.defineProperty(b,53e3,{value:C});var x=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53001,"Signaling connection disconnected"))}return v(t,e),t}(g);i=x,Object.defineProperty(b,53001,{value:x});var T=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53002,"Signaling connection timed out"))}return v(t,e),t}(g);Object.defineProperty(b,53002,{value:T});var I=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53003,"Client received an invalid signaling message"))}return v(t,e),t}(g);s=I,Object.defineProperty(b,53003,{value:I});var A=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53004,"Client sent an invalid signaling message"))}return v(t,e),t}(g);Object.defineProperty(b,53004,{value:A});var O=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53006,"Video server is busy"))}return v(t,e),t}(g);a=O,Object.defineProperty(b,53006,{value:O});var P=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53100,"Room name is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53100,{value:P});var R=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53101,"Room name is too long"))}return v(t,e),t}(g);Object.defineProperty(b,53101,{value:R});var D=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53102,"Room name contains invalid characters"))}return v(t,e),t}(g);Object.defineProperty(b,53102,{value:D});var j=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53103,"Unable to create Room"))}return v(t,e),t}(g);Object.defineProperty(b,53103,{value:j});var L=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53104,"Unable to connect to Room"))}return v(t,e),t}(g);Object.defineProperty(b,53104,{value:L});var N=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53105,"Room contains too many Participants"))}return v(t,e),t}(g);Object.defineProperty(b,53105,{value:N});var B=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53106,"Room not found"))}return v(t,e),t}(g);Object.defineProperty(b,53106,{value:B});var F=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53107,"MaxParticipants is out of range"))}return v(t,e),t}(g);Object.defineProperty(b,53107,{value:F});var U=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53108,"RoomType is not valid"))}return v(t,e),t}(g);Object.defineProperty(b,53108,{value:U});var z=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53109,"Timeout is out of range"))}return v(t,e),t}(g);Object.defineProperty(b,53109,{value:z});var q=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53110,"StatusCallbackMethod is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53110,{value:q});var H=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53111,"StatusCallback is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53111,{value:H});var V=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53112,"Status is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53112,{value:V});var W=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53113,"Room exists"))}return v(t,e),t}(g);Object.defineProperty(b,53113,{value:W});var K=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53114,"Room creation parameter(s) incompatible with the Room type"))}return v(t,e),t}(g);Object.defineProperty(b,53114,{value:K});var G=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53115,"MediaRegion is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53115,{value:G});var Y=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53116,"There are no media servers available in the MediaRegion"))}return v(t,e),t}(g);Object.defineProperty(b,53116,{value:Y});var Z=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53117,"The subscription operation requested is not supported for the Room type"))}return v(t,e),t}(g);Object.defineProperty(b,53117,{value:Z});var J=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53118,"Room completed"))}return v(t,e),t}(g);f=J,Object.defineProperty(b,53118,{value:J});var X=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53200,"Participant identity is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53200,{value:X});var $=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53201,"Participant identity is too long"))}return v(t,e),t}(g);Object.defineProperty(b,53201,{value:$});var Q=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53202,"Participant identity contains invalid characters"))}return v(t,e),t}(g);Object.defineProperty(b,53202,{value:Q});var ee=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53203,"Participant has too many Tracks"))}return v(t,e),t}(g);Object.defineProperty(b,53203,{value:ee});var te=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53204,"Participant not found"))}return v(t,e),t}(g);Object.defineProperty(b,53204,{value:te});var ne=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53205,"Participant disconnected because of duplicate identity"))}return v(t,e),t}(g);Object.defineProperty(b,53205,{value:ne});var ie=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53300,"Track is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53300,{value:ie});var re=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53301,"Track name is invalid"))}return v(t,e),t}(g);Object.defineProperty(b,53301,{value:re});var oe=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53302,"Track name is too long"))}return v(t,e),t}(g);Object.defineProperty(b,53302,{value:oe});var ae=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53303,"Track name contains invalid characters"))}return v(t,e),t}(g);Object.defineProperty(b,53303,{value:ae});var se=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53304,"Track name is duplicated"))}return v(t,e),t}(g);Object.defineProperty(b,53304,{value:se});var ue=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53305,"The server has reached capacity and cannot fulfill this request"))}return v(t,e),t}(g);Object.defineProperty(b,53305,{value:ue});var ce=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53400,"Client is unable to create or apply a local media description"))}return v(t,e),t}(g);c=ce,Object.defineProperty(b,53400,{value:ce});var le=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53401,"Server is unable to create or apply a local media description"))}return v(t,e),t}(g);Object.defineProperty(b,53401,{value:le});var he=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53402,"Client is unable to apply a remote media description"))}return v(t,e),t}(g);l=he,Object.defineProperty(b,53402,{value:he});var fe=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53403,"Server is unable to apply a remote media description"))}return v(t,e),t}(g);Object.defineProperty(b,53403,{value:fe});var de=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53404,"No supported codec"))}return v(t,e),t}(g);Object.defineProperty(b,53404,{value:de});var pe=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53405,"Media connection failed or Media activity ceased"))}return v(t,e),t}(g);u=pe,Object.defineProperty(b,53405,{value:pe});var me=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53407,"Media connection failed due to DTLS handshake failure"))}return v(t,e),t}(g);d=me,Object.defineProperty(b,53407,{value:me});var ve=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53500,"Unable to acquire configuration"))}return v(t,e),t}(g);Object.defineProperty(b,53500,{value:ve});var ge=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,53501,"Unable to acquire TURN credentials"))}return v(t,e),t}(g);Object.defineProperty(b,53501,{value:ge})})),o.register("4nKGW",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(e){var n;r(this,t);var a=[].slice.call(arguments,1),s=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i(a)))),u=Error.apply(s,a);return u.name="TwilioError",Object.defineProperty(s,"code",{value:e,enumerable:!0}),Object.getOwnPropertyNames(u).forEach((function(e){Object.defineProperty(this,e,{value:u[e],enumerable:!0})}),s),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),n(t,[{key:"toString",value:function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e}}]),t}();e.exports=a})),o.register("4gLFr",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("6nrmT"),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_filter:{value:new i({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return n(e,[{key:"setUfrag",value:function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]}},{key:"update",value:function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]}}]),e}();e.exports=r})),o.register("6nrmT",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},t),Object.defineProperties(this,{_getKey:{value:t.getKey},_getValue:{value:t.getValue},_isLessThanOrEqualTo:{value:t.isLessThanOrEqualTo},_map:{value:new Map}})}return n(e,[{key:"toMap",value:function(){return new Map(this._map)}},{key:"updateAndFilter",value:function(e){return e.filter(this.update,this)}},{key:"update",value:function(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)}}]),e}();e.exports=i})),o.register("5njfX",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("72UdZ"),r=i.ICE_ACTIVITY_CHECK_PERIOD_MS,a=i.ICE_INACTIVITY_THRESHOLD_MS,s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=Object.assign({activityCheckPeriodMs:r,inactivityThresholdMs:a},n),Object.defineProperties(this,{_activityCheckPeriodMs:{value:n.activityCheckPeriodMs},_inactivityThresholdMs:{value:n.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:t},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return n(e,[{key:"_getActivePairStat",value:function(e){var t=Array.from(e.values());return t.find((function(e){return"inbound-rtp"===e.type}))?t.find((function(e){return"candidate-pair"===e.type&&e.nominated}))||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}:null}},{key:"_getIceConnectionStats",value:function(){var e=this;return this._peerConnection.getStats().then((function(t){return e._getActivePairStat(t)})).catch((function(){return null}))}},{key:"_scheduleInactivityCallback",value:function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)}},{key:"start",value:function(e){var t=this;this.stop(),this._timer=setInterval((function(){t._getIceConnectionStats().then((function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))}))}),this._activityCheckPeriodMs)}},{key:"stop",value:function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)}}]),e}();e.exports=s})),o.register("2suVg",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=o("74d2M"),a=o("70ccV"),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.label,e.maxPacketLifeTime,e.maxRetransmits,e.ordered));return Object.defineProperties(n,{_dataChannel:{value:e}}),e.binaryType="arraybuffer",e.addEventListener("message",(function(e){n.emit("message",e.data)})),e.addEventListener("close",(function(){n.emit("close")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"stop",value:function(){this._dataChannel.close(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this)}},{key:"toDataTransport",value:function(){return new a(this._dataChannel)}}]),t}(r);e.exports=s})),o.register("70ccV",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(n,{_dataChannel:{value:e},_messageQueue:{value:[]}}),e.addEventListener("open",(function(){n._messageQueue.splice(0).forEach((function(e){return n._publish(e)}))})),e.addEventListener("message",(function(e){var t=e.data;try{var i=JSON.parse(t);n.emit("message",i)}catch(e){}})),n.publish({type:"ready"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_publish",value:function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(e){}}},{key:"publish",value:function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("1AybR",(function(e,t){"use strict";var n=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("4o7vs"));e.exports=n})),o.register("56JJ3",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("6xYCf").EventEmitter,a=o("2S2q7"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=null,a=e;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(r,{_lock:{get:function(){return o},set:function(e){o=e}},_reachableStates:{value:(i=n,Array.from(i.keys()).reduce((function(e,t){return e.set(t,c(i,t))}),new Map))},_state:{get:function(){return a},set:function(e){a=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==o}},state:{enumerable:!0,get:function(){return a}}}),r.on("stateChanged",(function(e){r._whenDeferreds.forEach((function(t){t.when(e,t.resolve,t.reject)}))})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_whenPromise",value:function(e){var t=this;if("function"!=typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=a.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then((function(e){return t._whenDeferreds.delete(n),e}),(function(e){throw t._whenDeferreds.delete(n),e}))}},{key:"bracket",value:function(e,t){var n=void 0,i=this;function r(e){if(i.hasLock(n)&&i.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then((function(e){return t(n=e)})).then((function(e){return r(),e}),r)}},{key:"hasLock",value:function(e){return this._lock===e}},{key:"preempt",value:function(e,t,n){if(!u(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var i=void 0;this.isLocked&&(i=this._lock,this._lock=null);var r=null;t&&(r=this.takeLockSync(t));var o=r?null:this.takeLockSync("preemption");return this.transition(e,r||o,n),i&&i.resolve(),o&&this.releaseLock(o),r}},{key:"releaseLock",value:function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--}},{key:"releaseLockCompletely",value:function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()}},{key:"takeLock",value:function(e){var t=this;if("object"===(void 0===e?"undefined":n(e))){var i=e;return new Promise((function(e){e(t.takeLockSync(i))}))}var r=e;if(this.isLocked){var o=this.takeLock.bind(this,r);return this._lock.promise.then(o)}return Promise.resolve(this.takeLockSync(r))}},{key:"takeLockSync",value:function(e){var t="string"==typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var i=function(e){var t=a.defer();return t.name=e,t.depth=0,t}(n);return this._lock=i,i}},{key:"transition",value:function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!u(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(["stateChanged",e].concat(n)))}},{key:"tryTransition",value:function(e,t,n){try{this.transition(e,t,n)}catch(e){return!1}return!0}},{key:"when",value:function(e){var t=this;return this.state===e?Promise.resolve(this):u(this._reachableStates,this.state,e)?this._whenPromise((function(n,i,r){n===e?i(t):u(t._reachableStates,n,e)||r(l(n,e))})):Promise.reject(l(this.state,e))}}]),t}(r);function u(e,t,n){return e.get(t).has(n)}function c(e,t,n){return n=n||new Set,e.get(t).forEach((function(t){n.has(t)||(n.add(t),c(e,t,n).forEach(n.add,n))})),n}function l(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=s})),o.register("01c5F",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"match",value:function(e){return e.track.id}},{key:"update",value:function(){}}]),e}();e.exports=i})),o.register("5nLUc",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2S2q7"),r=o("60VD0").getMediaSections;function a(){return{matched:new Set,unmatched:new Set}}var s=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(this instanceof e))return new e;Object.defineProperties(this,{audio:{enumerable:!0,value:a()},video:{enumerable:!0,value:a()}})}return n(e,[{key:"match",value:function(e){return function(e){var t=Array.from(e.unmatched);if(!t.length)return null;var n=t[0];return e.matched.add(n),e.unmatched.delete(n),n}(this[e.track.kind])}},{key:"update",value:function(e){["audio","video"].forEach((function(t){var n,o;n=this[t],o=function(e,t){var n=r(t,e),o="msid: ?(.+) +(.+) ?$";return new Set(i.flatMap(n,(function(e){return e.match(new RegExp(o,"mg"))||[]})).map((function(e){return e.match(new RegExp(o))[2]})))}(t,e),o=new Set(o),i.difference(n.matched,o).forEach(n.matched.delete,n.matched),n.unmatched=i.difference(o,n.matched)}),this)}}]),e}();e.exports=s})),o.register("1Q8kx",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("60VD0").getMediaSections,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return n(e,[{key:"match",value:function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null}},{key:"update",value:function(e){var t=i(e,"(audio|video)");this._midsToTrackIds=t.reduce((function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],i=t.match(/^a=msid:.+ (.+)$/m)||[],r=n[1],o=i[1];return r&&o?e.set(r,o):e}),this._midsToTrackIds)}}]),e}();e.exports=r})),o.register("79cTh",(function(e,t){"use strict";var n=o("3bRT0").RTCSessionDescription,i=o("60VD0").createPtToCodecName,r=o("60VD0").getMediaSections;function a(e){var t=i(e);e=function(e,t){return Array.from(t.keys()).reduce((function(e,n){var i=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(i)||[]).slice("rtx"===t.get(n)?1:0).reduce((function(e,t){var i=new RegExp("\r\n"+t),r=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(i,"").replace(r,"")}),e)}),e)}(e,t);var n=function(e){var t=new Map;return e.forEach((function(e,n){var i=t.get(e)||new Set;return t.set(e,i.add(n))})),t}(t),r=n.get("rtx")||new Set,o=new Set,a=function(e,t){var n=Array.from(e).reduce((function(e,t){var n=t[0],i=t[1],r=e.get(i)||new Set;return e.set(i,r.add(n))}),new Map);return Array.from(n).reduce((function(e,n){var i=n[0],r=Array.from(n[1]);return r.length>1?(r.forEach((function(e){t.add(e)})),e):e.set(i,r[0])}),new Map)}(function(e,t,n,i){return Array.from(n).reduce((function(n,r){var o=new RegExp("a=fmtp:"+r+" apt=(\\d+)"),a=e.match(o);if(!a)return i.add(r),n;var s=Number.parseInt(a[1]);return t.has(s)?"rtx"===t.get(s)?(i.add(r),n):n.set(r,s):(i.add(r),n)}),new Map)}(e,t,r,o),o),u=Array.from(o);return["h264","vp8","vp9"].reduce((function(e,t){var i=n.get(t)||new Set;return Array.from(i).reduce((function(e,t){return a.has(t)?e:e.add(t)}),e)}),new Set).forEach((function(t){if(u.length){var n=u.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=s(e,n),n,t)}})),u.forEach((function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=s(e,t),t)})),e}function s(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t,i,o={type:e.type};return"rollback"!==e.type&&(o.sdp=(t=e.sdp,i=r(t),[t.split("\r\nm=")[0]].concat(i.map(a)).join("\r\n"))),new n(o)}})),o.register("1b3aJ",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_queuedEvents:{value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"dequeue",value:function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach((function(e,t){n=this.dequeue(t)&&n}),this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce((function(n,r){return t.emit.apply(t,i([e].concat(r)))&&n}),n)}},{key:"queue",value:function(){var e=[].slice.call(arguments);if(this.emit.apply(this,i(e)))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1}}]),t}(o("6xYCf").EventEmitter);e.exports=r})),o.register("3Do6d",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var a=o("6pFSa"),s=o("1ZkA3"),u=o("2DSBI"),c=o("7d3sz"),l=o("3tUyT"),h=o("dR0Yn"),f=o("35GjY"),d=o("5iMC9"),p=o("1yUDr"),m=o("2S2q7"),v=m.constants.DEFAULT_SESSION_TIMEOUT_SEC,g=m.createBandwidthProfilePayload,b=m.defer,y=m.filterObject,w=m.flatMap,_=m.oncePerTick,k=o("6D3Hv").createTwilioError,S=function(e){function t(e,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.options=Object.assign({session_timeout:v},n.options),o=Object.assign({DominantSpeakerSignaling:a,NetworkQualityMonitor:s,NetworkQualitySignaling:u,RecordingSignaling:c,RemoteParticipantV2:h,TrackPrioritySignaling:d,TrackSwitchOffSignaling:p,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:1e4},o),e.setBandwidthProfile(o.bandwidthProfile),r.setIceReconnectTimeout(o.sessionTimeout);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.sid,n.name,o));return Object.defineProperties(l,{_dominantSpeakerSignaling:{value:null,writable:!0},_DominantSpeakerSignaling:{value:o.DominantSpeakerSignaling},_dominantSpeakerSignalingPromise:{value:null,writable:!0},_disconnectedParticipantSids:{value:new Set},_NetworkQualityMonitor:{value:o.NetworkQualityMonitor},_NetworkQualitySignaling:{value:o.NetworkQualitySignaling},_lastBandwidthProfileRevision:{value:e.bandwidthProfileRevision,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityMonitorPromise:{value:null,writable:!0},_networkQualityConfiguration:{value:e.networkQualityConfiguration},_peerConnectionManager:{value:r},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:o.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_trackPriorityPromise:{value:null,writable:!0},_trackPrioritySignaling:{value:null,writable:!0},_trackSwitchOffPromise:{value:null,writable:!0},_trackSwitchOffSignaling:{value:null,writable:!0},_TrackPrioritySignaling:{value:o.TrackPrioritySignaling},_TrackSwitchOffSignaling:{value:o.TrackSwitchOffSignaling},_transport:{value:i},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),function(e,t){var n=_((function(){e._publishNewLocalParticipantState()})),i=_((function(){var n=w(t.tracks,(function(e){return e.trackTransceiver}));e._peerConnectionManager.setTrackSenders(n)}));t.on("trackAdded",i),t.on("trackRemoved",i),t.on("updated",n),e.on("stateChanged",(function r(o){"disconnected"===o&&(t.removeListener("trackAdded",i),t.removeListener("trackRemoved",i),t.removeListener("updated",n),e.removeListener("stateChanged",r),t.disconnect())})),e.on("signalingConnectionStateChanged",(function(){var t=e.localParticipant,n=e.signalingConnectionState,i=t.identity,r=t.sid;switch(n){case"connected":t.connect(r,i);break;case"reconnecting":t.reconnecting()}}))}(l,e),function(e,t){t.on("description",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("description"),t.on("candidates",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",(function(){e.emit("connectionStateChanged")})),t.on("iceConnectionStateChanged",(function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach((function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)})))}))}(l,r),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",(function n(i,r){"disconnected"===i&&("disconnected"!==e.state&&e._disconnect(r),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")}))}(l,i),function(e,t,n){var i=!1,r=setInterval((function(){e.getStats().then((function(e){i=!i,e.forEach((function(e,n){var r=new f(n,e,!0);if(t.publishEvent("quality","stats-report",{audioTrackStats:r.remoteAudioTrackStats,localAudioTrackStats:r.localAudioTrackStats,localVideoTrackStats:r.localVideoTrackStats,peerConnectionId:r.peerConnectionId,videoTrackStats:r.remoteVideoTrackStats}),i){var o=function(e,t){return(e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},y(e||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",relayProtocol:"udp",url:""},y(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},y(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,r.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair",o)}}))}),(function(){}))}),n);e.on("stateChanged",(function t(n){"disconnected"===n&&(clearInterval(r),e.removeListener("stateChanged",t))}))}(l,i,o.statsPublishIntervalMs),l._update(n),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_deleteTrackReceiverDeferred",value:function(e){return this._trackReceiverDeferreds.delete(e)}},{key:"_getOrCreateTrackReceiverDeferred",value:function(e){var t=this._trackReceiverDeferreds.get(e)||b(),n=this._peerConnectionManager.getTrackReceivers().find((function(t){return t.id===e&&"ended"!==t.readyState}));return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t}},{key:"_addTrackReceiver",value:function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this}},{key:"_disconnect",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_disconnect",this).call(this,e);return n&&(this._teardownDominantSpeakerSignaling(),this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach((function(t){t.publishFailed(e||new Error("LocalParticipant disconnected"))})),n}},{key:"_getTrackReceiver",value:function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then((function(n){return t._deleteTrackReceiverDeferred(e),n}))}},{key:"_getTrackSidsToTrackSignalings",value:function(){var e=w(this.participants,(function(e){return Array.from(e.tracks)}));return new Map(e)}},{key:"_getOrCreateRemoteParticipant",value:function(e){var t=this._RemoteParticipantV2,n=this.participants.get(e.sid),i=this;return n||((n=new t(e,this._getTrackReceiver.bind(this))).on("stateChanged",(function e(t){"disconnected"===t&&(n.removeListener("stateChanged",e),i.participants.delete(n.sid),i._disconnectedParticipantSids.add(n.sid))})),this.connectParticipant(n),n.setTrackPrioritySignaling(this._trackPrioritySignaling)),n}},{key:"_getState",value:function(){return{participant:this.localParticipant.getState()}}},{key:"_maybeAddBandwidthProfile",value:function(e){var t=this.localParticipant,n=t.bandwidthProfile,i=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<i?(this._lastBandwidthProfileRevision=i,Object.assign({bandwidth_profile:g(n)},e)):e}},{key:"_publishNewLocalParticipantState",value:function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))}},{key:"_publishPeerConnectionState",value:function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))}},{key:"_update",value:function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach((function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)}));var n=new Set(e.subscribed.tracks.filter((function(e){return!!e.id})).map((function(e){return e.sid})));this._subscribed.forEach((function(e,i){n.has(i)||t._subscribed.delete(i)}))}var i,r,o=new Set;return(e.participants||[]).forEach((function(e){if(e.sid!==t.localParticipant.sid&&!t._disconnectedParticipantSids.has(e.sid)){var n=t._getOrCreateRemoteParticipant(e);n.update(e),o.add(n)}})),"synced"===e.type&&this.participants.forEach((function(e){o.has(e)||e.disconnect()})),r=(i=this)._getTrackSidsToTrackSignalings(),i._subscriptionFailures.forEach((function(e,t){var n=r.get(t);n&&(i._subscriptionFailures.delete(t),n.subscribeFailed(k(e.code,e.message)))})),r.forEach((function(e){var t=i._subscribed.get(e.sid);(!t||e.isSubscribed&&e.trackTransceiver.id!==t)&&e.setTrackTransceiver(null),t&&i._getTrackReceiver(t).then((function(t){return e.setTrackTransceiver(t)}))})),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach((function(e){e.sid&&t._published.set(e.id,e.sid)})),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),!this._dominantSpeakerSignalingPromise&&e.media_signaling&&e.media_signaling.active_speaker&&e.media_signaling.active_speaker.transport&&"data-channel"===e.media_signaling.active_speaker.transport.type&&this._setupDataTransportBackedDominantSpeakerSignaling(e.media_signaling.active_speaker.transport.label),!this._networkQualityMonitorPromise&&e.media_signaling&&e.media_signaling.network_quality&&e.media_signaling.network_quality.transport&&"data-channel"===e.media_signaling.network_quality.transport.type&&this._setupDataTransportBackedNetworkQualityMonitor(e.media_signaling.network_quality.transport.label),!this._trackPriorityPromise&&e.media_signaling&&e.media_signaling.track_priority&&e.media_signaling.track_priority.transport&&"data-channel"===e.media_signaling.track_priority.transport.type&&this._setupTrackPrioritySignaling(e.media_signaling.track_priority.transport.label),!this._trackSwitchOffPromise&&e.media_signaling&&e.media_signaling.track_switch_off&&e.media_signaling.track_switch_off.transport&&"data-channel"===e.media_signaling.track_switch_off.transport.type&&this._setupTrackSwitchOffMonitor(e.media_signaling.track_switch_off.transport.label),this}},{key:"_setupTrackPrioritySignaling",value:function(e){var t=this;this._teardownTrackPrioritySignaling();var n=this._getTrackReceiver(e).then((function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");t._trackPriorityPromise===n&&(e.once("close",(function(){return t._teardownTrackPrioritySignaling()})),t._trackPrioritySignaling=new t._TrackPrioritySignaling(e.toDataTransport()),[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.participants.values())).forEach((function(e){e.setTrackPrioritySignaling(t._trackPrioritySignaling)})))}));this._trackPriorityPromise=n}},{key:"_setupTrackSwitchOff",value:function(e){var t=this;this._trackSwitchOffSignaling=e,e.on("updated",(function(e,n){t.participants.forEach((function(t){t.tracks.forEach((function(t){e.includes(t.sid)&&t.setSwitchedOff(!0),n.includes(t.sid)&&t.setSwitchedOff(!1)}))}))}))}},{key:"_setupTrackSwitchOffMonitor",value:function(e){var t=this;this._teardownTrackSwitchOff();var n=this._getTrackReceiver(e).then((function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._trackSwitchOffPromise===n){e.once("close",(function(){return t._teardownTrackSwitchOff()}));var i=new t._TrackSwitchOffSignaling(e.toDataTransport());t._setupTrackSwitchOff(i)}}));this._trackSwitchOffPromise=n}},{key:"_setupDataTransportBackedDominantSpeakerSignaling",value:function(e){var t=this;this._teardownDominantSpeakerSignaling();var n=this._getTrackReceiver(e).then((function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._dominantSpeakerSignalingPromise===n){e.once("close",(function(){return t._teardownDominantSpeakerSignaling()}));var i=new t._DominantSpeakerSignaling(e.toDataTransport());t._setDominantSpeakerSignaling(i)}}));this._dominantSpeakerSignalingPromise=n}},{key:"_setupDataTransportBackedNetworkQualityMonitor",value:function(e){var t=this,n=this;this._teardownNetworkQualityMonitor();var i=this._getTrackReceiver(e).then((function(e){if("data"!==e.kind)throw new Error("Expected a DataTrackReceiver");if(t._networkQualityMonitorPromise===i){e.once("close",(function(){return t._teardownNetworkQualityMonitor()}));var r=new t._NetworkQualitySignaling(e.toDataTransport(),n._networkQualityConfiguration),o=new t._NetworkQualityMonitor(t._peerConnectionManager,r);t._setNetworkQualityMonitor(o)}}));this._networkQualityMonitorPromise=i}},{key:"_setDominantSpeakerSignaling",value:function(e){var t=this;this._dominantSpeakerSignaling=e,e.on("updated",(function(){return t.setDominantSpeaker(e.loudestParticipantSid)}))}},{key:"_setNetworkQualityMonitor",value:function(e){var t=this;this._networkQualityMonitor=e,e.on("updated",(function(){"failed"!==t.iceConnectionState&&(t.localParticipant.setNetworkQualityLevel(e.level,e.levels),t.participants.forEach((function(t){var n=e.remoteLevels.get(t.sid);n&&t.setNetworkQualityLevel(n.level,n)})))})),e.start()}},{key:"_teardownDominantSpeakerSignaling",value:function(){this._dominantSpeakerSignalingPromise=null,this._dominantSpeakerSignaling=null}},{key:"_teardownNetworkQualityMonitor",value:function(){this._networkQualityMonitorPromise=null,this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)}},{key:"_teardownTrackPrioritySignaling",value:function(){this._trackPrioritySignaling=null,this._trackPriorityPromise=null,this.localParticipant.setTrackPrioritySignaling(null),this.participants.forEach((function(e){e.setTrackPrioritySignaling(null)}))}},{key:"_teardownTrackSwitchOff",value:function(){this._trackSwitchOffSignaling=null,this._trackSwitchOffPromise=null}},{key:"getStats",value:function(){var e=this;return this._peerConnectionManager.getStats().then((function(t){return new Map(Array.from(t).map((function(t){var i=n(t,2),r=i[0],o=i[1];return[r,Object.assign({},o,{localAudioTrackStats:E(e,o.localAudioTrackStats),localVideoTrackStats:E(e,o.localVideoTrackStats),remoteAudioTrackStats:C(e,o.remoteAudioTrackStats),remoteVideoTrackStats:C(e,o.remoteVideoTrackStats)})]})))}))}},{key:"connectionState",get:function(){return this._peerConnectionManager.connectionState}},{key:"signalingConnectionState",get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state}},{key:"iceConnectionState",get:function(){return this._peerConnectionManager.iceConnectionState}}]),t}(l);function M(e,t){return t.reduce((function(t,n){var i=e.get(n.trackId);return i?[Object.assign({},n,{trackSid:i})].concat(t):t}),[])}function E(e,t){return M(e._published,t)}function C(e,t){return M(new Map(Array.from(e._subscribed.entries()).map((function(e){var t=n(e,2),i=t[0];return[t[1],i]}))),t)}e.exports=S})),o.register("6pFSa",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(n,{_loudestParticipantSid:{value:null,writable:!0}}),e.on("message",(function(e){switch(e.type){case"active_speaker":n._setLoudestParticipantSid(e.participant)}})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_setLoudestParticipantSid",value:function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))}},{key:"loudestParticipantSid",get:function(){return this._loudestParticipantSid}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("1ZkA3",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("6xYCf"),a=o("01hBv"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(i,{_factories:{value:new WeakMap},_manager:{value:e},_signaling:{value:n}}),n.on("updated",(function(){return i.emit("updated")})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(){var e=this;this.stop();var t=setTimeout((function(){var i,r;e._timeout===t&&(i=e,r=(i._manager._peerConnections?Array.from(i._manager._peerConnections.values()):[]).map((function(e){return e._peerConnection})).filter((function(e){return"closed"!==e.signalingState})).map((function(e){if(i._factories.has(e))return i._factories.get(e);var t=new a(e);return i._factories.set(e,t),t})).map((function(e){return e.next().catch((function(){return null}))})),Promise.all(r).then((function(e){return e.filter((function(e){return e})).map((function(e){return e.summarize()}))}))).then((function(i){if(e._timeout===t){if(i.length){var r=n(i,1)[0];e._signaling.put(r)}e.start()}}))}),200);this._timeout=t}},{key:"stop",value:function(){clearTimeout(this._timeout),this._timeout=null}},{key:"level",get:function(){return this._signaling.level}},{key:"levels",get:function(){return this._signaling.levels}},{key:"remoteLevels",get:function(){return this._signaling.remoteLevels}}]),t}(r);e.exports=s})),o.register("01hBv",(function(e,t){"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=o("6YI9h").guessBrowser,s=o("2lL27"),u=o("NHPvV"),c=o("6bM2x"),l=o("1bmuu"),h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{pc:{enumerable:!0,value:t},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return i(e,[{key:"next",value:function(){var e,t,i,o=this;return("firefox"===a()?(t=(e=this).pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track})).map((function(e){return e.sender})),i=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/recv/)})).map((function(e){return e.receiver})),Promise.all([f(t),f(i),e.pc.getStats()]).then((function(t){var i=n(t,3),r=i[0],o=i[1],a=i[2],s=p(e),u=b(e);r.forEach((function(t,n){return w(e,t,u,n)})),k(s,u);var c=m(e),l=y(e);o.forEach((function(t,n){return _(e,t,l,n)})),k(c,l),S(e.ice,a)}))):function(e){return e.pc.getStats().then((function(t){var n=p(e),i=b(e);w(e,t,i),k(n,i);var r=m(e),o=y(e);_(e,t,o),k(r,o),S(e.ice,t)}))}(this)).then((function(){var e=[].concat(r(o.audio.send.values())),t=[].concat(r(o.video.send.values())),n=[].concat(r(o.audio.recv.values())),i=[].concat(r(o.video.recv.values())),a=new u(o.ice.lastReport,{send:e.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:n.map((function(e){return e.lastReport})).filter((function(e){return e}))},{send:t.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:i.map((function(e){return e.lastReport})).filter((function(e){return e}))});return o.lastReport=a,a}))}}]),e}();function f(e){return Promise.all(e.map((function(e){var t=e.track.id;return e.getStats().then((function(e){var n=!0,i=!1,r=void 0;try{for(var o,a=e.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"inbound-rtp"===s.type&&(s.id=t+"-"+s.id)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return[t,e]}))}))).then((function(e){return new Map(e)}))}function d(e,t,n,i,r){var o=t[i.mediaType];if(!r){var a=n.get(i.trackId);a&&(r=a.trackIdentifier)}if(o&&r){if(o.has(i.id))return o.get(i.id);var s=new e(r,i);o.set(i.id,s)}return null}function p(e){return{audio:e.audio.send,video:e.video.send}}function m(e){return{audio:e.audio.recv,video:e.video.recv}}function v(e,t,n,i){return d(l,p(e),t,n,i)}function g(e,t,n,i){return d(c,m(e),t,n,i)}function b(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function y(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function w(e,t,n,i){var r=!0,o=!1,s=void 0;try{for(var u,c=t.values()[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;if("outbound-rtp"===l.type&&!l.isRemote){if("firefox"!==a()&&!l.trackId)continue;var h=n[l.mediaType];h&&h.delete(l.id);var f=v(e,t,l,i);if(f){var d=t.get(l.remoteId);f.next(i||f.trackId,l,d)}}}}catch(e){o=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw s}}}function _(e,t,n,i){var r=!0,o=!1,a=void 0;try{for(var s,u=t.values()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if("inbound-rtp"===c.type&&!c.isRemote){var l=n[c.mediaType];l&&l.delete(c.id);var h=g(e,t,c,i);h&&h.next(i||h.trackId,c)}}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}}function k(e,t){var n=function(n){var i=e[n];t[n].forEach((function(e){return i.delete(e)}))};for(var i in t)n(i)}function S(e,t){var n=void 0,i=!0,r=!1,o=void 0;try{for(var a,s=t.values()[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=a.value;"transport"===u.type&&(n=t.get(u.selectedCandidatePairId))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}if(n)e.next(n);else{var c=!0,l=!1,h=void 0;try{for(var f,d=t.values()[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;"candidate-pair"!==p.type||!p.nominated||"selected"in p&&!p.selected||e.next(p)}}catch(e){l=!0,h=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw h}}}}e.exports=h})),o.register("2lL27",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2KGnJ"),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{lastReport:{enumerable:!0,value:new i(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return n(e,[{key:"next",value:function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?i.of(t,e):new i(0,0);this.lastReport=n}return this.lastReport}}]),e}();e.exports=r})),o.register("2KGnJ",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{availableSend:{enumerable:!0,value:i},recv:{enumerable:!0,value:n},rtt:{enumerable:!0,value:r},send:{enumerable:!0,value:t}})}return n(e,null,[{key:"of",value:function(t,n){var i=(n.timestamp-t.timestamp)/1e3,r=n.bytesSent-t.bytesSent,o=n.bytesReceived-t.bytesReceived;return new e(i>0?r/i*8:0,i>0?o/i*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)}}]),e}();e.exports=i})),o.register("NHPvV",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("3XVil"),r=o("6bW1m"),a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{ice:{enumerable:!0,value:t},audio:{enumerable:!0,value:n},video:{enumerable:!0,value:i}})}return n(e,[{key:"summarize",value:function(){var e=this.audio.send.concat(this.video.send),t=r.summarize(e),n=this.audio.recv.concat(this.video.recv),o=i.summarize(n);return{ice:this.ice,send:t,recv:o,audio:{send:r.summarize(this.audio.send),recv:i.summarize(this.audio.recv)},video:{send:r.summarize(this.video.send),recv:i.summarize(this.video.recv)}}}}]),e}();e.exports=a})),o.register("3XVil",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("43zFT"),r=o("2HOd6"),a=o("t9KGZ"),s=function(e){function t(e,n,i,r,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i)),c=o>0?r/o:0;return Object.defineProperties(u,{deltaPacketsLost:{enumerable:!0,value:r},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:a},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:c}}),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"summarize",value:function(){return{bitrate:this.bitrate,fractionLost:"number"==typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}}}],[{key:"of",value:function(e,n,i){if(n.id!==i.id)throw new Error("RTCStats IDs must match");var r=(i.timestamp-n.timestamp)/1e3,o=i.bytesReceived-n.bytesReceived,a=r>0?o/r*8:0,s=Math.max(i.packetsLost-n.packetsLost,0),u=i.packetsReceived-n.packetsReceived,c=i.fractionLost,l=i.jitter;return new t(n.id,e,a,s,u,c,l)}},{key:"summarize",value:function(e){var t=e.map((function(e){return e.summarize()}));return{bitrate:a(t.map((function(e){return e.bitrate}))),fractionLost:i(t.map((function(e){return e.fractionLost}))),jitter:i(t.map((function(e){return e.jitter})))}}}]),t}(r);e.exports=s})),o.register("43zFT",(function(e,t){"use strict";e.exports=function(e){return(e=e.filter((function(e){return"number"==typeof e}))).length<1?void 0:e.reduce((function(e,t){return t+e}))/e.length}})),o.register("2HOd6",(function(e,t){"use strict";e.exports=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{id:{enumerable:!0,value:t},trackId:{enumerable:!0,value:n},bitrate:{enumerable:!0,value:i}})}})),o.register("t9KGZ",(function(e,t){"use strict";e.exports=function(e){return e.reduce((function(e,t){return"number"==typeof t?t+e:e}),0)}})),o.register("6bW1m",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("43zFT"),r=o("2HOd6"),a=o("t9KGZ"),s=function(e){function t(e,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return Object.defineProperties(o,{rtt:{enumerable:!0,value:r}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"of",value:function(e,n,i,r){if(n.id!==i.id)throw new Error("RTCStats IDs must match");var o=(i.timestamp-n.timestamp)/1e3,a=i.bytesSent-n.bytesSent,s=o>0?a/o*8:0,u=r&&"number"==typeof r.roundTripTime?r.roundTripTime/1e3:void 0;return new t(n.id,e,s,u)}},{key:"summarize",value:function(e){return{bitrate:a(e.map((function(e){return e.bitrate}))),rtt:i(e.map((function(e){return e.rtt})))}}}]),t}(r);e.exports=s})),o.register("6bM2x",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("3XVil"),r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,e,n));return Object.defineProperties(i,{lastReport:{enumerable:!0,value:null,writable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"next",value:function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=i.of(e,n,t);return this.lastReport=r,r}}]),t}(o("2Pmm6"));e.exports=r})),o.register("2Pmm6",(function(e,t){"use strict";e.exports=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{id:{enumerable:!0,value:t,writable:!0},trackId:{enumerable:!0,value:n,writable:!0},lastStats:{enumerable:!0,value:i,writable:!0}})}})),o.register("1bmuu",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2Pmm6"),r=o("6bW1m"),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.id,e,n));return Object.defineProperties(i,{lastReport:{enumerable:!0,value:null,writable:!0}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"next",value:function(e,t,n){var i=this.lastStats;this.lastStats=t,this.trackId=e;var o=r.of(e,i,t,n);return this.lastReport=o,o}}]),t}(i);e.exports=a})),o.register("2DSBI",(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("6xYCf").EventEmitter,a=o("3VTMA"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_mediaSignalingTransport:{value:e},_networkQualityInputs:{value:new a},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),e.on("message",(function(e){switch(e.type){case"network_quality":i._handleNetworkQualityMessage(e)}})),i._sendNetworkQualityInputs(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_handleNetworkQualityMessage",value:function(e){var t=this,i=!1,r=null,o=e?e.local:null;"number"==typeof o?(r=o,this._levels=null):"object"===(void 0===o?"undefined":n(o))&&o&&(this._levels=o,r="number"==typeof o.level?o.level:Math.min(o.audio.send,o.audio.recv,o.video.send,o.video.recv)),null!==r&&this.level!==r&&(this._level=r,i=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce((function(e,n){return(t._remoteLevels.get(n.sid)||{}).level!==n.level&&(i=!0),e.set(n.sid,n)}),new Map):this._remoteLevels,i&&this.emit("updated"),setTimeout((function(){return t._sendNetworkQualityInputs()}),1e3)}},{key:"_sendNetworkQualityInputs",value:function(){var e=this;return this._networkQualityInputs.take().then((function(t){e._mediaSignalingTransport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))}))}},{key:"put",value:function(e){this._networkQualityInputs.put(e)}},{key:"level",get:function(){return this._level}},{key:"levels",get:function(){return this._levels}},{key:"remoteLevels",get:function(){return this._remoteLevels}}]),t}(r);e.exports=s})),o.register("3VTMA",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("2S2q7").defer,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return n(e,[{key:"put",value:function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this}},{key:"take",value:function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=i();return this._deferreds.push(t),t.promise.then((function(t){return e._hasValue=!1,t}))}}]),e}();e.exports=r})),o.register("7d3sz",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_revision:{value:1,writable:!0}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"update",value:function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.enabled))}}]),t}(o("1Kxe7"));e.exports=i})),o.register("1Kxe7",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("3tUyT",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("1Kxe7"),r=o("56JJ3"),a=o("5WF7N"),s=o("6D3Hv"),u=s.MediaConnectionError,c=s.MediaDTLSTransportFailedError,l=s.SignalingConnectionDisconnectedError,h={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},f=function(e){function t(e,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=Object.assign({RecordingSignaling:i,Timeout:a},o);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connected",h)),u=o.RecordingSignaling,l=new o.Timeout((function(){s._disconnect(s._reconnectingError)}),o.sessionTimeout,!1);return Object.defineProperties(s,{_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:o},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:l},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new u},sid:{enumerable:!0,value:n}}),s.on("connectionStateChanged",(function(){"failed"!==s.connectionState||["disconnected","failed"].includes(s.iceConnectionState)||s._disconnect(new c)})),s.on("iceConnectionStateChanged",(function(){return d(s)})),s.on("signalingConnectionStateChanged",(function(){return d(s)})),setTimeout((function(){return d(s)})),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_disconnect",value:function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)}},{key:"connectParticipant",value:function(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",(function n(i){"disconnected"===i&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))})),this.emit("participantConnected",e),!0))}},{key:"disconnect",value:function(){return this._disconnect()}},{key:"setDominantSpeaker",value:function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")}}]),t}(r);function d(e){if("disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState){var t=void 0;"reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new l:new u,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))}else e._sessionTimeout.clear()}e.exports=f})),o.register("dR0Yn",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var r=o("1stCY"),a=o("6XpY5"),s=function(e){function t(e,n,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.sid,e.identity));return r=Object.assign({RemoteTrackPublicationV2:a},r),Object.defineProperties(s,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:r.RemoteTrackPublicationV2},_getTrackReceiver:{value:n},revision:{enumerable:!0,get:function(){return this._revision}}}),o=s.update(e),i(s,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_getOrCreateTrack",value:function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);return n||(n=new t(e),this.addTrack(n)),n}},{key:"update",value:function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach((function(e){var i=t._getOrCreateTrack(e);i.update(e),n.add(i)})),this.tracks.forEach((function(e){n.has(e)||t.removeTrack(e)})),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this}}]),t}(r);e.exports=s})),o.register("1stCY",(function(e,t){"use strict";var n=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.connect(e,n),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("ufvQC"));e.exports=n})),o.register("ufvQC",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("56JJ3"),r=o("4bYAt"),a={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connecting",a));return Object.defineProperties(e,{_enqueuedPriorityUpdates:{value:new Map},_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},_trackPrioritySignaling:{value:null,writable:!0},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addTrack",value:function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this}},{key:"disconnect",value:function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)}},{key:"removeTrack",value:function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null}},{key:"setNetworkQualityLevel",value:function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new r(t):null,this.emit("networkQualityLevelChanged"))}},{key:"updateSubscriberTrackPriority",value:function(e,t){this._enqueuedPriorityUpdates.set(e,t),this._trackPrioritySignaling&&this._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",t)}},{key:"setTrackPrioritySignaling",value:function(e){var t=this;return this._trackPrioritySignaling=e,e&&this._enqueuedPriorityUpdates.forEach((function(e,n){t._trackPrioritySignaling.sendTrackPriorityUpdate(n,"subscribe",e)})),this}},{key:"connect",value:function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)}},{key:"reconnecting",value:function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)}},{key:"networkQualityLevel",get:function(){return this._networkQualityLevel}},{key:"networkQualityStats",get:function(){return this._networkQualityStats}}]),t}(i);e.exports=s})),o.register("4bYAt",(function(e,t){"use strict";var n=o("4eJdJ"),i=o("1H0L2");e.exports=function e(t){var r=t.level,o=t.audio,a=t.video;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{level:{value:r,enumerable:!0},audio:{value:o?new n(o):null,enumerable:!0},video:{value:a?new i(a):null,enumerable:!0}})}})),o.register("4eJdJ",(function(e,t){"use strict";var n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("55d2d"));e.exports=n})),o.register("55d2d",(function(e,t){"use strict";var n=o("11fRN"),i=o("1Xvnr");e.exports=function e(t){var r=t.send,o=t.recv,a=t.sendStats,s=void 0===a?null:a,u=t.recvStats,c=void 0===u?null:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{send:{value:r,enumerable:!0},recv:{value:o,enumerable:!0},sendStats:{value:s?new n(s):null,enumerable:!0},recvStats:{value:c?new i(c):null,enumerable:!0}})}})),o.register("11fRN",(function(e,t){"use strict";var n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("7ac0z"));e.exports=n})),o.register("7ac0z",(function(e,t){"use strict";var n=o("6ZLE6"),i=o("5T8p8"),r=o("7hQZV");e.exports=function e(t){var o=t.bandwidth,a=void 0===o?null:o,s=t.fractionLost,u=void 0===s?null:s,c=t.latency,l=void 0===c?null:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{bandwidth:{value:a?new n(a):null,enumerable:!0},fractionLost:{value:u?new i(u):null,enumerable:!0},latency:{value:l?new r(l):null,enumerable:!0}})}})),o.register("6ZLE6",(function(e,t){"use strict";e.exports=function e(t){var n=t.actual,i=void 0===n?null:n,r=t.available,o=void 0===r?null:r,a=t.level,s=void 0===a?null:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{actual:{value:i,enumerable:!0},available:{value:o,enumerable:!0},level:{value:s,enumerable:!0}})}})),o.register("5T8p8",(function(e,t){"use strict";e.exports=function e(t){var n=t.fractionLost,i=void 0===n?null:n,r=t.level,o=void 0===r?null:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{fractionLost:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})}})),o.register("7hQZV",(function(e,t){"use strict";e.exports=function e(t){var n=t.jitter,i=void 0===n?null:n,r=t.rtt,o=void 0===r?null:r,a=t.level,s=void 0===a?null:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{jitter:{value:i,enumerable:!0},rtt:{value:o,enumerable:!0},level:{value:s,enumerable:!0}})}})),o.register("1Xvnr",(function(e,t){"use strict";var n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("7ac0z"));e.exports=n})),o.register("1H0L2",(function(e,t){"use strict";var n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o("55d2d"));e.exports=n})),o.register("6XpY5",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.sid,e.name,e.kind,e.enabled,e.priority))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"update",value:function(e){return this.enable(e.enabled),this.setPriority(e.priority),this}}]),t}(o("323cZ"));e.exports=i})),o.register("323cZ",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i,r,o));return Object.defineProperties(a,{_isSwitchedOff:{value:!1,writable:!0}}),a.setSid(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"subscribeFailed",value:function(e){return this.error||(this._error=e,this.emit("updated")),this}},{key:"setPriority",value:function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this}},{key:"setSwitchedOff",value:function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this}},{key:"isSubscribed",get:function(){return!!this.trackTransceiver}},{key:"isSwitchedOff",get:function(){return this._isSwitchedOff}}]),t}(o("4Z9aa"));e.exports=i})),o.register("4Z9aa",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=null;return Object.defineProperties(o,{_error:{value:null,writable:!0},_isEnabled:{value:i,writable:!0},_priority:{value:r,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return a},set:function(e){null===a&&(a=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:e}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"disable",value:function(){return this.enable(!1)}},{key:"enable",value:function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this}},{key:"setTrackTransceiver",value:function(e){return e=e||null,this.trackTransceiver!==e&&(this._trackTransceiver=e,this.emit("updated")),this}},{key:"setSid",value:function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this}},{key:"error",get:function(){return this._error}},{key:"isEnabled",get:function(){return this._isEnabled}},{key:"priority",get:function(){return this._priority}},{key:"sid",get:function(){return this._sid}},{key:"trackTransceiver",get:function(){return this._trackTransceiver}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("5iMC9",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_mediaSignalingTransport:{value:t}})}return n(e,[{key:"sendTrackPriorityUpdate",value:function(e,t,n){this._mediaSignalingTransport.publish(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({type:"track_priority",track:e},t,n))}}]),e}();e.exports=i})),o.register("1yUDr",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.on("message",(function(e){switch(e.type){case"track_switch_off":n._setTrackSwitchOffUpdates(e.off||[],e.on||[])}})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_setTrackSwitchOffUpdates",value:function(e,t){this.emit("updated",e,t)}}]),t}(o("6xYCf").EventEmitter);e.exports=i})),o.register("49dgk",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("4w4ZI").getSdpFormat,r=o("4rEX5"),a=o("2JDin"),s=o("56JJ3"),u=o("VWPJN"),c=o("2ZZtP"),l=o("72UdZ").reconnectBackoffConfig,h=o("5WF7N"),f=o("2S2q7"),d=f.createBandwidthProfilePayload,p=f.createMediaSignalingPayload,m=f.createSubscribePayload,v=f.getUserAgent,g=o("6D3Hv"),b=g.createTwilioError,y=g.RoomCompletedError,w=g.SignalingConnectionError,_=g.SignalingServerBusyError,k=nu.name+".js",S=nu.version,M={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},E=function(e){function t(e,n,o,s,h,f){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f=Object.assign({Backoff:c,InsightsPublisher:r,NullInsightsPublisher:a,TwilioConnection:u,iceServers:null,sdpFormat:i(f.sdpSemantics),trackPriority:!0,trackSwitchOff:!0,userAgent:v()},f);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"connecting",M)),p={};f.wsServerInsights&&(p.gateway=f.wsServerInsights);var m=f.insights?f.InsightsPublisher:f.NullInsightsPublisher;return Object.defineProperties(d,{_accessToken:{value:n},_automaticSubscription:{value:f.automaticSubscription},_bandwidthProfile:{value:f.bandwidthProfile},_dominantSpeaker:{value:f.dominantSpeaker},_eventPublisher:{value:new m(n,k,S,f.environment,f.realm,p)},_iceServersStatus:{value:Array.isArray(f.iceServers)?"overrode":"acquire"},_localParticipant:{value:o},_name:{value:e},_networkQuality:{value:f.networkQuality},_options:{value:f},_peerConnectionManager:{value:s},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:f.Backoff.exponential(l)},_session:{value:null,writable:!0},_trackPriority:{value:f.trackPriority},_trackSwitchOff:{value:f.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:f.userAgent},_wsServer:{value:h}}),f.eventObserver&&f.eventObserver.setPublisher(d._eventPublisher),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",i);var t=e._iceServersStatus,r=e._options,o=e._wsServer,a=e.state,s=r.TwilioConnection,u=new s(o,Object.assign({helloBody:"connecting"===a&&"acquire"===t?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},r));u.once("close",(function(e){e===s.CloseReason.LOCAL?n():n(new Error(e))})),u.on("message",i),e._twilioConnection=u}}function n(n){if("disconnected"!==e.state)if(n){var i=e._getReconnectTimer();if(i)"connected"===e.state&&e.preempt("syncing"),i.then(t);else{var r=n.message===u.CloseReason.BUSY?new _:new w;e.disconnect(r)}}else e.disconnect()}function i(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new y:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then((function(){e._sendConnectOrSyncOrDisconnectMessage()}));case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new y:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new y:null);default:return}default:return}else e.disconnect(b(t.code,t.message))}e.on("stateChanged",(function t(n){switch(n){case"connected":var r=e._updatesToSend.splice(0);return r.length&&e.publish(function(e){return e.reduce((function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=C(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=C(e.peer_connections.concat(t.peer_connections))),e}),{})}(r)),void e._updatesReceived.splice(0).forEach((function(t){return e.emit("message",t)}));case"disconnected":return e._twilioConnection.removeListener("message",i),void e.removeListener("stateChanged",t);case"syncing":default:return}}));var r=e._options,o=e._iceServersStatus,a=r.iceServers,s=r.onIced;"overrode"===o?s(a).then(t):t()}(d),d.once("connected",(function(e){var t=e.sid,n=e.participant;d._eventPublisher.connect(t,n.sid)})),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_createConnectOrSyncOrDisconnectMessage",value:function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};if("connect"===t.type){t.ice_servers=this._iceServersStatus,t.publisher={name:k,sdk_version:S,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=d(this._bandwidthProfile)),t.media_signaling=p(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff),t.subscribe=m(this._automaticSubscription);var n=this._options.sdpFormat;n&&(t.format=n),t.token=this._accessToken}else"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session);return t}},{key:"_createIceMessage",value:function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}}},{key:"_sendConnectOrSyncOrDisconnectMessage",value:function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)}},{key:"disconnect",value:function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),this._eventPublisher.disconnect(),!0)}},{key:"publish",value:function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;case"disconnected":default:return!1}}},{key:"publishEvent",value:function(e,t,n){return this._eventPublisher.publish(e,t,n)}},{key:"sync",value:function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)}},{key:"_setSession",value:function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t}},{key:"_getReconnectTimer",value:function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new h((function(){e._sessionTimer&&(e._sessionTimeoutMS=0)}),this._sessionTimeoutMS)),new Promise((function(t){e._reconnectBackoff.once("ready",t),e._reconnectBackoff.backoff()})))}},{key:"_clearReconnectTimer",value:function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)}}]),t}(s);function C(e){return Array.from(e.reduce((function(e,t){var n=e.get(t.id)||t;return(!n.description&&t.description||n.description&&t.description&&t.description.revision>n.description.revision)&&(n.description=t.description),(!n.ice&&t.ice||n.ice&&t.ice&&t.ice.revision>n.ice.revision)&&(n.ice=t.ice),e.set(n.id,n),e}),new Map).values())}e.exports=E})),o.register("4rEX5",(function(e,t){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("6xYCf").EventEmitter,a=(c=o("2S2q7")).getUserAgent,s=n.window||n,u=s.WebSocket?s.WebSocket:o("6nNTz"),c=o("2S2q7"),l=function(e){function t(e,n,i,r,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s=Object.assign({gateway:f(r,o)+"/v1/VideoEvents",maxReconnectAttempts:5,reconnectIntervalMs:50,userAgent:a(),WebSocket:u},s),Object.defineProperties(l,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:c.defer()},_reconnectAttemptsLeft:{value:s.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:s.WebSocket}}),l._readyToConnect.promise.then((function(t){var r=t.roomSid,o=t.participantSid,a=l;l.on("disconnected",(function t(u){if(a._session=null,u&&a._reconnectAttemptsLeft>0)return a.emit("reconnecting"),void function(e,t,n,i,r,o,a){var s=Date.now()-e._connectTimestamp,u=a.reconnectIntervalMs-s;if(u>0)return void setTimeout((function(){h(e,t,n,i,r,o,a)}),u);h(e,t,n,i,r,o,a)}(a,e,n,i,r,o,s);a.removeListener("disconnected",t)})),h(l,e,n,i,r,o,s)})).catch((function(){})),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"connect",value:function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})}},{key:"_publish",value:function(e){e.session=this._session,this._ws.send(JSON.stringify(e))}},{key:"disconnect",value:function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0}},{key:"publish",value:function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)}}]),t}(r);function h(e,t,n,i,r,o,a){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new a.WebSocket(a.gateway);var s=e._ws;s.addEventListener("close",(function(t){1e3!==t.code?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")})),s.addEventListener("message",(function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),a)})),s.addEventListener("open",(function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:i,userAgent:a.userAgent,participantSid:o,roomSid:r},s.send(JSON.stringify(e))}))}function f(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}e.exports=l})),o.register("6nNTz",(function(e,t){e.exports=WebSocket})),o.register("2JDin",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return n(e,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){return!!this._connected&&(this._connected=!1,!0)}},{key:"publish",value:function(){return this._connected}}]),e}();e.exports=i})),o.register("VWPJN",(function(e,t){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=o("56JJ3"),a=o("2S2q7"),s=a.buildLogLevels,u=a.makeUUID,c=o("483rj"),l=o("82Ny0"),h=o("5WF7N"),f=0,d={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},p={closed:"close",open:"open",waiting:"waiting"},m=3e3,v=3001,g=3002,b=3003,y=3005,w=3006,_=n.window||n,k=_.WebSocket?_.WebSocket:o("6nNTz"),S={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},M=new Map([[m,S.TIMEOUT],[v,S.TIMEOUT],[g,S.FAILED],[b,S.FAILED],[3004,S.TIMEOUT],[w,S.BUSY],[3007,S.TIMEOUT]]),E=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"early",d));n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:3,maxConsecutiveMissedHeartbeats:3,requestedHeartbeatTimeout:5e3,openTimeout:15e3,welcomeTimeout:5e3,Log:c,WebSocket:k},n);var r=s(n.logLevel),o=new n.Log("default",i,r),a=n.networkMonitor?new l((function(){var e=a.type,t="Network changed"+(e?" to "+e:"");o.debug(t),i._close({code:3004,reason:t})})):null;Object.defineProperties(i,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++f},_log:{value:o},_messageQueue:{value:[]},_networkMonitor:{value:a},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:e},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var u={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return i.on("stateChanged",(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e in p&&i.emit.apply(i,[p[e]].concat(n));var o={name:e,group:"signaling",level:u[i.state]};if("closed"===e){var a=n[0];o.payload={reason:a},o.level=a===S.LOCAL?"info":"error"}i._eventObserver.emit("event",o)})),i._eventObserver.emit("event",{name:i.state,group:"signaling",level:u[i.state]}),i._connect(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"toString",value:function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"}},{key:"_close",value:function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&t!==y&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var i=this._log;1e3===t?(i.debug("Closed"),this.transition("closed",null,[S.LOCAL])):(i.warn("Closed: "+t+" - "+n),t!==y&&this.transition("closed",null,[M.get(t)||S.REMOTE]));var r=this._ws.readyState,o=this._options.WebSocket;r!==o.CLOSING&&r!==o.CLOSED&&this._ws.close(t,n)}}},{key:"_connect",value:function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",(function(t){return e._close(t)}));var i=this._options.openTimeout;this._openTimeout=new h((function(){var t="Failed to open in "+i+" ms";e._close({code:3007,reason:t})}),i),n.addEventListener("open",(function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()})),n.addEventListener("message",(function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(t){return void e.emit("error",t)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}}))}},{key:"_handleBad",value:function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:g,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')}},{key:"_handleBusy",value:function(e){var t=this,n=e.cookie,i=e.keepAlive,r=e.retryAfter,o=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var a=r<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+r+" ms";if(r<0)return o.warn("Closing: 3006 - "+a),void this._close({code:w,reason:a});var s=this._options.maxConsecutiveFailedHellos;this._hellosLeft=s,this._cookie=n||null,i?(o.warn(a),this._busyWaitTimeout=new h((function(){return t._startHandshake()}),r)):(o.warn("Closing: 3005 - "+a),this._close({code:y,reason:a}),this._busyWaitTimeout=new h((function(){return t._connect()}),r)),this.transition("waiting",null,[i,r])}else o.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')}},{key:"_handleHeartbeat",value:function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')}},{key:"_handleHeartbeatTimeout",value:function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:v,reason:n})}}},{key:"_handleMessage",value:function(e){var t=e.body;"open"===this.state?this.emit("message",t):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')}},{key:"_handleWelcome",value:function(e){var t=this,n=e.negotiatedTimeout,i=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(i.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var r=n*this._options.maxConsecutiveMissedHeartbeats,o=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new h((function(){return t._handleHeartbeatTimeout()}),r),this._messageQueue.splice(0).forEach((function(e){return t._send(e)})),this._sendHeartbeatTimeout=new h((function(){return t._sendHeartbeat()}),o),this.transition("open")}else i.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')}},{key:"_handleWelcomeTimeout",value:function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:m,reason:t})}var n=this._options.maxConsecutiveFailedHellos;e.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}}},{key:"_send",value:function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(e){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:b,reason:n})}}}},{key:"_sendHeartbeat",value:function(){"closed"!==this.state&&this._send({type:"heartbeat"})}},{key:"_sendHello",value:function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,i={id:u(),timeout:n,type:"hello",version:2};this._cookie&&(i.cookie=this._cookie),t&&(i.body=t),this._send(i)}},{key:"_sendOrEnqueue",value:function(e){var t=this;"closed"!==this.state&&("open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)})(e)}},{key:"_startHandshake",value:function(){var e=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state){this._hellosLeft--,this._sendHello();var t=this._options.welcomeTimeout;this._welcomeTimeout=new h((function(){return e._handleWelcomeTimeout()}),t)}}},{key:"close",value:function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))}},{key:"sendMessage",value:function(e){this._sendOrEnqueue({body:e,type:"msg"})}}]),t}(r);E.CloseReason=S,e.exports=E})),o.register("82Ny0",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(n=Object.assign({navigator:navigator,window:window},n)).navigator,o=r.connection||{type:null},a=o.type,s=o.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var e=a!==i.type&&i.isOnline;a=i.type,e&&t()}},_target:{value:o}}:{_events:{value:["online"]},_listener:{value:t},_target:{value:n.window}},u=s._events,c=s._listener,l=s._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!=typeof r.onLine||r.onLine}},type:{enumerable:!0,get:function(){return o.type||null}},_listener:c,_events:u,_target:l})}return n(e,[{key:"start",value:function(){var e=this;this._events.forEach((function(t){e._target.addEventListener(t,e._listener)}))}},{key:"stop",value:function(){var e=this;this._events.forEach((function(t){e._target.removeEventListener(t,e._listener)}))}}]),e}();e.exports=i})),o.register("7j1bC",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=o("4xwd8"),a=o("3Kdxj"),s=o("2S2q7").isDeepEqual,u=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=Object.assign({LocalTrackPublicationV2:a},i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(r,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:e},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:i.LocalTrackPublicationV2},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"setSignalingRegion",value:function(e){this._signalingRegion||(this._signalingRegion=e)}},{key:"setBandwidthProfile",value:function(e){s(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())}},{key:"setParameters",value:function(e){return this._encodingParameters.update(e),this}},{key:"update",value:function(e){return this._publishedRevision>=e.revision||(this._publishedRevision=e.revision,e.tracks.forEach((function(e){var t=this.tracks.get(e.id);t&&t.update(e)}),this)),this}},{key:"_createLocalTrackPublicationSignaling",value:function(e,t,n){return new this._LocalTrackPublicationV2(e,t,n)}},{key:"addTrack",value:function(e,n,r){var o=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addTrack",this).call(this,e,n,r);var a=this.getPublication(e),s=a.isEnabled,u=a.updatedPriority,c=function(){s===a.isEnabled&&u===a.updatedPriority||(o.didUpdate(),s=a.isEnabled,u=a.updatedPriority)};return a.on("updated",c),this._removeListener(a),this._removeListeners.set(a,(function(){return a.removeListener("updated",c)})),this.didUpdate(),this}},{key:"_removeListener",value:function(e){var t=this._removeListeners.get(e);t&&t()}},{key:"getState",value:function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map((function(e){return e.getState()}))}}},{key:"didUpdate",value:function(){this._revision++,this.emit("updated")}},{key:"removeTrack",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTrack",this).call(this,e);return n&&(e.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n}},{key:"setNetworkQualityConfiguration",value:function(e){this.networkQualityConfiguration.update(e)}}]),t}(r);e.exports=u})),o.register("4xwd8",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(e,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addTrack",value:function(e,n,r){var o=this._createLocalTrackPublicationSignaling(e,n,r);return this._trackSendersToPublications.set(e,o),this._publicationsToTrackSenders.set(o,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addTrack",this).call(this,o),this}},{key:"getPublication",value:function(e){return this._trackSendersToPublications.get(e)||null}},{key:"getSender",value:function(e){return this._publicationsToTrackSenders.get(e)||null}},{key:"removeTrack",value:function(e){var n=this._trackSendersToPublications.get(e);return n?(this._trackSendersToPublications.delete(e),this._publicationsToTrackSenders.delete(n),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTrack",this).call(this,n)&&n.stop(),n):null}}]),t}(o("ufvQC"));e.exports=r})),o.register("3Kdxj",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("1InuW"),r=o("6D3Hv").createTwilioError,a=function(e){function t(e,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getState",value:function(){return{enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority}}},{key:"update",value:function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(r(t.code,t.message))}return this}}]),t}(i);e.exports=a})),o.register("1InuW",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};var r=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r="data"===(e=e.clone()).kind||e.track.enabled,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,e.kind,r,i));return o.setTrackTransceiver(e),Object.defineProperties(o,{_updatedPriority:{value:i,writable:!0},id:{enumerable:!0,value:e.id}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"enable",value:function(e){return e="boolean"!=typeof e||e,this.trackTransceiver.track.enabled=e,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).call(this,e)}},{key:"publishFailed",value:function(e){return function(e,t){return null===e._sid&&!e._error&&(e._error=t,!0)}(this,e)&&this.emit("updated"),this}},{key:"setPriority",value:function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this}},{key:"setSid",value:function(e){return this._error?this:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setSid",this).call(this,e)}},{key:"stop",value:function(){this.trackTransceiver.stop()}},{key:"updatedPriority",get:function(){return this._updatedPriority}}]),t}(o("4Z9aa"));e.exports=r})),o.register("4oiTN",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=o("ufvQC"),r=o("3tUyT"),a=o("56JJ3"),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"closed",s))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_close",value:function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)}},{key:"_connect",value:function(e,t,n,i,o){e.connect("PA00000000000000000000000000000000","test");var a=Promise.resolve(new r(e,"RM00000000000000000000000000000000",o));return a.cancel=function(){},a}},{key:"_open",value:function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)}},{key:"close",value:function(){var e=this;return this.bracket("close",(function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))}},{key:"connect",value:function(e,t,n,i,r){var o=this;return this.bracket("connect",(function a(s){switch(o.state){case"closed":return o._open(s).then(a.bind(null,s));case"open":return o.releaseLockCompletely(s),o._connect(e,t,n,i,r);default:throw new Error('Unexpected Signaling state "'+o.state+'"')}}))}},{key:"createLocalParticipantSignaling",value:function(){return new i}},{key:"open",value:function(){var e=this;return this.bracket("open",(function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))}}]),t}(a);e.exports=u})),o.register("5qB4o",(function(e,t){"use strict";var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=o("6xYCf").EventEmitter,s=["signaling"],u=["debug","error","info","warning"],c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperties(o,{_publisher:{value:null,writable:!0}}),o.on("event",(function(t){var i=t.name,r=t.group,a=t.level,c=t.payload;if("string"!=typeof i)throw new Error("Unexpected name: ",i);if(!s.includes(r))throw new Error("Unexpected group: ",r);if(!u.includes(a))throw new Error("Unexpected level: ",a);var l=Date.now(),h=l-e;if(o._publisher){var f=Object.assign(c||{},{elapsedTime:h,level:a});o._publisher.publish(r,i,f)}if(n){var d=Object.assign(c?{payload:c}:{},{elapsedTime:h,group:r,level:a,name:i,timestamp:l});n.emit("event",d)}})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"setPublisher",value:function(e){this._publisher=e}}]),t}(a);e.exports=c})),o.register("6UZhD",(function(e,t){"use strict";var n=o("3myXV"),i=o("72UdZ").DEFAULT_LOG_LEVEL;function r(e,t){t=Object.assign({createLocalTracks:n,logLevel:i},t);var r={};r.logLevel=t.logLevel,delete t.logLevel;var o=t.createLocalTracks;return delete t.createLocalTracks,r[e]=!(Object.keys(t).length>0)||t,o(r).then((function(e){return e[0]}))}e.exports={audio:function(e){return r("audio",e)},video:function(e){return r("video",e)}}})),o.register("4Ctmp",(function(e,t){"use strict";var n=o("6YI9h"),i=n.guessBrowser,r=n.support,a=["edg","edge","electron","headlesschrome"];function s(e){if("chrome"!==e)return null;if("brave"in navigator)return"brave";var t,n=(function(e){for(var t=[],n=[],i=0;i<e.length;i++)if("("===e[i])t.push(i);else if(")"===e[i]&&t.length>0){var r=t.pop();0===t.length&&n.push(e.substring(r,i+1))}return n}(navigator.userAgent).reduce((function(e,t){return e.replace(t,"")}),navigator.userAgent).match(/[^\s]+/g)||[]).map((function(e){return e.split("/")[0].toLowerCase()}));return(t=n,Array.isArray(t)?t:Array.from(t)).slice(2).find((function(e){return!["chrome","mobile","safari"].includes(e)}))||null}e.exports=function(){var e=i(),t=s(e);return!!e&&r()&&(!t||a.includes(t))&&!function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"==typeof chrome||void 0===chrome.runtime)}(e)}})),Object.defineProperties(su,{connect:{enumerable:!0,value:o("60Xpw")},createLocalAudioTrack:{enumerable:!0,value:o("6UZhD").audio},createLocalTracks:{enumerable:!0,value:o("3myXV")},createLocalVideoTrack:{enumerable:!0,value:o("6UZhD").video},isSupported:{enumerable:!0,value:o("4Ctmp")()},LocalAudioTrack:{enumerable:!0,value:iu},LocalDataTrack:{enumerable:!0,value:ru},LocalVideoTrack:{enumerable:!0,value:ou},version:{enumerable:!0,value:au}}),tu=su;const uu=()=>Ut(),cu=()=>uu().replace(new RegExp("-","g"),"").toUpperCase();var lu,hu,fu,du,pu,mu,vu;(hu=lu||(lu={}))[hu.Debug=0]="Debug",hu[hu.Info=1]="Info",hu[hu.Warning=2]="Warning",hu[hu.Error=3]="Error";class gu{constructor(e,t){this.privName=e,this.privEventId=cu(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}class bu extends gu{constructor(e,t,n=lu.Info){super(e,n),this.privAudioSourceId=t}get audioSourceId(){return this.privAudioSourceId}}class yu extends bu{constructor(e){super("AudioSourceInitializingEvent",e)}}class wu extends bu{constructor(e){super("AudioSourceReadyEvent",e)}}class _u extends bu{constructor(e){super("AudioSourceOffEvent",e)}}class ku extends bu{constructor(e,t){super("AudioSourceErrorEvent",e,lu.Error),this.privError=t}get error(){return this.privError}}class Su extends bu{constructor(e,t,n){super(e,t),this.privAudioNodeId=n}get audioNodeId(){return this.privAudioNodeId}}class Mu extends Su{constructor(e,t){super("AudioStreamNodeAttachingEvent",e,t)}}class Eu extends Su{constructor(e,t){super("AudioStreamNodeAttachedEvent",e,t)}}class Cu extends Su{constructor(e,t){super("AudioStreamNodeDetachedEvent",e,t)}}class xu extends Su{constructor(e,t,n){super("AudioStreamNodeErrorEvent",e,t),this.privError=n}get error(){return this.privError}}class Tu extends gu{constructor(e,t,n=lu.Info){super(e,n),this.privJsonResult=t}get jsonString(){return this.privJsonResult}}class Iu extends gu{constructor(e,t,n=lu.Info){super(e,n),this.privConnectionId=t}get connectionId(){return this.privConnectionId}}class Au extends Iu{constructor(e,t,n){super("ConnectionStartEvent",e),this.privUri=t,this.privHeaders=n}get uri(){return this.privUri}get headers(){return this.privHeaders}}class Ou extends Iu{constructor(e,t){super("ConnectionEstablishedEvent",e)}}class Pu extends Iu{constructor(e,t,n){super("ConnectionClosedEvent",e,lu.Debug),this.privRreason=n,this.privStatusCode=t}get reason(){return this.privRreason}get statusCode(){return this.privStatusCode}}class Ru extends Iu{constructor(e,t,n){super("ConnectionErrorEvent",e,lu.Debug),this.privMessage=t,this.privType=n}get message(){return this.privMessage}get type(){return this.privType}}class Du extends Iu{constructor(e,t,n){super("ConnectionEstablishErrorEvent",e,lu.Error),this.privStatusCode=t,this.privReason=n}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}class ju extends Iu{constructor(e,t,n){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=t,this.privMessage=n}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}class Lu extends Iu{constructor(e,t,n){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=t,this.privMessage=n}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}class Nu extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}class Bu extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}class Fu extends Error{constructor(e,t){super(t),this.name=e+"ObjectDisposed",this.message=t}}!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(fu||(fu={}));class Uu{constructor(e,t,n,i){if(this.privBody=null,e===fu.Text&&t&&"string"!=typeof t)throw new Bu("Payload must be a string");if(e===fu.Binary&&t&&!(t instanceof ArrayBuffer))throw new Bu("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=n||{},this.privId=i||cu(),this.messageType){case fu.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case fu.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===fu.Binary)throw new Bu("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===fu.Text)throw new Bu("Not supported for text message");return this.privBody}get id(){return this.privId}}class zu{constructor(e,t){this.privStatusCode=e,this.privReason=t}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}class qu{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.onEvent=e=>{if(this.isDisposed())throw new Fu("EventSource");if(this.metadata)for(const t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(const t in this.privEventListeners)t&&this.privEventListeners[t]&&this.privEventListeners[t](e)},this.attach=e=>{const t=cu();return this.privEventListeners[t]=e,{detach:()=>(delete this.privEventListeners[t],Promise.resolve())}},this.attachListener=e=>this.attach(e.onEvent),this.isDisposed=()=>this.privIsDisposed,this.dispose=()=>{this.privEventListeners=null,this.privIsDisposed=!0},this.privMetadata=e}get metadata(){return this.privMetadata}}class Hu{static get instance(){return Hu.privInstance}}Hu.privInstance=new qu,Hu.setEventSource=e=>{if(!e)throw new Nu("eventSource");Hu.privInstance=e},(pu=du||(du={}))[pu.None=0]="None",pu[pu.Connected=1]="Connected",pu[pu.Connecting=2]="Connecting",pu[pu.Disconnected=3]="Disconnected",(vu=mu||(mu={}))[vu.None=0]="None",vu[vu.Resolved=1]="Resolved",vu[vu.Rejected=2]="Rejected";class Vu{constructor(){this.resolve=e=>(this.privResolve(e),this),this.reject=e=>(this.privReject(e),this),this.privPromise=new Promise(((e,t)=>{this.privResolve=e,this.privReject=t}))}get promise(){return this.privPromise}}function Wu(e,t,n){e.then((e=>{try{t&&t(e)}catch(e){if(n)try{if(e instanceof Error){const t=e;n(t.name+": "+t.message)}else n(e)}catch(e){}}}),(e=>{if(n)try{if(e instanceof Error){const t=e;n(t.name+": "+t.message)}else n(e)}catch(e){}}))}var Ku={};t(Ku,"Queue",(()=>Xu),(e=>Xu=e));class Gu{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.get=e=>(this.throwIfDisposed(),this.privList[e]),this.first=()=>this.get(0),this.last=()=>this.get(this.length()-1),this.add=e=>{this.throwIfDisposed(),this.insertAt(this.privList.length,e)},this.insertAt=(e,t)=>{this.throwIfDisposed(),0===e?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)},this.removeFirst=()=>(this.throwIfDisposed(),this.removeAt(0)),this.removeLast=()=>(this.throwIfDisposed(),this.removeAt(this.length()-1)),this.removeAt=e=>(this.throwIfDisposed(),this.remove(e,1)[0]),this.remove=(e,t)=>{this.throwIfDisposed();const n=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),n},this.clear=()=>{this.throwIfDisposed(),this.remove(0,this.length())},this.length=()=>(this.throwIfDisposed(),this.privList.length),this.onAdded=e=>{this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[t]=e,{detach:()=>(delete this.privAddSubscriptions[t],Promise.resolve())}},this.onRemoved=e=>{this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[t]=e,{detach:()=>(delete this.privRemoveSubscriptions[t],Promise.resolve())}},this.onDisposed=e=>{this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[t]=e,{detach:()=>(delete this.privDisposedSubscriptions[t],Promise.resolve())}},this.join=e=>(this.throwIfDisposed(),this.privList.join(e)),this.toArray=()=>{const e=Array();return this.privList.forEach((t=>{e.push(t)})),e},this.any=e=>(this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0),this.all=e=>(this.throwIfDisposed(),this.where(e).length()===this.length()),this.forEach=e=>{this.throwIfDisposed();for(let t=0;t<this.length();t++)e(this.privList[t],t)},this.select=e=>{this.throwIfDisposed();const t=[];for(let n=0;n<this.privList.length;n++)t.push(e(this.privList[n],n));return new Gu(t)},this.where=e=>{this.throwIfDisposed();const t=new Gu;for(let n=0;n<this.privList.length;n++)e(this.privList[n],n)&&t.add(this.privList[n]);return t},this.orderBy=e=>{this.throwIfDisposed();const t=this.toArray().sort(e);return new Gu(t)},this.orderByDesc=e=>(this.throwIfDisposed(),this.orderBy(((t,n)=>e(n,t)))),this.clone=()=>(this.throwIfDisposed(),new Gu(this.toArray())),this.concat=e=>(this.throwIfDisposed(),new Gu(this.privList.concat(e.toArray()))),this.concatArray=e=>(this.throwIfDisposed(),new Gu(this.privList.concat(e))),this.isDisposed=()=>null==this.privList,this.dispose=e=>{this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))},this.throwIfDisposed=()=>{if(this.isDisposed())throw new Fu("List",this.privDisposeReason)},this.triggerSubscriptions=e=>{if(e)for(const t in e)t&&e[t]()},this.privList=[],e)for(const t of e)this.privList.push(t)}}var Yu,Zu,Ju=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};(Zu=Yu||(Yu={}))[Zu.Dequeue=0]="Dequeue",Zu[Zu.Peek=1]="Peek";class Xu{constructor(e){this.privPromiseStore=new Gu,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.enqueue=e=>{this.throwIfDispose(),this.enqueueFromPromise(new Promise(((t,n)=>{t(e)})))},this.enqueueFromPromise=e=>{this.throwIfDispose(),e.then((e=>{this.privList.add(e)}),(e=>{}))},this.dequeue=()=>{this.throwIfDispose();const e=new Vu;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:Yu.Dequeue}),this.drain()),e.promise},this.peek=()=>{this.throwIfDispose();const e=new Vu;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:Yu.Peek}),this.drain()),e.promise},this.length=()=>(this.throwIfDispose(),this.privList.length()),this.isDisposed=()=>null==this.privSubscribers,this.drain=()=>{if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,t=this.privList;if(e&&t){for(;t.length()>0&&e.length()>0&&!this.privIsDisposing;){const n=e.removeFirst();if(n.type===Yu.Peek)n.deferral.resolve(t.first());else{const e=t.removeFirst();n.deferral.resolve(e)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}},this.throwIfDispose=()=>{if(this.isDisposed()){if(this.privDisposeReason)throw new Bu(this.privDisposeReason);throw new Fu("Queue")}if(this.privIsDisposing)throw new Bu("Queue disposing")},this.privList=e||new Gu,this.privDetachables=[],this.privSubscribers=new Gu,this.privDetachables.push(this.privList.onAdded(this.drain))}drainAndDispose(e,t){return Ju(this,void 0,void 0,(function*(){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=t,this.privIsDisposing=!0;const n=this.privSubscribers;if(n){for(;n.length()>0;){n.removeFirst().deferral.resolve(void 0)}this.privSubscribers===n&&(this.privSubscribers=n)}for(const e of this.privDetachables)yield e.detach();if(this.privPromiseStore.length()>0&&e){const t=[];return this.privPromiseStore.toArray().forEach((e=>{t.push(e)})),Promise.all(t).finally((()=>{this.privSubscribers=null,this.privList.forEach(((t,n)=>{e(t)})),this.privList=null})).then()}this.privSubscribers=null,this.privList=null}}))}dispose(e){return Ju(this,void 0,void 0,(function*(){yield this.drainAndDispose(null,e)}))}}class $u{constructor(e,t,n){if(this.privPayload=null,!t)throw new Nu("payload");if(e===fu.Binary&&"ArrayBuffer"!==t.__proto__.constructor.name)throw new Bu("Payload must be ArrayBuffer");if(e===fu.Text&&"string"!=typeof t)throw new Bu("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=n||cu()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===fu.Binary)throw new Bu("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===fu.Text)throw new Bu("Not supported for text message");return this.privPayload}get id(){return this.privId}}class Qu{constructor(e,t){this.encode=e=>{const t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;const n=2*t.length,i=new ArrayBuffer(n),r=new DataView(i);return this.floatTo16BitPCM(r,0,t),i},this.setString=(e,t,n)=>{for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))},this.floatTo16BitPCM=(e,t,n)=>{for(let i=0;i<n.length;i++,t+=2){const r=Math.max(-1,Math.min(1,n[i]));e.setInt16(t,r<0?32768*r:32767*r,!0)}},this.downSampleAudioFrame=(e,t,n)=>{if(n===t||n>t)return e;const i=t/n,r=Math.round(e.length/i),o=new Float32Array(r);let a=0,s=0;for(;s<r;){const t=Math.round((s+1)*i);let n=0,r=0;for(;a<t&&a<e.length;)n+=e[a++],r++;o[s++]=n/r}return o},this.privActualSampleRate=e,this.privDesiredSampleRate=t}}var ec={};t(ec,"Stream",(()=>rc),(e=>rc=e));var tc,nc,ic=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class rc{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.read=()=>{if(this.privIsReadEnded)throw new Bu("Stream read has already finished");return this.privReaderQueue.dequeue().then((e=>ic(this,void 0,void 0,(function*(){return(void 0===e||e.isEnd)&&(yield this.privReaderQueue.dispose("End of stream reached")),e}))))},this.readEnded=()=>{this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new Ku.Queue)},this.throwIfClosed=()=>{if(this.privIsWriteEnded)throw new Bu("Stream closed")},this.privId=e||cu(),this.privReaderQueue=new Ku.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch(e){}}}(nc=tc||(tc={}))[nc.Success=0]="Success",nc[nc.Error=1]="Error";class oc extends ec.Stream{constructor(e,t){super(t),this.privTargetChunkSize=e,this.privNextBufferReadyBytes=0}writeStreamChunk(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)return void super.writeStreamChunk(e);let t=0;for(;t<e.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);const n=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),i=new Uint8Array(this.privNextBufferToWrite),r=new Uint8Array(e.buffer.slice(t,n+t));i.set(r,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=n,t+=n,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){0===this.privNextBufferReadyBytes||this.isClosed||super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}}class ac{}ac.workerTimers=null,ac.clearTimeout=e=>ac.timers().clearTimeout(e),ac.setTimeout=(e,t)=>ac.timers().setTimeout(e,t),ac.load=e=>{const t=new Map([[0,()=>{}]]),n=new Map,i=new Worker(e);i.addEventListener("message",(({data:e})=>{if(ac.isCallNotification(e)){const{params:{timerId:i}}=e,r=t.get(i);if("number"==typeof r){const e=n.get(r);if(void 0===e||e!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===r)throw new Error("The timer is in an undefined state.");r(),t.delete(i)}}else{if(!ac.isClearResponse(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:i}=e,r=n.get(i);if(void 0===r)throw new Error("The timer is in an undefined state.");n.delete(i),t.delete(r)}}}));return{clearTimeout:e=>{const r=Math.random();n.set(r,e),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e}})},setTimeout:(e,n)=>{const r=Math.random();return t.set(r,e),i.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r}}),r}}},ac.loadWorkerTimers=()=>()=>{if(null!==ac.workerTimers)return ac.workerTimers;const e=new Blob(['!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);return ac.workerTimers=ac.load(t),ac.workerTimers.setTimeout((()=>URL.revokeObjectURL(t)),0),ac.workerTimers},ac.timers=ac.loadWorkerTimers(),ac.isCallNotification=e=>void 0!==e.method&&"call"===e.method,ac.isClearResponse=e=>null===e.error&&"number"==typeof e.id;class sc extends gu{constructor(e,t,n){super(e,t),this.privSignature=n}}class uc extends sc{constructor(e){super("OCSPMemoryCacheHitEvent",lu.Debug,e)}}class cc extends sc{constructor(e){super("OCSPCacheMissEvent",lu.Debug,e)}}class lc extends sc{constructor(e){super("OCSPDiskCacheHitEvent",lu.Debug,e)}}class hc extends sc{constructor(e){super("OCSPCacheUpdateNeededEvent",lu.Debug,e)}}class fc extends sc{constructor(e){super("OCSPMemoryCacheStoreEvent",lu.Debug,e)}}class dc extends sc{constructor(e){super("OCSPDiskCacheStoreEvent",lu.Debug,e)}}class pc extends sc{constructor(e){super("OCSPCacheUpdatehCompleteEvent",lu.Debug,e)}}class mc extends sc{constructor(){super("OCSPStapleReceivedEvent",lu.Debug,"")}}class vc extends sc{constructor(e,t){super("OCSPCacheEntryExpiredEvent",lu.Debug,e),this.privExpireTime=t}}class gc extends sc{constructor(e,t,n){super("OCSPCacheEntryNeedsRefreshEvent",lu.Debug,e),this.privExpireTime=n,this.privStartTime=t}}class bc extends sc{constructor(e,t,n){super("OCSPCacheHitEvent",lu.Debug,e),this.privExpireTime=n,this.privExpireTimeString=new Date(n).toLocaleDateString(),this.privStartTime=t,this.privStartTimeString=new Date(t).toLocaleTimeString()}}class yc extends sc{constructor(e,t){super("OCSPVerificationFailedEvent",lu.Debug,e),this.privError=t}}class wc extends sc{constructor(e,t){super("OCSPCacheFetchErrorEvent",lu.Debug,e),this.privError=t}}class _c extends sc{constructor(e){super("OCSPResponseRetrievedEvent",lu.Debug,e)}}class kc extends sc{constructor(e,t){super("OCSPCacheUpdateErrorEvent",lu.Debug,e),this.privError=t}}class Sc extends gu{constructor(e){super("BackgroundEvent",lu.Error),this.privError=e}get error(){return this.privError}}var Mc={};t(Mc,"MicAudioSource",(()=>Qh),(e=>Qh=e));class Ec{}Ec.AuthKey="Ocp-Apim-Subscription-Key",Ec.ConnectionId="X-ConnectionId",Ec.ContentType="Content-Type",Ec.CustomCommandsAppId="X-CommandsAppId",Ec.Path="Path",Ec.RequestId="X-RequestId",Ec.RequestStreamId="X-StreamId",Ec.RequestTimestamp="X-Timestamp";class Cc{constructor(e,t){this.privHeaderName=e,this.privToken=t}get headerName(){return this.privHeaderName}get token(){return this.privToken}}class xc{constructor(e){if(this.fetch=e=>Promise.resolve(this.privAuthInfo),this.fetchOnExpiry=e=>Promise.resolve(this.privAuthInfo),!e)throw new Nu("subscriptionKey");this.privAuthInfo=new Cc(Ec.AuthKey,e)}}const Tc="Authorization";class Ic{constructor(e,t){if(this.fetch=e=>this.privFetchCallback(e).then((e=>new Cc(Tc,e))),this.fetchOnExpiry=e=>this.privFetchOnExpiryCallback(e).then((e=>new Cc(Tc,e))),!e)throw new Nu("fetchCallback");if(!t)throw new Nu("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}}var Ac={};t(Ac,"ServiceRecognizerBase",(()=>Ql),(e=>Ql=e));class Oc{static throwIfNullOrUndefined(e,t){if(null==e)throw new Error("throwIfNullOrUndefined:"+t)}static throwIfNull(e,t){if(null===e)throw new Error("throwIfNull:"+t)}static throwIfNullOrWhitespace(e,t){if(Oc.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,t){if(Oc.throwIfNullOrUndefined(e,t),0===e.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);for(const n of e)Oc.throwIfNullOrWhitespace(n,t)}static throwIfFileDoesNotExist(e,t){Oc.throwIfNullOrWhitespace(e,t)}static throwIfNotUndefined(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)}}o.register("3V6Bo",(function(e,t){}));var Pc=o("3V6Bo");class Rc{constructor(e){this.id=()=>this.privId,this.privFd=Pc.openSync(e,"w")}set format(e){Oc.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=Pc.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}write(e){Oc.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){void 0!==this.privFd&&(this.privWriteStream.on("finish",(()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),Pc.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),Pc.closeSync(this.privFd),this.privFd=void 0})),this.privWriteStream.end())}}var Dc={};t(Dc,"PullAudioInputStreamImpl",(()=>Hc),(e=>Hc=e)),t(Dc,"AudioInputStream",(()=>Fc),(e=>Fc=e));class jc{static getDefaultInputFormat(){return Lc.getDefaultInputFormat()}static getWaveFormatPCM(e,t,n){return new Lc(e,t,n)}}class Lc extends jc{constructor(e=16e3,t=16,n=1){super(),this.setString=(e,t,n)=>{for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))},this.formatTag=1,this.bitsPerSample=t,this.samplesPerSec=e,this.channels=n,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),this.privHeader=new ArrayBuffer(44);const i=new DataView(this.privHeader);this.setString(i,0,"RIFF"),i.setUint32(4,0,!0),this.setString(i,8,"WAVEfmt "),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,this.channels,!0),i.setUint32(24,this.samplesPerSec,!0),i.setUint32(28,this.avgBytesPerSec,!0),i.setUint16(32,this.channels*(this.bitsPerSample/8),!0),i.setUint16(34,this.bitsPerSample,!0),this.setString(i,36,"data"),i.setUint32(40,0,!0)}static getDefaultInputFormat(){return new Lc}static getAudioContext(e){const t=window.AudioContext||window.webkitAudioContext||!1;if(t)return void 0!==e&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new t({sampleRate:e}):new t;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}}var Nc=R,Bc=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Fc{constructor(){}static createPushStream(e){return Uc.create(e)}static createPullStream(e,t){return qc.create(e,t)}}class Uc extends Fc{static create(e){return new zc(e)}}class zc extends Uc{constructor(e){super(),this.onEvent=e=>{this.privEvents.onEvent(e),Hu.instance.onEvent(e)},this.privFormat=void 0===e?Lc.getDefaultInputFormat():e,this.privEvents=new qu,this.privId=cu(),this.privStream=new oc(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}get blob(){return this.attach("id").then((e=>{const t=[];let n=Nc.from("");const i=()=>e.read().then((e=>!e||e.isEnd?"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof Blob?Promise.resolve(new Blob(t)):Promise.resolve(Nc.from(n)):("undefined"!=typeof Blob?t.push(e.buffer):n=Nc.concat([n,this.toBuffer(e.buffer)]),i())));return i()}))}turnOn(){this.onEvent(new yu(this.privId)),this.onEvent(new wu(this.privId))}attach(e){return Bc(this,void 0,void 0,(function*(){this.onEvent(new Mu(this.privId,e)),yield this.turnOn();const t=this.privStream;return this.onEvent(new Eu(this.privId,e)),{detach:()=>Bc(this,void 0,void 0,(function*(){return t.readEnded(),this.onEvent(new Cu(this.privId,e)),this.turnOff()})),id:()=>e,read:()=>t.read()}}))}detach(e){this.onEvent(new Cu(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:Yl.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:Jl.Stream})}toBuffer(e){const t=Nc.alloc(e.byteLength),n=new Uint8Array(e);for(let e=0;e<t.length;++e)t[e]=n[e];return t}}class qc extends Fc{constructor(){super()}static create(e,t){return new Hc(e,t)}}class Hc extends qc{constructor(e,t){super(),this.onEvent=e=>{this.privEvents.onEvent(e),Hu.instance.onEvent(e)},this.privFormat=void 0===t?jc.getDefaultInputFormat():t,this.privEvents=new qu,this.privId=cu(),this.privCallback=e,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}get blob(){return Promise.reject("Not implemented")}turnOn(){this.onEvent(new yu(this.privId)),this.onEvent(new wu(this.privId))}attach(e){return Bc(this,void 0,void 0,(function*(){return this.onEvent(new Mu(this.privId,e)),yield this.turnOn(),this.onEvent(new Eu(this.privId,e)),{detach:()=>(this.privCallback.close(),this.onEvent(new Cu(this.privId,e)),this.turnOff()),id:()=>e,read:()=>{let e,t=0;for(;t<this.privBufferSize;){const n=new ArrayBuffer(this.privBufferSize-t),i=this.privCallback.read(n);if(void 0===e)e=n;else{new Int8Array(e).set(new Int8Array(n),t)}if(0===i)break;t+=i}return Promise.resolve({buffer:e.slice(0,t),isEnd:this.privIsClosed||0===t,timeReceived:Date.now()})}}}))}detach(e){this.onEvent(new Cu(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:Yl.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:Jl.Stream})}}var Vc,Wc,Kc,Gc,Yc={};t(Yc,"PushAudioOutputStream",(()=>ul),(e=>ul=e)),t(Yc,"PushAudioOutputStreamImpl",(()=>cl),(e=>cl=e)),t(Yc,"PullAudioOutputStream",(()=>al),(e=>al=e)),t(Yc,"AudioOutputStream",(()=>ol),(e=>ol=e)),t(Yc,"PullAudioOutputStreamImpl",(()=>sl),(e=>sl=e)),(Wc=Vc||(Vc={}))[Wc.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",Wc[Wc.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",Wc[Wc.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",Wc[Wc.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",Wc[Wc.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",Wc[Wc.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",Wc[Wc.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",Wc[Wc.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",Wc[Wc.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",Wc[Wc.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",Wc[Wc.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",Wc[Wc.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",Wc[Wc.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",Wc[Wc.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",Wc[Wc.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",Wc[Wc.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",Wc[Wc.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",Wc[Wc.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",Wc[Wc.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",Wc[Wc.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",Wc[Wc.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",Wc[Wc.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",Wc[Wc.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",(Gc=Kc||(Kc={}))[Gc.PCM=1]="PCM",Gc[Gc.MuLaw=2]="MuLaw",Gc[Gc.Siren=3]="Siren",Gc[Gc.MP3=4]="MP3",Gc[Gc.SILKSkype=5]="SILKSkype",Gc[Gc.Opus=6]="Opus";class Zc extends Lc{constructor(e,t,n,i,r,o,a,s,u){super(n,o,t),this.formatTag=e,this.avgBytesPerSec=i,this.blockAlign=r,this.priAudioFormatString=a,this.priRequestAudioFormatString=s,this.priHasHeader=u}static fromSpeechSynthesisOutputFormat(e){return void 0===e?Zc.getDefaultOutputFormat():Zc.fromSpeechSynthesisOutputFormatString(Zc.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new Zc(Kc.PCM,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new Zc(Kc.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new Zc(Kc.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new Zc(Kc.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new Zc(Kc.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new Zc(Kc.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new Zc(Kc.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new Zc(Kc.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new Zc(Kc.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new Zc(Kc.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new Zc(Kc.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new Zc(Kc.Opus,1,16e3,8192,2,16,e,"ogg-16khz-16bit-mono-opus",!1);case"ogg-24khz-16bit-mono-opus":return new Zc(Kc.Opus,1,24e3,8192,2,16,e,"ogg-24khz-16bit-mono-opus",!1);case"raw-48khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new Zc(Kc.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new Zc(Kc.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new Zc(Kc.MP3,1,48e3,24576,2,16,e,e,!1);case"riff-16khz-16bit-mono-pcm":default:return new Zc(Kc.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return Zc.fromSpeechSynthesisOutputFormatString("undefined"!=typeof window?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){new DataView(this.privHeader).setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}}Zc.SpeechSynthesisOutputFormatToString={[Vc.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[Vc.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[Vc.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[Vc.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[Vc.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[Vc.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[Vc.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[Vc.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[Vc.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[Vc.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[Vc.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[Vc.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[Vc.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[Vc.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[Vc.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[Vc.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[Vc.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[Vc.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[Vc.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[Vc.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[Vc.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[Vc.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[Vc.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3"};var Jc,Xc,$c,Qc,el,tl,nl,il,rl=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class ol{constructor(){}static createPullStream(){return al.create()}}class al extends ol{static create(){return new sl}}class sl extends al{constructor(){super(),this.privId=cu(),this.privStream=new ec.Stream}set format(e){null==e&&(this.privFormat=Zc.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}read(e){return rl(this,void 0,void 0,(function*(){const t=new Int8Array(e);let n=0;if(void 0!==this.privLastChunkView){if(this.privLastChunkView.length>e.byteLength)return t.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);t.set(this.privLastChunkView),n=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;n<e.byteLength&&!this.privStream.isReadEnded;){const i=yield this.privStream.read();if(void 0===i||i.isEnd)yield this.privStream.readEnded();else{let r;i.buffer.byteLength>e.byteLength-n?(r=i.buffer.slice(0,e.byteLength-n),this.privLastChunkView=new Int8Array(i.buffer.slice(e.byteLength-n))):r=i.buffer,t.set(new Int8Array(r),n),n+=r.byteLength}}return n}))}write(e){Oc.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}class ul extends ol{constructor(){super()}static create(e){return new cl(e)}}class cl extends ul{constructor(e){super(),this.privId=cu(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}class ll{static fromDefaultMicrophoneInput(){const e=new rf;return new hl(new Mc.MicAudioSource(e))}static fromMicrophoneInput(e){const t=new rf;return new hl(new Mc.MicAudioSource(t,e))}static fromWavFileInput(e){return new hl(new ef.FileAudioSource(e))}static fromStreamInput(e){if(e instanceof class{})return new hl(new Dc.PullAudioInputStreamImpl(e));if(e instanceof Dc.AudioInputStream)return new hl(e);if(e instanceof MediaStream){const t=new rf;return new hl(new Mc.MicAudioSource(t,null,null,e))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new fl(new Fl.SpeakerAudioDestination)}static fromSpeakerOutput(e){if(void 0===e)return ll.fromDefaultSpeakerOutput();if(e instanceof Fl.SpeakerAudioDestination)return new fl(e);throw new Error("Not Supported Type")}static fromAudioFileOutput(e){return new fl(new Rc(e))}static fromStreamOutput(e){if(e instanceof class{})return new fl(new Yc.PushAudioOutputStreamImpl(e));if(e instanceof Yc.PushAudioOutputStream)return new fl(e);if(e instanceof Yc.PullAudioOutputStream)return new fl(e);throw new Error("Not Supported Type")}}class hl extends ll{constructor(e){super(),this.privSource=e}get format(){return this.privSource.format}close(e,t){this.privSource.turnOff().then((()=>{e&&e()}),(e=>{t&&t(e)}))}id(){return this.privSource.id()}get blob(){return this.privSource.blob}turnOn(){return this.privSource.turnOn()}attach(e){return this.privSource.attach(e)}detach(e){return this.privSource.detach(e)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(e,t){if(Oc.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)}getProperty(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}class fl extends ll{constructor(e){super(),this.privDestination=e}set format(e){this.privDestination.format=e}write(e){this.privDestination.write(e)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(e,t){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(e,t){throw new Error("This AudioConfig instance does not support getting properties.")}}(Xc=Jc||(Jc={}))[Xc.Error=0]="Error",Xc[Xc.EndOfStream=1]="EndOfStream";class dl{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}class pl extends dl{constructor(e,t){super(t),this.privOffset=e}get offset(){return this.privOffset}}(Qc=$c||($c={}))[Qc.Simple=0]="Simple",Qc[Qc.Detailed=1]="Detailed";class ml extends class{constructor(e,t,n,i,r,o,a,s,u,c){this.privResultId=e,this.privReason=t,this.privText=n,this.privDuration=i,this.privOffset=r,this.privLanguage=o,this.privLanguageDetectionConfidence=a,this.privErrorDetails=s,this.privJson=u,this.privProperties=c}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}{constructor(e,t,n,i,r,o,a,s,u,c,l){super(e,t,n,i,r,o,a,u,c,l),this.privSpeakerId=s}get speakerId(){return this.privSpeakerId}}class vl extends pl{constructor(e,t,n){super(t,n),this.privResult=e}get result(){return this.privResult}}class gl extends pl{constructor(e,t,n,i,r){super(i,r),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=n}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}class bl extends gl{}(tl=el||(el={}))[tl.NoMatch=0]="NoMatch",tl[tl.Canceled=1]="Canceled",tl[tl.RecognizingSpeech=2]="RecognizingSpeech",tl[tl.RecognizedSpeech=3]="RecognizedSpeech",tl[tl.RecognizingIntent=4]="RecognizingIntent",tl[tl.RecognizedIntent=5]="RecognizedIntent",tl[tl.TranslatingSpeech=6]="TranslatingSpeech",tl[tl.TranslatedSpeech=7]="TranslatedSpeech",tl[tl.SynthesizingAudio=8]="SynthesizingAudio",tl[tl.SynthesizingAudioCompleted=9]="SynthesizingAudioCompleted",tl[tl.SynthesizingAudioStarted=10]="SynthesizingAudioStarted",tl[tl.EnrollingVoiceProfile=11]="EnrollingVoiceProfile",tl[tl.EnrolledVoiceProfile=12]="EnrolledVoiceProfile",tl[tl.RecognizedSpeakers=13]="RecognizedSpeakers",tl[tl.RecognizedSpeaker=14]="RecognizedSpeaker",tl[tl.ResetVoiceProfile=15]="ResetVoiceProfile",tl[tl.DeletedVoiceProfile=16]="DeletedVoiceProfile";class yl{constructor(){}static fromSubscription(e,t){Oc.throwIfNullOrWhitespace(e,"subscriptionKey"),Oc.throwIfNullOrWhitespace(t,"region");const n=new wl;return n.setProperty(nl.SpeechServiceConnection_Region,t),n.setProperty(nl.SpeechServiceConnection_IntentRegion,t),n.setProperty(nl.SpeechServiceConnection_Key,e),n}static fromEndpoint(e,t){Oc.throwIfNull(e,"endpoint");const n=new wl;return n.setProperty(nl.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&n.setProperty(nl.SpeechServiceConnection_Key,t),n}static fromHost(e,t){Oc.throwIfNull(e,"hostName");const n=new wl;return n.setProperty(nl.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&n.setProperty(nl.SpeechServiceConnection_Key,t),n}static fromAuthorizationToken(e,t){Oc.throwIfNull(e,"authorizationToken"),Oc.throwIfNullOrWhitespace(t,"region");const n=new wl;return n.setProperty(nl.SpeechServiceConnection_Region,t),n.setProperty(nl.SpeechServiceConnection_IntentRegion,t),n.authorizationToken=e,n}close(){}}class wl extends yl{constructor(){super(),this.privProperties=new _l,this.speechRecognitionLanguage="en-US",this.outputFormat=$c.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(nl.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(nl.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(nl.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(nl.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.privProperties.setProperty(nl.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return this.privProperties.getProperty(nl.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(e){this.privProperties.setProperty(nl.SpeechServiceConnection_RecoLanguage,e)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(nl.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(e){this.privProperties.setProperty(nl.SpeechServiceConnection_AutoDetectSourceLanguages,e)}get outputFormat(){return $c[this.privProperties.getProperty(Yh,void 0)]}set outputFormat(e){this.privProperties.setProperty(Yh,$c[e])}get endpointId(){return this.privProperties.getProperty(nl.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privProperties.setProperty(nl.SpeechServiceConnection_EndpointId,e)}setProperty(e,t){Oc.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}getProperty(e,t){return this.privProperties.getProperty(e,t)}setProxy(e,t,n,i){this.setProperty(nl[nl.SpeechServiceConnection_ProxyHostName],e),this.setProperty(nl[nl.SpeechServiceConnection_ProxyPort],t),this.setProperty(nl[nl.SpeechServiceConnection_ProxyUserName],n),this.setProperty(nl[nl.SpeechServiceConnection_ProxyPassword],i)}setServiceProperty(e,t,n){const i=JSON.parse(this.privProperties.getProperty(Jh,"{}"));i[e]=t,this.privProperties.setProperty(Jh,JSON.stringify(i))}setProfanity(e){this.privProperties.setProperty(nl.SpeechServiceResponse_ProfanityOption,Ol[e])}enableAudioLogging(){this.privProperties.setProperty(nl.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(nl.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(Xh,"true")}clone(){const e=new wl;return e.privProperties=this.privProperties.clone(),e}get speechSynthesisLanguage(){return this.privProperties.getProperty(nl.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privProperties.setProperty(nl.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(nl.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privProperties.setProperty(nl.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return Vc[this.privProperties.getProperty(nl.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privProperties.setProperty(nl.SpeechServiceConnection_SynthOutputFormat,Vc[e])}}class _l{constructor(){this.privKeys=[],this.privValues=[]}getProperty(e,t){let n;n="string"==typeof e?e:nl[e];for(let e=0;e<this.privKeys.length;e++)if(this.privKeys[e]===n)return this.privValues[e];return t}setProperty(e,t){let n;n="string"==typeof e?e:nl[e];for(let e=0;e<this.privKeys.length;e++)if(this.privKeys[e]===n)return void(this.privValues[e]=t);this.privKeys.push(n),this.privValues.push(t)}clone(){const e=new _l;for(let t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e}mergeTo(e){this.privKeys.forEach((t=>{if(void 0===e.getProperty(t,void 0)){const n=this.getProperty(t);e.setProperty(t,n)}}))}}(il=nl||(nl={}))[il.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",il[il.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",il[il.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",il[il.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",il[il.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",il[il.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",il[il.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",il[il.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",il[il.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",il[il.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",il[il.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",il[il.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",il[il.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",il[il.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",il[il.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",il[il.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",il[il.Speech_SessionId=16]="Speech_SessionId",il[il.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",il[il.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",il[il.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",il[il.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",il[il.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",il[il.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",il[il.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",il[il.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",il[il.CancellationDetails_Reason=25]="CancellationDetails_Reason",il[il.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",il[il.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",il[il.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",il[il.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",il[il.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",il[il.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",il[il.SpeechServiceConnection_EnableAudioLogging=32]="SpeechServiceConnection_EnableAudioLogging",il[il.SpeechServiceResponse_ProfanityOption=33]="SpeechServiceResponse_ProfanityOption",il[il.SpeechServiceResponse_PostProcessingOption=34]="SpeechServiceResponse_PostProcessingOption",il[il.SpeechServiceResponse_RequestWordLevelTimestamps=35]="SpeechServiceResponse_RequestWordLevelTimestamps",il[il.SpeechServiceResponse_StablePartialResultThreshold=36]="SpeechServiceResponse_StablePartialResultThreshold",il[il.SpeechServiceResponse_OutputFormatOption=37]="SpeechServiceResponse_OutputFormatOption",il[il.SpeechServiceResponse_TranslationRequestStablePartialResult=38]="SpeechServiceResponse_TranslationRequestStablePartialResult",il[il.Conversation_ApplicationId=39]="Conversation_ApplicationId",il[il.Conversation_DialogType=40]="Conversation_DialogType",il[il.Conversation_Initial_Silence_Timeout=41]="Conversation_Initial_Silence_Timeout",il[il.Conversation_From_Id=42]="Conversation_From_Id",il[il.Conversation_Conversation_Id=43]="Conversation_Conversation_Id",il[il.Conversation_Custom_Voice_Deployment_Ids=44]="Conversation_Custom_Voice_Deployment_Ids",il[il.Conversation_Speech_Activity_Template=45]="Conversation_Speech_Activity_Template",il[il.Conversation_Request_Bot_Status_Messages=46]="Conversation_Request_Bot_Status_Messages",il[il.SpeechServiceConnection_Host=47]="SpeechServiceConnection_Host",il[il.ConversationTranslator_Host=48]="ConversationTranslator_Host",il[il.ConversationTranslator_Name=49]="ConversationTranslator_Name",il[il.ConversationTranslator_CorrelationId=50]="ConversationTranslator_CorrelationId",il[il.ConversationTranslator_Token=51]="ConversationTranslator_Token",il[il.PronunciationAssessment_ReferenceText=52]="PronunciationAssessment_ReferenceText",il[il.PronunciationAssessment_GradingSystem=53]="PronunciationAssessment_GradingSystem",il[il.PronunciationAssessment_Granularity=54]="PronunciationAssessment_Granularity",il[il.PronunciationAssessment_EnableMiscue=55]="PronunciationAssessment_EnableMiscue",il[il.PronunciationAssessment_Json=56]="PronunciationAssessment_Json",il[il.PronunciationAssessment_Params=57]="PronunciationAssessment_Params";var kl={};t(kl,"Recognizer",(()=>Ml),(e=>Ml=e));var Sl=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Ml{constructor(e,t,n){this.audioConfig=void 0!==e?e:ll.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=n,this.implCommonRecognizerSetup()}close(e,t){Oc.throwIfDisposed(this.privDisposed),Wu(this.dispose(!0),e,t)}get internalData(){return this.privReco}dispose(e){return Sl(this,void 0,void 0,(function*(){this.privDisposed||(this.privDisposed=!0,e&&this.privReco&&(yield this.privReco.audioSource.turnOff(),yield this.privReco.dispose()))}))}static get telemetryEnabled(){return Ac.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(e){Ac.ServiceRecognizerBase.telemetryDataEnabled=e}implCommonRecognizerSetup(){let e="undefined"!=typeof window?"Browser":"Node",t="unknown",n="unknown";"undefined"!=typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,n=navigator.appVersion);const i=this.createRecognizerConfig(new th(new nh(new rh(e,t,n))));this.privReco=this.createServiceRecognizer(Ml.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,i)}recognizeOnceAsyncImpl(e){return Sl(this,void 0,void 0,(function*(){Oc.throwIfDisposed(this.privDisposed);const t=new Vu;yield this.implRecognizerStop(),yield this.privReco.recognize(e,t.resolve,t.reject);const n=yield t.promise;return yield this.implRecognizerStop(),n}))}startContinuousRecognitionAsyncImpl(e){return Sl(this,void 0,void 0,(function*(){Oc.throwIfDisposed(this.privDisposed),yield this.implRecognizerStop(),yield this.privReco.recognize(e,void 0,void 0)}))}stopContinuousRecognitionAsyncImpl(){return Sl(this,void 0,void 0,(function*(){Oc.throwIfDisposed(this.privDisposed),yield this.implRecognizerStop()}))}implRecognizerStop(){return Sl(this,void 0,void 0,(function*(){this.privReco&&(yield this.privReco.stopRecognizing())}))}static getAuthFromProperties(e){const t=e.getProperty(nl.SpeechServiceConnection_Key,void 0);return t&&""!==t?new xc(t):new Ic((t=>{const n=e.getProperty(nl.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(n)}),(t=>{const n=e.getProperty(nl.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(n)}))}}var El={};t(El,"SpeechRecognizer",(()=>Dl),(e=>Dl=e));var Cl,xl,Tl,Il,Al,Ol,Pl,Rl=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Dl extends kl.Recognizer{constructor(e,t){const n=e;Oc.throwIfNull(n,"speechConfig"),Oc.throwIfNullOrWhitespace(n.properties.getProperty(nl.SpeechServiceConnection_RecoLanguage),nl[nl.SpeechServiceConnection_RecoLanguage]),super(t,n.properties,new sh),this.privDisposedRecognizer=!1}static FromConfig(e,t,n){const i=e;t.properties.mergeTo(i.properties);return new Dl(e,n)}get endpointId(){return Oc.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(nl.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(nl.SpeechServiceAuthorization_Token)}set authorizationToken(e){Oc.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(nl.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return Oc.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(nl.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return Oc.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(Yh,$c[$c.Simple])===$c[$c.Simple]?$c.Simple:$c.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(e,t){Wu(this.recognizeOnceAsyncImpl(Vl.Interactive),e,t)}startContinuousRecognitionAsync(e,t){Wu(this.startContinuousRecognitionAsyncImpl(Vl.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){Wu(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,n){Oc.throwIfNull(e,"model"),n&&n("Not yet implemented.")}stopKeywordRecognitionAsync(e,t){e&&e()}close(e,t){Oc.throwIfDisposed(this.privDisposedRecognizer),Wu(this.dispose(!0),e,t)}dispose(e){const t=Object.create(null,{dispose:{get:()=>super.dispose}});return Rl(this,void 0,void 0,(function*(){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,yield this.implRecognizerStop()),yield t.dispose.call(this,e))}))}createRecognizerConfig(e){return new eh(e,this.properties)}createServiceRecognizer(e,t,n,i){const r=n;return new mh.SpeechServiceRecognizer(e,t,r,i,this)}}(xl=Cl||(Cl={}))[xl.TextIndependentIdentification=0]="TextIndependentIdentification",xl[xl.TextDependentVerification=1]="TextDependentVerification",xl[xl.TextIndependentVerification=2]="TextIndependentVerification";(Il=Tl||(Tl={}))[Il.NoError=0]="NoError",Il[Il.AuthenticationFailure=1]="AuthenticationFailure",Il[Il.BadRequestParameters=2]="BadRequestParameters",Il[Il.TooManyRequests=3]="TooManyRequests",Il[Il.ConnectionFailure=4]="ConnectionFailure",Il[Il.ServiceTimeout=5]="ServiceTimeout",Il[Il.ServiceError=6]="ServiceError",Il[Il.RuntimeError=7]="RuntimeError";class jl{constructor(){}set applicationId(e){}}jl.DialogTypes=((Al=class{}).BotFramework="bot_framework",Al.CustomCommands="custom_commands",Al);(Pl=Ol||(Ol={}))[Pl.Masked=0]="Masked",Pl[Pl.Removed=1]="Removed",Pl[Pl.Raw=2]="Raw";class Ll{constructor(e,t,n,i,r){this.privResultId=e,this.privReason=t,this.privAudioData=n,this.privErrorDetails=i,this.privProperties=r}get resultId(){return this.privResultId}get reason(){return this.privReason}get audioData(){return this.privAudioData}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}class Nl{constructor(e){this.privResult=e}get result(){return this.privResult}}class Bl{constructor(e,t,n,i){this.privAudioOffset=e,this.privText=t,this.privWordLength=n,this.privTextOffset=i}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}}var Fl={};t(Fl,"SpeakerAudioDestination",(()=>ql),(e=>ql=e));var Ul=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};const zl={[Kc.PCM]:"audio/wav",[Kc.MP3]:"audio/mpeg",[Kc.Opus]:"audio/ogg"};class ql{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||cu(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,t,n){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then((()=>{t&&t()}),(e=>{n&&n(e)}))):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,t){if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd().then((()=>{e&&e()}),(e=>{t&&t(e)}));else if(void 0!==this.privAudioOutputStream){let n=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(n).then((i=>{this.privFormat.hasHeader&&(n=Bh.SynthesisAdapterBase.addHeader(n,this.privFormat));const r=new Blob([n],{type:zl[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(r),this.notifyPlayback().then((()=>{e&&e()}),(e=>{t&&t(e)}))}),(e=>{t&&t(e)}))}}set format(e){if("undefined"!=typeof AudioContext||void 0!==window.webkitAudioContext){this.privFormat=e;const t=zl[this.privFormat.formatTag];void 0===t?console.warn(`Unknown mimeType for format ${Kc[this.privFormat.formatTag]}.`):"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported(t)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=e=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=1800,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(t),this.privSourceBuffer.onupdate=e=>{this.updateSourceBuffer().catch((e=>{Hu.instance.onEvent(new Sc(e))}))},this.privSourceBuffer.onupdateend=e=>{this.handleSourceBufferUpdateEnd().catch((e=>{Hu.instance.onEvent(new Sc(e))}))},this.privSourceBuffer.onupdatestart=e=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch((e=>{Hu.instance.onEvent(new Sc(e))}))):(console.warn(`Format ${Kc[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new Yc.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get isClosed(){return this.privIsClosed}get currentTime(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}pause(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,t){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play().then((()=>{e&&e()}),(e=>{t&&t(e)})),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}updateSourceBuffer(){return Ul(this,void 0,void 0,(function*(){if(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const e=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(e)}catch(t){return this.privAudioBuffer.unshift(e),void console.log("buffer filled, pausing addition of binaries until space is made")}yield this.notifyPlayback()}else this.canEndStream()&&(yield this.handleSourceBufferUpdateEnd())}))}handleSourceBufferUpdateEnd(){return Ul(this,void 0,void 0,(function*(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),yield this.notifyPlayback())}))}notifyPlayback(){return Ul(this,void 0,void 0,(function*(){this.privPlaybackStarted||void 0===this.privAudio||(this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||(yield this.privAudio.play()),this.privPlaybackStarted=!0)}))}canEndStream(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}sourceBufferAvailable(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}class Hl extends Uu{constructor(e,t,n,i,r,o,a,s){if(!t)throw new Nu("path");if(!n)throw new Nu("requestId");const u={};if(u[Ec.Path]=t,u[Ec.RequestId]=n,u[Ec.RequestTimestamp]=(new Date).toISOString(),i&&(u[Ec.ContentType]=i),o&&(u[Ec.RequestStreamId]=o),a)for(const e in a)e&&(u[e]=a[e]);s?super(e,r,u,s):super(e,r,u),this.privPath=t,this.privRequestId=n,this.privContentType=i,this.privStreamId=o,this.privAdditionalHeaders=a}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}}Hl.fromConnectionMessage=e=>{let t=null,n=null,i=null,r=null,o=null;const a={};if(e.headers)for(const s in e.headers)s&&(s.toLowerCase()===Ec.Path.toLowerCase()?t=e.headers[s]:s.toLowerCase()===Ec.RequestId.toLowerCase()?n=e.headers[s]:s.toLowerCase()===Ec.RequestTimestamp.toLowerCase()?r=e.headers[s]:s.toLowerCase()===Ec.ContentType.toLowerCase()?i=e.headers[s]:s.toLowerCase()===Ec.RequestStreamId.toLowerCase()?o=e.headers[s]:a[s]=e.headers[s]);return new Hl(e.messageType,t,n,i,e.body,o,a,e.id)};var Vl,Wl,Kl,Gl,Yl,Zl,Jl,Xl,$l=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Ql{constructor(e,t,n,i,r){if(this.privSetTimeout=setTimeout,this.recognizeOverride=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendSpeechContext=e=>{const t=this.speechContext.toJSON();if(t)return e.send(new Hl(fu.Text,"speech.context",this.privRequestSession.requestId,"application/json",t))},this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.sendSpeechServiceConfig=(e,t,n)=>{if(!0!==Ql.telemetryDataEnabled){const e={context:{system:JSON.parse(n).context.system}};n=JSON.stringify(e)}if(n)return e.send(new Hl(fu.Text,"speech.config",t.requestId,"application/json",n))},!e)throw new Nu("authentication");if(!t)throw new Nu("connectionFactory");if(!n)throw new Nu("audioSource");if(!i)throw new Nu("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=n,this.privRecognizerConfig=i,this.privIsDisposed=!1,this.privRecognizer=r,this.privRequestSession=new kh.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new qu,this.privServiceEvents=new qu,this.privDynamicGrammar=new Dh,this.privSpeechContext=new Rh(this.privDynamicGrammar),this.privAgentConfig=new jh,"undefined"!=typeof Blob&&"undefined"!=typeof Worker&&(this.privSetTimeout=ac.setTimeout),this.connectionEvents.attach((e=>$l(this,void 0,void 0,(function*(){if("ConnectionClosedEvent"===e.name){const t=e;1e3!==t.statusCode&&(yield this.cancelRecognitionLocal(Jc.Error,1007===t.statusCode?Tl.BadRequestParameters:Tl.ConnectionFailure,t.reason+" websocket error code: "+t.statusCode))}}))))}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(e){this.privRecognizerConfig.parameters.setProperty(nl.ConversationTranslator_Token,e)}set authentication(e){this.privAuthentication=this.authentication}isDisposed(){return this.privIsDisposed}dispose(e){return $l(this,void 0,void 0,(function*(){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise)try{const t=yield this.privConnectionConfigurationPromise;yield t.dispose(e)}catch(e){return}}))}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}recognize(e,t,n){return $l(this,void 0,void 0,(function*(){if(void 0!==this.recognizeOverride)return this.recognizeOverride(e,t,n);this.privConnectionConfigurationPromise=null,this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=n,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const i=this.connectImpl(),r=yield this.audioSource.attach(this.privRequestSession.audioNodeId),o=yield this.audioSource.format,a=yield this.audioSource.deviceInfo,s=new Uf(r,o.avgBytesPerSec);yield this.privRequestSession.onAudioSourceAttachCompleted(s,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:a};try{yield i}catch(e){return void(yield this.cancelRecognitionLocal(Jc.Error,Tl.ConnectionFailure,e))}const u=new dl(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,u);this.receiveMessage();this.sendAudio(s).catch((e=>$l(this,void 0,void 0,(function*(){yield this.cancelRecognitionLocal(Jc.Error,Tl.RuntimeError,e)}))))}))}stopRecognizing(){return $l(this,void 0,void 0,(function*(){this.privRequestSession.isRecognizing&&(yield this.audioSource.turnOff(),yield this.sendFinalAudio(),yield this.privRequestSession.onStopRecognizing(),yield this.privRequestSession.turnCompletionPromise,yield this.privRequestSession.dispose())}))}connect(){return $l(this,void 0,void 0,(function*(){return yield this.connectImpl(),Promise.resolve()}))}connectAsync(e,t){this.connectImpl().then((n=>{try{e&&e()}catch(e){t&&t(e)}}),(e=>{try{t&&t(e)}catch(e){}}))}disconnect(){return $l(this,void 0,void 0,(function*(){yield this.cancelRecognitionLocal(Jc.Error,Tl.NoError,"Disconnecting"),void 0!==this.disconnectOverride&&(yield this.disconnectOverride());try{yield(yield this.privConnectionPromise).dispose()}catch(e){}this.privConnectionPromise=null}))}sendMessage(e){}sendNetworkMessage(e,t){return $l(this,void 0,void 0,(function*(){const n="string"==typeof t?fu.Text:fu.Binary,i="string"==typeof t?"application/json":"";return(yield this.fetchConnection()).send(new Hl(n,e,this.privRequestSession.requestId,i,t))}))}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}sendTelemetryData(){return $l(this,void 0,void 0,(function*(){const e=this.privRequestSession.getTelemetry();if(!0!==Ql.telemetryDataEnabled||this.privIsDisposed||null===e)return;if(Ql.telemetryData)try{Ql.telemetryData(e)}catch(e){}const t=yield this.fetchConnection();yield t.send(new Hl(fu.Text,"telemetry",this.privRequestSession.requestId,"application/json",e))}))}cancelRecognitionLocal(e,t,n){return $l(this,void 0,void 0,(function*(){this.privRequestSession.isRecognizing&&(yield this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,n))}))}receiveMessage(){return $l(this,void 0,void 0,(function*(){try{if(this.privIsDisposed)return;let e=yield this.fetchConnection();const t=yield e.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(!t)return this.privRequestSession.isRecognizing?this.receiveMessage():void 0;this.privServiceHasSentMessage=!0;const n=Hl.fromConnectionMessage(t);if(n.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(n.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const t=dh.fromJSON(n.textBody),i=new pl(t.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,i);break;case"speech.enddetected":let r;r=n.textBody.length>0?n.textBody:"{ Offset: 0 }";const o=dh.fromJSON(r);this.privRecognizerConfig.isContinuousRecognition&&this.privRequestSession.onServiceRecognized(o.Offset+this.privRequestSession.currentTurnAudioOffset);const a=new pl(o.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,a);break;case"turn.end":yield this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,yield this.cancelRecognitionLocal(Jc.EndOfStream,Tl.NoError,void 0));const s=new dl(this.privRequestSession.sessionId);if(yield this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)return void(this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,s));e=yield this.fetchConnection(),yield this.sendPrePayloadJSON(e);break;default:(yield this.processTypeSpecificMessages(n))||this.privServiceEvents&&this.serviceEvents.onEvent(new Tu(n.path.toLowerCase(),n.textBody))}return this.receiveMessage()}catch(e){return null}}))}sendPrePayloadJSON(e){return $l(this,void 0,void 0,(function*(){if(void 0!==this.sendPrePayloadJSONOverride)return this.sendPrePayloadJSONOverride(e);yield this.sendSpeechContext(e),yield this.sendWaveHeader(e)}))}sendWaveHeader(e){return $l(this,void 0,void 0,(function*(){const t=yield this.audioSource.format;return e.send(new Hl(fu.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",t.header))}))}connectImpl(e=!1){if(this.privConnectionPromise)return this.privConnectionPromise.then((e=>e.state()===du.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise),(e=>(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl())));this.privAuthFetchEventId=cu();const t=this.privRecognizerConfig.parameters.getProperty(nl.Speech_SessionId,void 0);this.privConnectionId=void 0!==t?t:cu(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);const n=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=n.then((t=>$l(this,void 0,void 0,(function*(){yield this.privRequestSession.onAuthCompleted(!1);const n=this.privConnectionFactory.create(this.privRecognizerConfig,t,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(n.events),n.events.attach((e=>{this.connectionEvents.onEvent(e)}));const i=yield n.open();return 200===i.statusCode?(yield this.privRequestSession.onConnectionEstablishCompleted(i.statusCode),Promise.resolve(n)):403!==i.statusCode||e?(yield this.privRequestSession.onConnectionEstablishCompleted(i.statusCode,i.reason),Promise.reject(`Unable to contact server. StatusCode: ${i.statusCode}, ${this.privRecognizerConfig.parameters.getProperty(nl.SpeechServiceConnection_Endpoint)} Reason: ${i.reason}`)):this.connectImpl(!0)}))),(e=>$l(this,void 0,void 0,(function*(){throw yield this.privRequestSession.onAuthCompleted(!0,e),new Error(e)})))),this.privConnectionPromise.catch((()=>{})),void 0!==this.postConnectImplOverride?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise}fetchConnection(){return $l(this,void 0,void 0,(function*(){return this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===du.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=null,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise),(e=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=null,this.privServiceHasSentMessage=!1,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),yield this.privConnectionConfigurationPromise)}))}sendAudio(e){return $l(this,void 0,void 0,(function*(){const t=yield this.audioSource.format;let n=Date.now();const i=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),r=t.avgBytesPerSec/1e3*parseInt(i,10),o=this.privRequestSession.recogNumber,a=()=>$l(this,void 0,void 0,(function*(){var i;if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===o){const s=yield this.fetchConnection(),u=yield e.read();if(this.privRequestSession.isSpeechEnded)return;let c,l;if(!u||u.isEnd?(c=null,l=0):(c=u.buffer,this.privRequestSession.onAudioSent(c.byteLength),l=r>=this.privRequestSession.bytesSent?0:Math.max(0,n-Date.now())),0!==l&&(yield this.delay(l)),null!==c&&(n=Date.now()+1e3*c.byteLength/(2*t.avgBytesPerSec)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===o){if(s.send(new Hl(fu.Binary,"audio",this.privRequestSession.requestId,null,c)).catch((()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch((()=>{}))})),!(null===(i=u)||void 0===i?void 0:i.isEnd))return a();this.privRequestSession.onSpeechEnded()}}}));return a()}))}delay(e){return new Promise(((t,n)=>{this.privSetTimeout(t,e)}))}writeBufferToConsole(e){let t="Buffer Size: ";if(null===e)t+="null";else{const n=new Uint8Array(e);t+=e.byteLength+"\r\n";for(let i=0;i<e.byteLength;i++)t+=n[i].toString(16).padStart(2,"0")+" "}console.info(t)}sendFinalAudio(){return $l(this,void 0,void 0,(function*(){const e=yield this.fetchConnection();yield e.send(new Hl(fu.Binary,"audio",this.privRequestSession.requestId,null,null))}))}configureConnection(){return $l(this,void 0,void 0,(function*(){const e=yield this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(yield this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),yield this.sendPrePayloadJSON(e),e)}))}}Ql.telemetryDataEnabled=!0,(Wl=Vl||(Vl={}))[Wl.Interactive=0]="Interactive",Wl[Wl.Conversation=1]="Conversation",Wl[Wl.Dictation=2]="Dictation",(Gl=Kl||(Kl={}))[Gl.Simple=0]="Simple",Gl[Gl.Detailed=1]="Detailed";class eh{constructor(e,t){this.privRecognitionMode=Vl.Interactive,this.privSpeechServiceConfig=e||new th(new nh(null)),this.privParameters=t}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===Vl.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=Vl[e]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==Vl.Interactive}get autoDetectSourceLanguages(){return this.parameters.getProperty(nl.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}}class th{constructor(e){this.serialize=()=>JSON.stringify(this,((e,t)=>{if(t&&"object"==typeof t){const e={};for(const n in t)Object.hasOwnProperty.call(t,n)&&(e[n&&n.charAt(0).toLowerCase()+n.substring(1)]=t[n]);return e}return t})),this.context=e}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(e){this.recognition=e.toLowerCase()}}class nh{constructor(e){this.system=new ih,this.os=e}}class ih{constructor(){this.name="SpeechSDK",this.version="1.15.0",this.build="JavaScript",this.lang="JavaScript"}}class rh{constructor(e,t,n){this.platform=e,this.name=t,this.version=n}}(Zl=Yl||(Yl={})).Bluetooth="Bluetooth",Zl.Wired="Wired",Zl.WiFi="WiFi",Zl.Cellular="Cellular",Zl.InBuilt="InBuilt",Zl.Unknown="Unknown",(Xl=Jl||(Jl={})).Phone="Phone",Xl.Speaker="Speaker",Xl.Car="Car",Xl.Headset="Headset",Xl.Thermostat="Thermostat",Xl.Microphones="Microphones",Xl.Deskphone="Deskphone",Xl.RemoteControl="RemoteControl",Xl.Unknown="Unknown",Xl.File="File",Xl.Stream="Stream";class oh{constructor(){this.toConnectionMessage=e=>{const t=new Vu;try{if(e.messageType===fu.Text){const n=e.textContent;let i={},r=null;if(n){const e=n.split("\r\n\r\n");e&&e.length>0&&(i=this.parseHeaders(e[0]),e.length>1&&(r=e[1]))}t.resolve(new Uu(e.messageType,r,i,e.id))}else if(e.messageType===fu.Binary){const n=e.binaryContent;let i={},r=null;if(!n||n.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const o=new DataView(n),a=o.getInt16(0);if(n.byteLength<a+2)throw new Error("Invalid binary message format. Header content missing.");let s="";for(let e=0;e<a;e++)s+=String.fromCharCode(o.getInt8(e+2));i=this.parseHeaders(s),n.byteLength>a+2&&(r=n.slice(2+a)),t.resolve(new Uu(e.messageType,r,i,e.id))}}catch(e){t.reject(`Error formatting the message. Error: ${e}`)}return t.promise},this.fromConnectionMessage=e=>{const t=new Vu;try{if(e.messageType===fu.Text){const n=`${this.makeHeaders(e)}\r\n${e.textBody?e.textBody:""}`;t.resolve(new $u(fu.Text,n,e.id))}else if(e.messageType===fu.Binary){const n=this.makeHeaders(e),i=e.binaryBody,r=this.stringToArrayBuffer(n),o=new Int8Array(r),a=o.byteLength,s=new Int8Array(2+a+(i?i.byteLength:0));if(s[0]=a>>8&255,s[1]=255&a,s.set(o,2),i){const e=new Int8Array(i);s.set(e,2+a)}const u=s.buffer;t.resolve(new $u(fu.Binary,u,e.id))}}catch(e){t.reject(`Error formatting the message. ${e}`)}return t.promise},this.makeHeaders=e=>{let t="";if(e.headers)for(const n in e.headers)n&&(t+=`${n}: ${e.headers[n]}\r\n`);return t},this.parseHeaders=e=>{const t={};if(e){const n=e.match(/[^\r\n]+/g);if(t)for(const e of n)if(e){const n=e.indexOf(":"),i=n>0?e.substr(0,n).trim().toLowerCase():e,r=n>0&&e.length>n+1?e.substr(n+1).trim():"";t[i]=r}}return t},this.stringToArrayBuffer=e=>{const t=new ArrayBuffer(e.length),n=new DataView(t);for(let t=0;t<e.length;t++)n.setUint8(t,e.charCodeAt(t));return t}}}class ah{}ah.BotId="botid",ah.ConnectionId="connectionid",ah.CustomSpeechDeploymentId="cid",ah.CustomVoiceDeploymentId="deploymentId",ah.EnableAudioLogging="storeAudio",ah.EnableLanguageId="lidEnabled",ah.EnableWordLevelTimestamps="wordLevelTimestamps",ah.EndSilenceTimeoutMs="endSilenceTimeoutMs",ah.Format="format",ah.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",ah.Language="language",ah.Profanity="profanity",ah.RequestBotStatusMessages="enableBotMessageStatus",ah.StableIntermediateThreshold="stableIntermediateThreshold",ah.StableTranslation="stableTranslation",ah.TestHooks="testhooks";class sh extends class{setCommonUrlParams(e,t,n){this.setUrlParameter(nl.SpeechServiceConnection_EnableAudioLogging,ah.EnableAudioLogging,e,t,n),this.setUrlParameter(nl.SpeechServiceResponse_RequestWordLevelTimestamps,ah.EnableWordLevelTimestamps,e,t,n),this.setUrlParameter(nl.SpeechServiceResponse_ProfanityOption,ah.Profanity,e,t,n),this.setUrlParameter(nl.SpeechServiceConnection_InitialSilenceTimeoutMs,ah.InitialSilenceTimeoutMs,e,t,n),this.setUrlParameter(nl.SpeechServiceConnection_EndSilenceTimeoutMs,ah.EndSilenceTimeoutMs,e,t,n),this.setUrlParameter(nl.SpeechServiceResponse_StablePartialResultThreshold,ah.StableIntermediateThreshold,e,t,n);const i=JSON.parse(e.parameters.getProperty(Jh,"{}"));Object.keys(i).forEach(((e,n,r)=>{t[e]=i[e]}))}setUrlParameter(e,t,n,i,r){const o=n.parameters.getProperty(e,void 0);!o||r&&-1!==r.search(t)||(i[t]=o.toLocaleLowerCase())}}{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.create=(e,t,n)=>{let i=e.parameters.getProperty(nl.SpeechServiceConnection_Endpoint,void 0);const r=e.parameters.getProperty(nl.SpeechServiceConnection_Region,void 0),o=r&&r.toLowerCase().startsWith("china")?".azure.cn":".microsoft.com",a=e.parameters.getProperty(nl.SpeechServiceConnection_Host,"wss://"+r+".stt.speech"+o),s={},u=e.parameters.getProperty(nl.SpeechServiceConnection_EndpointId,void 0),c=e.parameters.getProperty(nl.SpeechServiceConnection_RecoLanguage,void 0);if(u?i&&-1!==i.search(ah.CustomSpeechDeploymentId)||(s[ah.CustomSpeechDeploymentId]=u):c&&(i&&-1!==i.search(ah.Language)||(s[ah.Language]=c)),i&&-1!==i.search(ah.Format)||(s[ah.Format]=e.parameters.getProperty(Yh,$c[$c.Simple]).toLowerCase()),void 0!==e.autoDetectSourceLanguages&&(s[ah.EnableLanguageId]="true"),this.setCommonUrlParams(e,s,i),!i)switch(e.recognitionMode){case Vl.Conversation:i="true"===e.parameters.getProperty(Xh,"false")?a+this.dictationRelativeUri:a+this.conversationRelativeUri;break;case Vl.Dictation:i=a+this.dictationRelativeUri;break;default:i=a+this.interactiveRelativeUri}const l={};void 0!==t.token&&""!==t.token&&(l[t.headerName]=t.token),l[Ec.ConnectionId]=n,e.parameters.setProperty(nl.SpeechServiceConnection_Url,i);const h="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new of.WebsocketConnection(i,s,l,new oh,qf.fromRecognizerConfig(e),h,n)}}}class uh{static implTranslateRecognitionResult(e){let t=el.Canceled;switch(e){case hh.Success:t=el.RecognizedSpeech;break;case hh.NoMatch:case hh.InitialSilenceTimeout:case hh.BabbleTimeout:case hh.EndOfDictation:t=el.NoMatch;break;case hh.Error:default:t=el.Canceled}return t}static implTranslateCancelResult(e){let t=Jc.EndOfStream;switch(e){case hh.Success:case hh.EndOfDictation:case hh.NoMatch:t=Jc.EndOfStream;break;case hh.InitialSilenceTimeout:case hh.BabbleTimeout:case hh.Error:default:t=Jc.Error}return t}static implTranslateCancelErrorCode(e){let t=Tl.NoError;switch(e){case hh.Error:t=Tl.ServiceError;break;case hh.TooManyRequests:t=Tl.TooManyRequests;break;default:t=Tl.NoError}return t}}var ch,lh,hh,fh;(lh=ch||(ch={}))[lh.Success=0]="Success",lh[lh.SynthesisEnd=1]="SynthesisEnd",lh[lh.Error=2]="Error",(fh=hh||(hh={}))[fh.Success=0]="Success",fh[fh.NoMatch=1]="NoMatch",fh[fh.InitialSilenceTimeout=2]="InitialSilenceTimeout",fh[fh.BabbleTimeout=3]="BabbleTimeout",fh[fh.Error=4]="Error",fh[fh.EndOfDictation=5]="EndOfDictation",fh[fh.TooManyRequests=6]="TooManyRequests";Ac.ServiceRecognizerBase;class dh{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new dh(e)}get Offset(){return this.privSpeechStartDetected.Offset}}class ph{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new ph(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}var mh={};t(mh,"SpeechServiceRecognizer",(()=>gh),(e=>gh=e));var vh=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class gh extends Ac.ServiceRecognizerBase{constructor(e,t,n,i,r){if(super(e,t,n,i,r),this.privSpeechRecognizer=r,void 0!==i.autoDetectSourceLanguages){const e=i.autoDetectSourceLanguages.split(",");this.privSpeechContext.setSection("languageId",{languages:e,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}})}}processTypeSpecificMessages(e){return vh(this,void 0,void 0,(function*(){let t;const n=new _l;n.setProperty(nl.SpeechServiceResponse_JsonResult,e.textBody);let i=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const r=ph.fromJSON(e.textBody),o=r.Offset+this.privRequestSession.currentTurnAudioOffset;t=new ml(this.privRequestSession.requestId,el.RecognizingSpeech,r.Text,r.Duration,o,r.Language,r.LanguageDetectionConfidence,void 0,void 0,e.textBody,n),this.privRequestSession.onHypothesis(o);const a=new vl(t,r.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,a)}catch(e){}i=!0;break;case"speech.phrase":const s=yh.fromJSON(e.textBody),u=uh.implTranslateRecognitionResult(s.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+s.Offset+s.Duration),el.Canceled===u){const e=uh.implTranslateCancelResult(s.RecognitionStatus);yield this.cancelRecognitionLocal(e,uh.implTranslateCancelErrorCode(s.RecognitionStatus),void 0)}else{if(!this.privRequestSession.isSpeechEnded||u!==el.NoMatch||s.RecognitionStatus===hh.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(Yh)===$c[$c.Simple])t=new ml(this.privRequestSession.requestId,u,s.DisplayText,s.Duration,s.Offset+this.privRequestSession.currentTurnAudioOffset,s.Language,s.LanguageDetectionConfidence,void 0,void 0,e.textBody,n);else{const i=bh.fromJSON(e.textBody);t=new ml(this.privRequestSession.requestId,u,i.RecognitionStatus===hh.Success?i.NBest[0].Display:void 0,i.Duration,i.Offset+this.privRequestSession.currentTurnAudioOffset,i.Language,i.LanguageDetectionConfidence,void 0,void 0,e.textBody,n)}const i=new vl(t,t.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,i)}catch(e){}}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}i=!0}return i}))}cancelRecognition(e,t,n,i,r){const o=new _l;if(o.setProperty(Zh,Tl[i]),this.privSpeechRecognizer.canceled){const t=new bl(n,r,i,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,t)}catch(e){}}if(this.privSuccessCallback){const e=new ml(t,el.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,o);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch(e){}}}}Ac.ServiceRecognizerBase;class bh{constructor(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=hh[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new bh(e)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}}class yh{constructor(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=hh[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new yh(e)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}}Ac.ServiceRecognizerBase;var wh,_h,kh={};t(kh,"RequestSession",(()=>Ph),(e=>Ph=e));class Sh extends gu{constructor(e,t,n,i=lu.Info){super(e,i),this.privRequestId=t,this.privSessionId=n}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}class Mh extends Sh{constructor(e,t,n,i){super("RecognitionTriggeredEvent",e,t),this.privAudioSourceId=n,this.privAudioNodeId=i}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class Eh extends Sh{constructor(e,t,n,i){super("ListeningStartedEvent",e,t),this.privAudioSourceId=n,this.privAudioNodeId=i}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class Ch extends Sh{constructor(e,t,n){super("ConnectingToServiceEvent",e,n),this.privAuthFetchEventid=t}get authFetchEventid(){return this.privAuthFetchEventid}}class xh extends Sh{constructor(e,t,n,i,r){super("RecognitionStartedEvent",e,r),this.privAudioSourceId=t,this.privAudioNodeId=n,this.privAuthFetchEventId=i}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}(_h=wh||(wh={}))[_h.Success=0]="Success",_h[_h.AudioSourceError=1]="AudioSourceError",_h[_h.AudioSourceTimeout=2]="AudioSourceTimeout",_h[_h.AuthTokenFetchError=3]="AuthTokenFetchError",_h[_h.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",_h[_h.UnAuthorized=5]="UnAuthorized",_h[_h.ConnectTimeout=6]="ConnectTimeout",_h[_h.ConnectError=7]="ConnectError",_h[_h.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",_h[_h.UnknownError=9]="UnknownError";class Th{constructor(e,t,n){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.onEvent=e=>{this.privIsDisposed||(e instanceof Mh&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof Mu&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof Eu&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof ku&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof xu&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Cu&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Ch&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof Au&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof Ou&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof Du&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof ju&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path&&(this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array),this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)))},this.getTelemetry=()=>{const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const t={Metrics:e,ReceivedMessages:this.privReceivedMessages},n=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],n},this.dispose=()=>{this.privIsDisposed=!0},this.getConnectionError=e=>{switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}},this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=n,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}get hasTelemetry(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}}var Ih,Ah,Oh=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Ph{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.onPreConnectionStart=(e,t)=>{this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new Ch(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))},this.onServiceTurnStartResponse=()=>{this.privTurnDeferral&&this.privInTurn&&this.privTurnDeferral.reject("Another turn started before current completed."),this.privInTurn=!0,this.privTurnDeferral=new Vu},this.getTelemetry=()=>this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null,this.onEvent=e=>{this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),Hu.instance.onEvent(e)},this.privAudioSourceId=e,this.privRequestId=cu(),this.privAudioNodeId=cu(),this.privTurnDeferral=new Vu,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get bytesSent(){return this.privBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRequestId=cu(),this.privRecogNumber++,this.privServiceTelemetryListener=new Th(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new Mh(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onAudioSourceAttachCompleted(e,t,n){return Oh(this,void 0,void 0,(function*(){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,t?yield this.onComplete():this.onEvent(new Eh(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}))}onAuthCompleted(e,t){return Oh(this,void 0,void 0,(function*(){e&&(yield this.onComplete())}))}onConnectionEstablishCompleted(e,t){return Oh(this,void 0,void 0,(function*(){if(200===e)return this.onEvent(new xh(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,void(this.privBytesSent=0);403===e&&(yield this.onComplete())}))}onServiceTurnEndResponse(e){return Oh(this,void 0,void 0,(function*(){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(yield this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privRequestId=cu(),this.privAudioNode.replay())}))}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e)}onAudioSent(e){this.privBytesSent+=e}dispose(e){return Oh(this,void 0,void 0,(function*(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)yield e.detach();this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}))}onStopRecognizing(){return Oh(this,void 0,void 0,(function*(){yield this.onComplete()}))}onSpeechEnded(){this.privIsSpeechEnded=!0}onComplete(){return Oh(this,void 0,void 0,(function*(){this.privIsRecognizing&&(this.privIsRecognizing=!1,yield this.detachAudioNode())}))}detachAudioNode(){return Oh(this,void 0,void 0,(function*(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&(yield this.privAudioNode.detach()))}))}}class Rh{constructor(e){this.privContext={},this.privDynamicGrammar=e}setSection(e,t){this.privContext[e]=t}setPronunciationAssessmentParams(e){void 0===this.privContext.phraseDetection&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),-1===this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();this.setSection("dgi",e);return JSON.stringify(this.privContext)}}class Dh{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(void 0===this.privGrammars&&void 0===this.privPhrases)return;const e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){const t=[];this.privPhrases.forEach(((e,n,i)=>{t.push({Text:e})})),e.Groups=[{Type:"Generic",Items:t}]}return e}}(Ah=Ih||(Ih={}))[Ah.None=0]="None",Ah[Ah.TextToSpeechAudio=1]="TextToSpeechAudio";Ac.ServiceRecognizerBase;class jh{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}class Lh{constructor(e){this.privSynthesisAudioMetadata=JSON.parse(e)}static fromJSON(e){return new Lh(e)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}var Nh={};t(Nh,"SynthesisTurn",(()=>Kh),(e=>Kh=e));var Bh={};t(Bh,"SynthesisAdapterBase",(()=>Uh),(e=>Uh=e));var Fh=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Uh{constructor(e,t,n,i,r){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.sendSynthesisContext=e=>{const t=this.synthesisContext.toJSON();if(t)return e.send(new Hl(fu.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t))},this.sendSpeechServiceConfig=(e,t)=>{if(t)return e.send(new Hl(fu.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t))},this.sendSsmlMessage=(e,t,n)=>e.send(new Hl(fu.Text,"ssml",n,"application/ssml+xml",t)),!e)throw new Nu("authentication");if(!t)throw new Nu("connectionFactory");if(!n)throw new Nu("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=n,this.privIsDisposed=!1,this.privSpeechSynthesizer=i,this.privSessionAudioDestination=r,this.privSynthesisTurn=new Nh.SynthesisTurn,this.privConnectionEvents=new qu,this.privServiceEvents=new qu,this.privSynthesisContext=new Gh(this.privSpeechSynthesizer),this.privAgentConfig=new jh,this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;1e3!==t.statusCode&&this.cancelSynthesisLocal(Jc.Error,1007===t.statusCode?Tl.BadRequestParameters:Tl.ConnectionFailure,t.reason+" websocket error code: "+t.statusCode)}}))}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e),void 0!==this.synthesisContext&&(this.synthesisContext.audioOutputFormat=e)}static addHeader(e,t){if(!t.hasHeader)return e;t.updateHeader(e.byteLength);const n=new Uint8Array(e.byteLength+t.header.byteLength);return n.set(new Uint8Array(t.header),0),n.set(new Uint8Array(e),t.header.byteLength),n.buffer}isDisposed(){return this.privIsDisposed}dispose(e){return Fh(this,void 0,void 0,(function*(){if(this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise){const t=yield this.privConnectionConfigurationPromise;yield t.dispose(e)}}))}connect(){return Fh(this,void 0,void 0,(function*(){yield this.connectImpl()}))}sendNetworkMessage(e,t){return Fh(this,void 0,void 0,(function*(){const n="string"==typeof t?fu.Text:fu.Binary,i="string"==typeof t?"application/json":"";return(yield this.fetchConnection()).send(new Hl(n,e,this.privSynthesisTurn.requestId,i,t))}))}Speak(e,t,n,i,r,o){return Fh(this,void 0,void 0,(function*(){let a;if(a=t?e:this.privSpeechSynthesizer.buildSsml(e),void 0!==this.speakOverride)return this.speakOverride(a,n,i,r);this.privSuccessCallback=i,this.privErrorCallback=r,this.privSynthesisTurn.startNewSynthesis(n,e,t,o);try{yield this.connectImpl();const e=yield this.fetchConnection();yield this.sendSynthesisContext(e),yield this.sendSsmlMessage(e,a,n);const t=new Nl(new Ll(n,el.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,t);this.receiveMessage()}catch(e){return this.cancelSynthesisLocal(Jc.Error,Tl.ConnectionFailure,e),Promise.reject(e)}}))}cancelSynthesis(e,t,n,i){const r=new _l;r.setProperty(Zh,Tl[n]);const o=new Ll(e,el.Canceled,void 0,i,r);if(this.privSpeechSynthesizer.SynthesisCanceled){const e=new Nl(o);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,e)}catch(e){}}if(this.privSuccessCallback)try{this.privSuccessCallback(o)}catch(e){}}cancelSynthesisLocal(e,t,n){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,n))}processTypeSpecificMessages(e,t,n){return!0}receiveMessage(){return Fh(this,void 0,void 0,(function*(){try{const e=yield this.fetchConnection(),t=yield e.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!t)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;this.privServiceHasSentMessage=!0;const n=Hl.fromConnectionMessage(t);if(n.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(n.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse();break;case"response":this.privSynthesisTurn.onServiceResponseMessage(n.textBody);break;case"audio":if(this.privSynthesisTurn.streamId.toLowerCase()===n.streamId.toLowerCase()&&n.binaryBody){if(this.privSynthesisTurn.onAudioChunkReceived(n.binaryBody),this.privSpeechSynthesizer.synthesizing)try{const e=Uh.addHeader(n.binaryBody,this.privSynthesisTurn.audioOutputFormat),t=new Nl(new Ll(this.privSynthesisTurn.requestId,el.SynthesizingAudio,e));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,t)}catch(e){}void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(n.binaryBody)}break;case"audio.metadata":const e=Lh.fromJSON(n.textBody).Metadata;for(const t of e)if(t.Type.toLowerCase()==="WordBoundary".toLowerCase()){this.privSynthesisTurn.onWordBoundaryEvent(t.Data.text.Text);const e=new Bl(t.Data.Offset,t.Data.text.Text,t.Data.text.Length,this.privSynthesisTurn.currentTextOffset);if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,e)}catch(e){}}break;case"turn.end":let t;this.privSynthesisTurn.onServiceTurnEndResponse();try{const e=yield this.privSynthesisTurn.getAllReceivedAudioWithHeader();t=new Ll(this.privSynthesisTurn.requestId,el.SynthesizingAudioCompleted,e),this.privSuccessCallback&&this.privSuccessCallback(t)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new Nl(t))}catch(e){}break;default:this.processTypeSpecificMessages(n)||this.privServiceEvents&&this.serviceEvents.onEvent(new Tu(n.path.toLowerCase(),n.textBody))}return this.receiveMessage()}catch(e){}}))}connectImpl(e=!1){if(this.privConnectionPromise)return this.privConnectionPromise.then((e=>e.state()===du.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise),(e=>(this.privConnectionId=null,this.privConnectionPromise=null,this.privServiceHasSentMessage=!1,this.connectImpl())));this.privAuthFetchEventId=cu(),this.privConnectionId=cu(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.then((t=>Fh(this,void 0,void 0,(function*(){yield this.privSynthesisTurn.onAuthCompleted(!1);const n=this.privConnectionFactory.create(this.privSynthesizerConfig,t,this.privConnectionId);n.events.attach((e=>{this.connectionEvents.onEvent(e)}));const i=yield n.open();return 200===i.statusCode?(yield this.privSynthesisTurn.onConnectionEstablishCompleted(i.statusCode),Promise.resolve(n)):403!==i.statusCode||e?(yield this.privSynthesisTurn.onConnectionEstablishCompleted(i.statusCode,i.reason),Promise.reject(`Unable to contact server. StatusCode: ${i.statusCode}, ${this.privSynthesizerConfig.parameters.getProperty(nl.SpeechServiceConnection_Endpoint)} Reason: ${i.reason}`)):this.connectImpl(!0)}))),(e=>Fh(this,void 0,void 0,(function*(){throw yield this.privSynthesisTurn.onAuthCompleted(!0,e),new Error(e)})))),this.privConnectionPromise.catch((()=>{})),this.privConnectionPromise}fetchConnection(){return Fh(this,void 0,void 0,(function*(){return this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===du.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=null,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise),(e=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=null,this.privServiceHasSentMessage=!1,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),yield this.privConnectionConfigurationPromise)}))}configureConnection(){return Fh(this,void 0,void 0,(function*(){const e=yield this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(yield this.sendSpeechServiceConfig(e,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),e)}))}}Uh.telemetryDataEnabled=!0;class zh extends gu{constructor(e,t,n=lu.Info){super(e,n),this.privRequestId=t}get requestId(){return this.privRequestId}}class qh extends zh{constructor(e,t,n){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=t,this.privTurnAudioDestinationId=n}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}class Hh extends zh{constructor(e,t){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}class Vh extends zh{constructor(e,t){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}var Wh=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Kh{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.onPreConnectionStart=(e,t)=>{this.privAuthFetchEventId=e,this.onEvent(new Hh(this.privRequestId,this.privAuthFetchEventId))},this.onAuthCompleted=(e,t)=>{e&&this.onComplete()},this.onConnectionEstablishCompleted=(e,t)=>{if(200===e)return this.onEvent(new Vh(this.requestId,this.privAuthFetchEventId)),void(this.privBytesReceived=0);403===e&&this.onComplete()},this.onServiceResponseMessage=e=>{const t=JSON.parse(e);this.streamId=t.audio.streamId},this.onServiceTurnEndResponse=()=>{this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()},this.onServiceTurnStartResponse=()=>{this.privTurnDeferral&&this.privInTurn&&this.privTurnDeferral.reject("Another turn started before current completed."),this.privInTurn=!0,this.privTurnDeferral=new Vu},this.dispose=e=>{this.privIsDisposed||(this.privIsDisposed=!0)},this.onEvent=e=>{Hu.instance.onEvent(e)},this.onComplete=()=>{this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,void 0!==this.privTurnAudioDestination&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))},this.privRequestId=cu(),this.privTurnDeferral=new Vu,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(e){this.privStreamId=e}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(e){this.privAudioOutputFormat=e}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get bytesReceived(){return this.privBytesReceived}getAllReceivedAudio(){return Wh(this,void 0,void 0,(function*(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(yield this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}))}getAllReceivedAudioWithHeader(){return Wh(this,void 0,void 0,(function*(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const e=yield this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=Bh.SynthesisAdapterBase.addHeader(e,this.audioOutputFormat),this.privReceivedAudioWithHeader}return this.getAllReceivedAudio()}))}startNewSynthesis(e,t,n,i){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=n,this.privAudioOutputStream=new Yc.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,void 0!==i&&(this.privTurnAudioDestination=i,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new qh(this.requestId,void 0,void 0===i?void 0:i.id()))}onAudioChunkReceived(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))}onWordBoundaryEvent(e){this.updateTextOffset(e)}onStopSynthesizing(){this.onComplete()}updateTextOffset(e){this.privTextOffset>=0&&(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+e.length),this.privIsSSML&&this.privRawText.indexOf("<",this.privTextOffset+1)>this.privRawText.indexOf(">",this.privTextOffset+1)&&this.updateTextOffset(e))}readAllAudioFromStream(){return Wh(this,void 0,void 0,(function*(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{yield this.privAudioOutputStream.read(this.privReceivedAudio)}catch(e){this.privReceivedAudio=new ArrayBuffer(0)}}}))}}class Gh{constructor(e){this.privContext={},this.privSpeechSynthesizer=e}setSection(e,t){this.privContext[e]=t}set audioOutputFormat(e){this.privAudioOutputFormat=e}toJSON(){const e=this.buildSynthesisContext();return this.setSection("synthesis",e),JSON.stringify(this.privContext)}buildSynthesisContext(){return{audio:{metadataOptions:{sentenceBoundaryEnabled:!1,wordBoundaryEnabled:!!this.privSpeechSynthesizer.wordBoundary},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:this.privSpeechSynthesizer.autoDetectSourceLanguage}}}}const Yh="OutputFormat",Zh="CancellationErrorCode",Jh="ServiceProperties",Xh="ForceDictation";var $h=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Qh{constructor(e,t,n,i){this.privRecorder=e,this.deviceId=t,this.privStreams={},this.turnOn=()=>{if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new Vu;try{this.createAudioContext()}catch(e){if(e instanceof Error){const t=e;this.privInitializeDeferral.reject(t.name+": "+t.message)}else this.privInitializeDeferral.reject(e);return this.privInitializeDeferral.promise}const e=window.navigator;let t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=(t,n,i)=>{e.mediaDevices.getUserMedia(t).then(n).catch(i)}),t){const e=()=>{this.onEvent(new yu(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new wu(this.privId)),this.privInitializeDeferral.resolve()):t({audio:!this.deviceId||{deviceId:this.deviceId},video:!1},(e=>{this.privMediaStream=e,this.onEvent(new wu(this.privId)),this.privInitializeDeferral.resolve()}),(e=>{const t=`Error occurred during microphone initialization: ${e}`;this.privInitializeDeferral.reject(t),this.onEvent(new ku(this.privId,t))}))};"suspended"===this.privContext.state?this.privContext.resume().then(e).catch((e=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${e}`)})):e()}else{const e="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(e),this.onEvent(new ku(e,""))}return this.privInitializeDeferral.promise},this.id=()=>this.privId,this.attach=e=>(this.onEvent(new Mu(this.privId,e)),this.listen(e).then((t=>(this.onEvent(new Eu(this.privId,e)),{detach:()=>$h(this,void 0,void 0,(function*(){return t.readEnded(),delete this.privStreams[e],this.onEvent(new Cu(this.privId,e)),this.turnOff()})),id:()=>e,read:()=>t.read()})))),this.detach=e=>{e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new Cu(this.privId,e)))},this.listen=e=>$h(this,void 0,void 0,(function*(){yield this.turnOn();const t=new oc(this.privOutputChunkSize,e);this.privStreams[e]=t;try{this.privRecorder.record(this.privContext,this.privMediaStream,t)}catch(t){throw this.onEvent(new xu(this.privId,e,t)),t}return t})),this.onEvent=e=>{this.privEvents.onEvent(e),Hu.instance.onEvent(e)},this.createAudioContext=()=>{this.privContext||(this.privContext=Lc.getAudioContext(Qh.AUDIOFORMAT.samplesPerSec))},this.privOutputChunkSize=Qh.AUDIOFORMAT.avgBytesPerSec/10,this.privId=n||cu(),this.privEvents=new qu,this.privMediaStream=i||null}get format(){return Promise.resolve(Qh.AUDIOFORMAT)}get blob(){return Promise.reject("Not implemented for Mic input")}turnOff(){return $h(this,void 0,void 0,(function*(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&t.close()}this.onEvent(new _u(this.privId)),this.privInitializeDeferral=null,yield this.destroyAudioContext()}))}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then((e=>({bitspersample:Qh.AUDIOFORMAT.bitsPerSample,channelcount:Qh.AUDIOFORMAT.channels,connectivity:Yl.Unknown,manufacturer:"Speech SDK",model:e,samplerate:Qh.AUDIOFORMAT.samplesPerSec,type:Jl.Microphones})))}setProperty(e,t){if("MICROPHONE-WorkletSourceUrl"!==e)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(t)}getMicrophoneLabel(){const e="microphone";if(void 0!==this.privMicrophoneLabel)return Promise.resolve(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Promise.resolve(e);this.privMicrophoneLabel=e;const t=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===t)return Promise.resolve(this.privMicrophoneLabel);const n=new Vu;return navigator.mediaDevices.enumerateDevices().then((e=>{for(const n of e)if(n.deviceId===t){this.privMicrophoneLabel=n.label;break}n.resolve(this.privMicrophoneLabel)}),(()=>n.resolve(this.privMicrophoneLabel))),n.promise}destroyAudioContext(){return $h(this,void 0,void 0,(function*(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let e=!1;"close"in this.privContext&&(e=!0),e?(yield this.privContext.close(),this.privContext=null):null!==this.privContext&&"running"===this.privContext.state&&(yield this.privContext.suspend())}))}}Qh.AUDIOFORMAT=jc.getDefaultInputFormat();var ef={};t(ef,"FileAudioSource",(()=>nf),(e=>nf=e));var tf=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class nf{constructor(e,t){this.privStreams={},this.privHeaderEnd=44,this.turnOn=()=>{if("undefined"==typeof FileReader){const e="Browser does not support FileReader.";return this.onEvent(new ku(e,"")),Promise.reject(e)}if(this.privFile.name.lastIndexOf(".wav")!==this.privFile.name.length-4){const e=this.privFile.name+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new ku(e,"")),Promise.reject(e)}this.onEvent(new yu(this.privId)),this.onEvent(new wu(this.privId))},this.id=()=>this.privId,this.attach=e=>tf(this,void 0,void 0,(function*(){this.onEvent(new Mu(this.privId,e));const t=yield this.upload(e);return this.onEvent(new Eu(this.privId,e)),Promise.resolve({detach:()=>tf(this,void 0,void 0,(function*(){t.readEnded(),delete this.privStreams[e],this.onEvent(new Cu(this.privId,e)),yield this.turnOff()})),id:()=>e,read:()=>t.read()})})),this.detach=e=>{e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new Cu(this.privId,e)))},this.turnOff=()=>{for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new _u(this.privId)),Promise.resolve()},this.onEvent=e=>{this.privEvents.onEvent(e),Hu.instance.onEvent(e)},this.privId=t||cu(),this.privEvents=new qu,this.privFile=e,this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}get blob(){return Promise.resolve(this.privFile)}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then((e=>Promise.resolve({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:Yl.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:Jl.File})))}readHeader(){const e=this.privFile.slice(0,128),t=new FileReader,n=new Vu;return t.onload=e=>{const t=e.target.result,i=new DataView(t),r=e=>String.fromCharCode(i.getUint8(e),i.getUint8(e+1),i.getUint8(e+2),i.getUint8(e+3));"RIFF"!==r(0)&&n.reject("Invalid WAV header in file, RIFF was not found"),"WAVE"===r(8)&&"fmt "===r(12)||n.reject("Invalid WAV header in file, WAVEfmt was not found");const o=i.getInt32(16,!0),a=i.getUint16(22,!0),s=i.getUint32(24,!0),u=i.getUint16(34,!0);let c=36+Math.max(o-16,0);for(;"data"!==r(c);c+=2)c>120&&n.reject("Invalid WAV header in file, data block was not found");this.privHeaderEnd=c+8,n.resolve(jc.getWaveFormatPCM(s,u,a))},t.readAsArrayBuffer(e),n.promise}upload(e){return tf(this,void 0,void 0,(function*(){yield this.turnOn();const t=yield this.privAudioFormatPromise,n=new FileReader,i=new oc(t.avgBytesPerSec/10,e);this.privStreams[e]=i;n.onload=e=>{i.isClosed||(i.writeStreamChunk({buffer:n.result,isEnd:!1,timeReceived:Date.now()}),i.close())},n.onerror=t=>{const n=`Error occurred while processing '${this.privFile.name}'. ${t}`;throw this.onEvent(new xu(this.privId,e,n)),new Error(n)};const r=this.privFile.slice(this.privHeaderEnd);return n.readAsArrayBuffer(r),i}))}}class rf{constructor(){this.record=(e,t,n)=>{const i=(()=>{let t=0;try{return e.createScriptProcessor(t,1,1)}catch(n){t=2048;let i=e.sampleRate;for(;t<16384&&i>=32e3;)t<<=1,i>>=1;return e.createScriptProcessor(t,1,1)}})(),r=new Qu(e.sampleRate,16e3);let o=!0;i.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);if(n&&!n.isClosed){const e=r.encode(t);e&&(n.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),o=!1)}};const a=e.createMediaStreamSource(t);this.privSpeechProcessorScript&&e.audioWorklet?e.audioWorklet.addModule(this.privSpeechProcessorScript).then((()=>{const i=new AudioWorkletNode(e,"speech-processor");i.port.onmessage=e=>{const t=e.data;if(n&&!n.isClosed){const e=r.encode(t);e&&(n.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),o=!1)}},a.connect(i),i.connect(e.destination),this.privMediaResources={scriptProcessorNode:i,source:a,stream:t}})).catch((()=>{a.connect(i),i.connect(e.destination),this.privMediaResources={scriptProcessorNode:i,source:a,stream:t}})):(a.connect(i),i.connect(e.destination),this.privMediaResources={scriptProcessorNode:i,source:a,stream:t})},this.releaseMediaResources=e=>{this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privMediaResources.stream.getTracks().forEach((e=>e.stop())),this.privMediaResources.source=null))}}setWorkletUrl(e){this.privSpeechProcessorScript=e}}var of={};t(of,"WebsocketConnection",(()=>Ff),(e=>Ff=e));var af={};t(af,"WebsocketMessageAdapter",(()=>Nf),(e=>Nf=e));Pc=o("3V6Bo");var sf={};t(sf,"CertCheckAgent",(()=>jf),(e=>jf=e));var uf;Pc=o("3V6Bo");o.register("45qO2",(function(e,t){!function(i){var r="object"==typeof t&&t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self!==a||(i=a);var s,u,c=2147483647,l=36,h=/^xn--/,f=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(p[e])}function b(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function y(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+b((e=e.replace(d,".")).split("."),t).join(".")}function w(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function _(e){return b(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var i=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;i+=l)e=m(e/35);return m(i+36*e/(e+38))}function M(e){var t,n,i,r,o,a,s,u,h,f,d,p=[],v=e.length,b=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&g("not-basic"),p.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<v;){for(o=b,a=1,s=l;r>=v&&g("invalid-input"),((u=(d=e.charCodeAt(r++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:l)>=l||u>m((c-b)/a))&&g("overflow"),b+=u*a,!(u<(h=s<=w?1:s>=w+26?26:s-w));s+=l)a>m(c/(f=l-h))&&g("overflow"),a*=f;w=S(b-o,t=p.length+1,0==o),m(b/t)>c-y&&g("overflow"),y+=m(b/t),b%=t,p.splice(b++,0,y)}return _(p)}function E(e){var t,n,i,r,o,a,s,u,h,f,d,p,b,y,_,M=[];for(p=(e=w(e)).length,t=128,n=0,o=72,a=0;a<p;++a)(d=e[a])<128&&M.push(v(d));for(i=r=M.length,r&&M.push("-");i<p;){for(s=c,a=0;a<p;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>m((c-n)/(b=i+1))&&g("overflow"),n+=(s-t)*b,t=s,a=0;a<p;++a)if((d=e[a])<t&&++n>c&&g("overflow"),d==t){for(u=n,h=l;!(u<(f=h<=o?1:h>=o+26?26:h-o));h+=l)_=u-f,y=l-f,M.push(v(k(f+_%y,0))),u=m(_/y);M.push(v(k(u,0))),o=S(n,b,i==r),n=0,++i}++n,++t}return M.join("")}if(s={version:"1.4.1",ucs2:{decode:w,encode:_},decode:M,encode:E,toASCII:function(e){return y(e,(function(e){return f.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return h.test(e)?M(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return s}));else if(r&&o)if(e.exports==r)o.exports=s;else for(u in s)s.hasOwnProperty(u)&&(r[u]=s[u]);else i.punycode=s}(this)}));var cf,lf=o("45qO2");function hf(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}cf={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},uf=Of;var ff,df,pf,mf,vf,gf,bf,yf=/^([a-z0-9.+-]+:)/i,wf=/:[0-9]*$/,_f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,kf=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Sf=["'"].concat(kf),Mf=["%","/","?",";","#"].concat(Sf),Ef=["/","?","#"],Cf=/^[+a-z0-9A-Z_-]{0,63}$/,xf=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tf={javascript:!0,"javascript:":!0},If={javascript:!0,"javascript:":!0},Af={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Of(e,t,n){if(e&&cf.isObject(e)&&e instanceof hf)return e;var i=new hf;return i.parse(e,t,n),i}o.register("60vxR",(function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,m=e[l].replace(s,"%20"),v=m.indexOf(r);v>=0?(h=m.substr(0,v),f=m.substr(v+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),n(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})),df=o("60vxR"),o.register("2q1kZ",(function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),(function(o){var s=encodeURIComponent(n(o))+a;return i(e[o])?r(e[o],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[o]))})).join(t):s?encodeURIComponent(n(s))+a+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}})),ff=o("2q1kZ"),hf.prototype.parse=function(e,t,n){if(!cf.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=-1!==i&&i<e.indexOf("#")?"?":"#",o=e.split(r);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(r);if(a=a.trim(),!n&&1===e.split("#").length){var s=_f.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?df(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=yf.exec(a);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===a.substr(0,2);!l||u&&If[u]||(a=a.substr(2),this.slashes=!0)}if(!If[u]&&(l||u&&!Af[u])){for(var h,f,d=-1,p=0;p<Ef.length;p++){-1!==(m=a.indexOf(Ef[p]))&&(-1===d||m<d)&&(d=m)}-1!==(f=-1===d?a.lastIndexOf("@"):a.lastIndexOf("@",d))&&(h=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(h)),d=-1;for(p=0;p<Mf.length;p++){var m;-1!==(m=a.indexOf(Mf[p]))&&(-1===d||m<d)&&(d=m)}-1===d&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),b=(p=0,g.length);p<b;p++){var y=g[p];if(y&&!y.match(Cf)){for(var w="",_=0,k=y.length;_<k;_++)y.charCodeAt(_)>127?w+="x":w+=y[_];if(!w.match(Cf)){var S=g.slice(0,p),M=g.slice(p+1),E=y.match(xf);E&&(S.push(E[1]),M.unshift(E[2])),M.length&&(a="/"+M.join(".")+a),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=lf.toASCII(this.hostname));var C=this.port?":"+this.port:"",x=this.hostname||"";this.host=x+C,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Tf[c])for(p=0,b=Sf.length;p<b;p++){var T=Sf[p];if(-1!==a.indexOf(T)){var I=encodeURIComponent(T);I===T&&(I=escape(T)),a=a.split(T).join(I)}}var A=a.indexOf("#");-1!==A&&(this.hash=a.substr(A),a=a.slice(0,A));var O=a.indexOf("?");if(-1!==O?(this.search=a.substr(O),this.query=a.substr(O+1),t&&(this.query=df(this.query)),a=a.slice(0,O)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Af[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){C=this.pathname||"";var P=this.search||"";this.path=C+P}return this.href=this.format(),this},hf.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&cf.isObject(this.query)&&Object.keys(this.query).length&&(o=ff(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Af[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},hf.prototype.resolve=function(e){return this.resolveObject(Of(e,!1,!0)).format()},hf.prototype.resolveObject=function(e){if(cf.isString(e)){var t=new hf;t.parse(e,!1,!0),e=t}for(var n=new hf,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];"protocol"!==u&&(n[u]=e[u])}return Af[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Af[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var h=c[l];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||If[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=v||m||n.host&&e.pathname,b=g,y=n.pathname&&n.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!Af[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),g=g&&(""===f[0]||""===y[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,y=f;else if(f.length)y||(y=[]),y.pop(),y=y.concat(f),n.search=e.search,n.query=e.query;else if(!cf.isNullOrUndefined(e.search)){if(w)n.hostname=n.host=y.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,cf.isNull(n.pathname)&&cf.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=y.slice(-1)[0],k=(n.host||e.host||y.length>1)&&("."===_||".."===_)||""===_,S=0,M=y.length;M>=0;M--)"."===(_=y[M])?y.splice(M,1):".."===_?(y.splice(M,1),S++):S&&(y.splice(M,1),S--);if(!g&&!b)for(;S--;)y.unshift("..");!g||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),k&&"/"!==y.join("/").substr(-1)&&y.push("");var E,C=""===y[0]||y[0]&&"/"===y[0].charAt(0);w&&(n.hostname=n.host=C?"":y.length?y.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(g=g||n.host&&y.length)&&!C&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),cf.isNull(n.pathname)&&cf.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},hf.prototype.parseHost=function(){var e=this.host,t=wf.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},o.register("56PqM",(function(e,t){"use strict";function n(e){this.options=e||{},this.cache={},this.options.probe&&(this.probe=this.options.probe),this.options.store&&(this.store=this.options.store),this.options.filter&&(this.filter=this.options.filter)}e.exports=n,n.prototype.filter=function(e,t){t(null)},n.prototype.probe=function(e,t){this.cache.hasOwnProperty(e)?t(null,this.cache[e]):t(null,!1)},n.prototype.store=function(e,t,n,i){this.cache.hasOwnProperty(e)&&clearTimeout(this.cache[e].timer);var r=this;this.cache[e]={response:t,timer:setTimeout((function(){delete r.cache[e]}),n)},i(null,null)},n.prototype.request=function(e,t,n){var i=this;function r(e,t){n&&n(e,t),n=null}function o(t,n){if(t)return r(t);r(null,n),i.getMaxStoreTime(n,(function(t,r){t||i.store(e,n,r,(function(){}))}))}this.filter(t.url,(function(e){if(e)return r(e,null);mf.getResponse(t.url,t.ocsp,o)}))},n.prototype.getMaxStoreTime=function(e,t){var n;try{n=mf.parseResponse(e).value}catch(e){return t(e)}if(0===n.tbsResponseData.responses.length)return t(new Error("No OCSP responses"));var i=n.tbsResponseData.responses;if(!i.every((function(e){return"good"===e.certStatus.type})))return t(new Error("Some OCSP responses are not good"));for(var r=0,o=0;o<i.length;o++){var a=(e=i[o]).nextUpdate;a&&((0===r||r>a)&&(r=a))}return t(null,Math.max(0,r-new Date))}})),o("56PqM"),o.register("5QJd4",(function(e,t){var n=R,i=o("2cK96"),r=o("76ImE"),a=o("2eqHZ"),s=o("3V6Bo");s=o("3V6Bo");function u(e){e||(e={}),a.Agent.call(this,e),this.caCache=new s({maxSize:e.CACacheSize||1024})}e.exports=u,i.inherits(u,a.Agent),u.prototype.createConnection=function(e,t,n){null!==e&&"object"==typeof e?(n=e,e=null):null!==t&&"object"==typeof t?(n=t,t=null):null!==n&&"object"==typeof n||(n={}),"number"==typeof e&&(n.port=e),"string"==typeof t&&(n.host=t);var r=i._extend({requestOCSP:!0},n),o=a.Agent.prototype.createConnection.call(this,e,t,r),s=this,u=null;return o.on("OCSPResponse",(function(e){u=e})),o.on("secure",(function(){return s.handleOCSPResponse(o,u,(function(e){if(e)return o.destroy(e);o.uncork()}))})),o.cork(),o},u.prototype.handleOCSPResponse=function(e,t,n){var i=e.ssl.getPeerCertificate(!0),r=i.issuerCertificate;i=i.raw;try{i=s.Certificate.decode(i,"der"),r&&(r=r.raw,r=s.Certificate.decode(r,"der"))}catch(e){return n(e)}function o(e,o){if(e)return n(e);if(r=o,!t)return bf({cert:i,issuer:r},n);var a=gf.generate(i,r);pf({request:a,response:t},n)}return r?o(null,r):this.fetchIssuer(i,t,o)},u.prototype.fetchIssuer=function(e,t,i){var o=mf["id-ad-caIssuers"].join("."),a=this;mf.getAuthorityInfo(e,o,(function(e,t){if(e)return i(e);var o=a.caCache.get(t);if(o)return i(null,o);var u=!1;function c(e,t){u||(u=!0,i(e,t))}r.get(t).on("error",c).on("response",(function(e){if(e.statusCode<200||e.statusCode>=400)return c(new Error("Failed to fetch CA: "+e.statusCode));var i=[];e.on("readable",(function(){var t=e.read();t&&i.push(t)})),e.on("end",(function(){var e=n.concat(i);try{e=s.Certificate.decode(e,"der")}catch(e){return c(e)}a.caCache.set(t,e),c(null,e)}))}))}))}})),o.register("76ImE",(function(e,t){var i=o("2R5rp"),r=o("40zun"),a=o("4dlYL"),s=o("4fb8q"),u=e.exports;u.request=function(e,t){e="string"==typeof e?uf(e):a(e);var r=-1===n.location.protocol.search(/^https?:$/)?"http:":"",o=e.protocol||r,s=e.hostname||e.host,u=e.port,c=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?o+"//"+s:"")+(u?":"+u:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var l=new i(e);return t&&l.on("response",t),l},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=i,u.IncomingMessage=r.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})),o.register("2R5rp",(function(e,t){var i=o("7lbf0"),r=R,a=o("2zgYS"),s=o("67rjf"),u=o("40zun"),c=o("4jMg6"),l=u.IncomingMessage,h=u.readyStates;var f=e.exports=function(e){var t,n=this;c.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+r.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)i=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}n._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":"text"}(t,i),n._fetchTimer=null,n._socketTimeout=null,n._socketTimer=null,n.on("finish",(function(){n._onFinish()}))};s(f,c.Writable),f.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var r=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var s=[];if(Object.keys(r).forEach((function(e){var t=r[e].name,n=r[e].value;Array.isArray(n)?n.forEach((function(e){s.push([t,e])})):s.push([t,n])})),"fetch"===e._mode){var u=null;if(a.abortController){var c=new AbortController;u=c.signal,e._fetchAbortController=c,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:s,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:u}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var l=e._xhr=new n.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in l&&(l.responseType=e._mode),"withCredentials"in l&&(l.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(l.timeout=t.requestTimeout,l.ontimeout=function(){e.emit("requestTimeout")}),s.forEach((function(e){l.setRequestHeader(e[0],e[1])})),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{l.send(o)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,n){this._body.push(e),n()},f.prototype._resetTimers=function(e){var t=this;n.clearTimeout(t._socketTimer),t._socketTimer=null,e?(n.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=n.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},f.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},f.prototype.setTimeout=function(e,t){var n=this;t&&n.once("timeout",t),n._socketTimeout=e,n._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]})),o.register("2zgYS",(function(e,i){var r,o,a,s,u,c,l,h;function f(){if(void 0!==h)return h;if(n.XMLHttpRequest){h=new n.XMLHttpRequest;try{h.open("GET",n.XDomainRequest?"/":"https://example.com")}catch(e){h=null}}else h=null;return h}function d(e){var t=f();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function p(e){return"function"==typeof e}t(e.exports,"mozchunkedarraybuffer",(()=>o),(e=>o=e)),t(e.exports,"writableStream",(()=>l),(e=>l=e)),t(e.exports,"arraybuffer",(()=>c),(e=>c=e)),t(e.exports,"overrideMimeType",(()=>s),(e=>s=e)),t(e.exports,"abortController",(()=>u),(e=>u=e)),t(e.exports,"msstream",(()=>a),(e=>a=e)),t(e.exports,"fetch",(()=>r),(e=>r=e)),r=p(n.fetch)&&p(n.ReadableStream),l=p(n.WritableStream),u=p(n.AbortController),c=r||d("arraybuffer"),a=!r&&d("ms-stream"),o=!r&&d("moz-chunked-arraybuffer"),s=r||!!f()&&p(f().overrideMimeType),h=null})),o.register("40zun",(function(e,i){var r,a;t(e.exports,"IncomingMessage",(()=>a),(e=>a=e)),t(e.exports,"readyStates",(()=>r),(e=>r=e));var s=R,u=o("7lbf0"),c=o("2zgYS"),l=o("67rjf"),h=o("4jMg6"),f=r={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d=a=function(e,t,n,i){var r=this;if(h.Readable.call(r),r._mode=n,r.headers={},r.rawHeaders=[],r.trailers={},r.rawTrailers=[],r.on("end",(function(){u.nextTick((function(){r.emit("close")}))})),"fetch"===n){if(r._fetchResponse=t,r.url=t.url,r.statusCode=t.status,r.statusMessage=t.statusText,t.headers.forEach((function(e,t){r.headers[t.toLowerCase()]=e,r.rawHeaders.push(t,e)})),c.writableStream){var o=new WritableStream({write:function(e){return i(!1),new Promise((function(t,n){r._destroyed?n():r.push(s.from(e))?t():r._resumeFetch=t}))},close:function(){i(!0),r._destroyed||r.push(null)},abort:function(e){i(!0),r._destroyed||r.emit("error",e)}});try{return void t.body.pipeTo(o).catch((function(e){i(!0),r._destroyed||r.emit("error",e)}))}catch(e){}}var a=t.body.getReader();!function e(){a.read().then((function(t){r._destroyed||(i(t.done),t.done?r.push(null):(r.push(s.from(t.value)),e()))})).catch((function(e){i(!0),r._destroyed||r.emit("error",e)}))}()}else{if(r._xhr=e,r._pos=0,r.url=e.responseURL,r.statusCode=e.status,r.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===r.headers[n]&&(r.headers[n]=[]),r.headers[n].push(t[2])):void 0!==r.headers[n]?r.headers[n]+=", "+t[2]:r.headers[n]=t[2],r.rawHeaders.push(t[1],t[2])}})),r._charset="x-user-defined",!c.overrideMimeType){var l=r.rawHeaders["mime-type"];if(l){var f=l.match(/;\s*charset=([^;])(;|$)/);f&&(r._charset=f[1].toLowerCase())}r._charset||(r._charset="utf-8")}}};l(d,h.Readable),d.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},d.prototype._onXHRProgress=function(e){var t=this,i=t._xhr,r=null;switch(t._mode){case"text":if((r=i.responseText).length>t._pos){var o=r.substr(t._pos);if("x-user-defined"===t._charset){for(var a=s.alloc(o.length),u=0;u<o.length;u++)a[u]=255&o.charCodeAt(u);t.push(a)}else t.push(o,t._charset);t._pos=r.length}break;case"arraybuffer":if(i.readyState!==f.DONE||!i.response)break;r=i.response,t.push(s.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=i.response,i.readyState!==f.LOADING||!r)break;t.push(s.from(new Uint8Array(r)));break;case"ms-stream":if(r=i.response,i.readyState!==f.LOADING)break;var c=new n.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(s.from(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){e(!0),t.push(null)},c.readAsArrayBuffer(r)}t._xhr.readyState===f.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}})),o.register("4jMg6",(function(e,t){(t=e.exports=o("23aBF")).Stream=t,t.Readable=t,t.Writable=o("7dSHG"),t.Duplex=o("gAREe"),t.Transform=o("4hIwt"),t.PassThrough=o("3pKNX"),t.finished=o("5D02T"),t.pipeline=o("6Y8G4")})),o.register("23aBF",(function(e,t){var i,r=o("7lbf0");e.exports=C,C.ReadableState=E;o("6xYCf").EventEmitter;var a=function(e,t){return e.listeners(t).length},s=o("6ekVZ"),u=R,c=n.Uint8Array||function(){};var l,h=o("3V6Bo");l=h&&h.debuglog?h.debuglog("stream"):function(){};var f,d,p,m=o("6ssxJ"),v=o("6HeTm"),g=o("6JR68").getHighWaterMark,b=o("3wxCL").codes,y=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("67rjf")(C,s);var S=v.errorOrDestroy,M=["error","close","destroy","pause","resume"];function E(e,t,n){i=i||o("gAREe"),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=o("30c5W").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function C(e){if(i=i||o("gAREe"),!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function x(e,t,n,i,r){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,a);else if(r||(o=function(e,t){var n;(function(e){return u.isBuffer(e)||e instanceof c})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));return n}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),i)a.endEmitted?S(e,new k):T(e,a,t,!0);else if(a.ended)S(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?T(e,a,t,!1):D(e,a)):T(e,a,t,!1)}else i||(a.reading=!1,D(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),D(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=v.destroy,C.prototype._undestroy=v.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=u.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},C.prototype.unshift=function(e){return x(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){f||(f=o("30c5W").StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(P,e))}function P(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function D(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(q,t,e))}function q(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):O(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&z(this),null;var i,r=t.needReadable;return l("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",r=!0),t.ended||t.reading?l("reading or ended",r=!1):r&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(i=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==i&&this.emit("data",i),i},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:v;function s(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",f),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){l("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var h=!1;function f(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==H(i.pipes,e))&&!h&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(t){l("onerror",t),v(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function p(){e.removeListener("finish",m),v()}function m(){l("onfinish"),e.removeListener("close",p),v()}function v(){l("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=H(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?O(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(L,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(B,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(l("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<M.length;o++)e.on(M[o],this.emit.bind(this,M[o]));return this._read=function(t){l("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=o("7Bro1")),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=U,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===p&&(p=o("3dERX")),p(C,e,t)})})),o.register("6ekVZ",(function(e,t){e.exports=o("6xYCf").EventEmitter})),o.register("6ssxJ",(function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=R,s=o("3V6Bo").inspect,u=s&&s.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,o,l;return t=e,(o=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,i=0;n;)c(n.data,t,i),i+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?i+=r:i+=r.slice(0,e),0==(e-=o)){o===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&r(t.prototype,o),l&&r(t,l),e}()})),o.register("6HeTm",(function(e,t){var n=o("7lbf0");function i(e,t){a(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?o._writableState?o._writableState.errorEmitted?n.nextTick(r,o):(o._writableState.errorEmitted=!0,n.nextTick(i,o,e)):n.nextTick(i,o,e):t?(n.nextTick(r,o),t(e)):n.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}})),o.register("6JR68",(function(e,t){"use strict";var n=o("3wxCL").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,r){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(r?i:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}})),o.register("3wxCL",(function(e,n){var i;t(e.exports,"codes",(()=>i),(e=>i=e));var r={};function o(e,t,n){n||(n=Error);var i=function(e){var n,i;function r(n,i,r){return e.call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,i,r))||this}return i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,r,o,s;if("string"==typeof t&&(r="not ",t.substr(!o||o<0?0:+o,r.length)===r)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(a(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(a(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i=r})),o.register("gAREe",(function(e,t){var n=o("7lbf0"),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var r=o("23aBF"),a=o("7dSHG");o("67rjf")(l,r);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),o.register("7dSHG",(function(e,t){var i,r=o("7lbf0");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=C,C.WritableState=E;var s={deprecate:o("bU0I5")},u=o("6ekVZ"),c=R,l=n.Uint8Array||function(){};var h,f=o("6HeTm"),d=o("6JR68").getHighWaterMark,p=o("3wxCL").codes,m=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,y=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function M(){}function E(e,t,n){i=i||o("gAREe"),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(P,e,t),e._writableState.errorEmitted=!0,S(e,i)):(o(i),e._writableState.errorEmitted=!0,S(e,i),P(e,t))}(e,n,i,t,o);else{var a=A(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),i?r.nextTick(T,e,n,a,o):T(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function C(e){var t=this instanceof(i=i||o("gAREe"));if(!t&&!h.call(C,this))return new C(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function x(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function T(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)r[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;r.allBuffers=u,x(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,h=n.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}o("67rjf")(C,u),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===C&&(e&&e._writableState instanceof E)}})):h=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new b)},C.prototype.write=function(e,t,n){var i=this._writableState,o=!1,a=!i.objectMode&&function(e){return c.isBuffer(e)||e instanceof l}(e);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=M),i.ending?function(e,t){var n=new _;S(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o;return null===n?o=new w:"string"==typeof n||t.objectMode||(o=new m("chunk",["string","Buffer"],n)),!o||(S(e,o),r.nextTick(i,o),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,s,i,r,o);return u}(this,i,a,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new v("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(e,t){t(e)}})),o.register("bU0I5",(function(e,t){function i(e){try{if(!n.localStorage)return!1}catch(e){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}})),o.register("30c5W",(function(e,n){var i;t(e.exports,"StringDecoder",(()=>i),(e=>i=e));var r=o("6aUge").Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=h,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=f,this.end=d,t=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}i=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=u(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=u(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=u(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),o.register("6aUge",(function(e,t){var n=U.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function r(e,t,i){return n(e,t,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=U:(i(U,e.exports),e.exports.Buffer=r),r.prototype=Object.create(n.prototype),i(n,r),r.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,i)},r.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=n(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return U.SlowBuffer(e)}})),o.register("7Bro1",(function(e,t){var n,i=o("7lbf0");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=o("5D02T"),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var n=e[d].read();null!==n&&(e[h]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function v(e){i.nextTick(m,e)}var g=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((r(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[h];if(r)n=new Promise(function(e,t){return function(n,i){e.then((function(){t[l]?n(p(void 0,!0)):t[f](n,i)}),i)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[h]=n,n}},Symbol.asyncIterator,(function(){return this})),r(n,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,n=Object.create(b,(r(t={},d,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,u,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,f,{value:function(e,t){var i=n[d].read();i?(n[h]=null,n[s]=null,n[u]=null,e(p(i,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[h]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[h]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var i=n[s];null!==i&&(n[h]=null,n[s]=null,n[u]=null,i(p(void 0,!0))),n[l]=!0})),e.on("readable",v.bind(null,n)),n}})),o.register("5D02T",(function(e,t){"use strict";var n=o("3wxCL").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,h=!0,s||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}})),o.register("3dERX",(function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}})),o.register("4hIwt",(function(e,t){"use strict";e.exports=l;var n=o("3wxCL").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,r=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=o("gAREe");function c(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new r);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}o("67rjf")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}})),o.register("3pKNX",(function(e,t){"use strict";e.exports=i;var n=o("4hIwt");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}o("67rjf")(i,n),i.prototype._transform=function(e,t,n){n(null,e)}})),o.register("6Y8G4",(function(e,t){"use strict";var n;var i=o("3wxCL").codes,r=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=o("5D02T")),n(e,{readable:t,writable:i},(function(e){if(e)return r(e);s=!0,r()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void r(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new r("streams");var a=t.map((function(e,n){var r=n<t.length-1;return u(e,r,n>0,(function(e){i||(i=e),e&&a.forEach(c),r||(a.forEach(c),o(i))}))}));return t.reduce(l)}})),o.register("4dlYL",(function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty})),o.register("4fb8q",(function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}})),o.register("2eqHZ",(function(e,t){var n=o("76ImE"),i=e.exports;for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);function a(e){if("string"==typeof e&&(e=uf(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=a(e),n.request.call(this,e,t)},i.get=function(e,t){return e=a(e),n.get.call(this,e,t)}})),vf=o("5QJd4"),o.register("7d0yx",(function(e,n){var i;t(e.exports,"getOCSPURI",(()=>i),(e=>i=e));var r=o("3V6Bo");r=o("3V6Bo");i=function(e,t){var n=r["id-pkix-ocsp"].join("."),i=mf.toDER(e,"CERTIFICATE");i=r.Certificate.decode(i,"der"),mf.getAuthorityInfo(i,n,t)}})),o("7d0yx").getOCSPURI,o.register("6H6Du",(function(e,n){var i;t(e.exports,"generate",(()=>i),(e=>i=e));var r=o("6NBIr"),a=o("3V6Bo");a=o("3V6Bo");function s(e){return r.createHash("sha1").update(e).digest()}i=function(e,t){var n,i;n=e.tbsCertificate?e:a.Certificate.decode(mf.toDER(e,"CERTIFICATE"),"der"),i=t.tbsCertificate?t:a.Certificate.decode(mf.toDER(t,"CERTIFICATE"),"der");var o=n.tbsCertificate,u=i.tbsCertificate,c={hashAlgorithm:{algorithm:[1,3,14,3,2,26]},issuerNameHash:s(a.Name.encode(o.issuer,"der")),issuerKeyHash:s(u.subjectPublicKeyInfo.subjectPublicKey.data),serialNumber:o.serialNumber},l={tbsRequest:{version:"v1",requestList:[{reqCert:c}],requestExtensions:[{extnID:a["id-pkix-ocsp-nonce"],critical:!1,extnValue:a.Nonce.encode(r.randomBytes(16),"der")}]}};return{id:s(a.CertID.encode(c,"der")),certID:c,data:a.OCSPRequest.encode(l,"der"),cert:n,issuer:i}}})),o.register("6NBIr",(function(e,n){var i,r,a;t(e.exports,"createVerify",(()=>r),(e=>r=e)),t(e.exports,"randomBytes",(()=>i),(e=>i=e)),t(e.exports,"createHash",(()=>a),(e=>a=e)),i=o("3pfpW"),a=o("uk3ap"),o("5FdWr");var s=o("GuzRm"),u=Object.keys(s),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(u);var l=o("KTk8W");l.pbkdf2,l.pbkdf2Sync;var h=o("2BAAN");h.Cipher,h.createCipher,h.Cipheriv,h.createCipheriv,h.Decipher,h.createDecipher,h.Decipheriv,h.createDecipheriv,h.getCiphers,h.listCiphers;var f=o("5KJtD");f.DiffieHellmanGroup,f.createDiffieHellmanGroup,f.getDiffieHellman,f.createDiffieHellman,f.DiffieHellman;var d=o("67mQp");d.createSign,d.Sign,r=d.createVerify,d.Verify,o("6SrWp");var p=o("20m1B");p.publicEncrypt,p.privateEncrypt,p.publicDecrypt,p.privateDecrypt;var m=o("5Z9Ew");m.randomFill,m.randomFillSync})),o.register("3pfpW",(function(e,t){var i=o("7lbf0"),r=65536;var a=o("6aUge").Buffer,s=n.crypto||n.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>r)for(var o=0;o<e;o+=r)s.getRandomValues(n.slice(o,o+r));else s.getRandomValues(n);return"function"==typeof t?i.nextTick((function(){t(null,n)})):n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),o.register("uk3ap",(function(e,t){"use strict";var n=o("67rjf"),i=o("275Ft"),r=o("1KIlU"),a=o("x98EY"),s=o("4Quo3");function u(e){s.call(this,"digest"),this._hash=e}n(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new r:new u(a(e))}})),o.register("275Ft",(function(e,t){"use strict";var n=o("67rjf"),i=o("1GBmN"),r=o("6aUge").Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,n,i,r,o,a){return u(e+(t&n|~t&i)+r+o|0,a)+t|0}function l(e,t,n,i,r,o,a){return u(e+(t&i|n&~i)+r+o|0,a)+t|0}function h(e,t,n,i,r,o,a){return u(e+(t^n^i)+r+o|0,a)+t|0}function f(e,t,n,i,r,o,a){return u(e+(n^(t|~i))+r+o|0,a)+t|0}n(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=c(n,i,r,o,e[0],3614090360,7),o=c(o,n,i,r,e[1],3905402710,12),r=c(r,o,n,i,e[2],606105819,17),i=c(i,r,o,n,e[3],3250441966,22),n=c(n,i,r,o,e[4],4118548399,7),o=c(o,n,i,r,e[5],1200080426,12),r=c(r,o,n,i,e[6],2821735955,17),i=c(i,r,o,n,e[7],4249261313,22),n=c(n,i,r,o,e[8],1770035416,7),o=c(o,n,i,r,e[9],2336552879,12),r=c(r,o,n,i,e[10],4294925233,17),i=c(i,r,o,n,e[11],2304563134,22),n=c(n,i,r,o,e[12],1804603682,7),o=c(o,n,i,r,e[13],4254626195,12),r=c(r,o,n,i,e[14],2792965006,17),n=l(n,i=c(i,r,o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),o=l(o,n,i,r,e[6],3225465664,9),r=l(r,o,n,i,e[11],643717713,14),i=l(i,r,o,n,e[0],3921069994,20),n=l(n,i,r,o,e[5],3593408605,5),o=l(o,n,i,r,e[10],38016083,9),r=l(r,o,n,i,e[15],3634488961,14),i=l(i,r,o,n,e[4],3889429448,20),n=l(n,i,r,o,e[9],568446438,5),o=l(o,n,i,r,e[14],3275163606,9),r=l(r,o,n,i,e[3],4107603335,14),i=l(i,r,o,n,e[8],1163531501,20),n=l(n,i,r,o,e[13],2850285829,5),o=l(o,n,i,r,e[2],4243563512,9),r=l(r,o,n,i,e[7],1735328473,14),n=h(n,i=l(i,r,o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),o=h(o,n,i,r,e[8],2272392833,11),r=h(r,o,n,i,e[11],1839030562,16),i=h(i,r,o,n,e[14],4259657740,23),n=h(n,i,r,o,e[1],2763975236,4),o=h(o,n,i,r,e[4],1272893353,11),r=h(r,o,n,i,e[7],4139469664,16),i=h(i,r,o,n,e[10],3200236656,23),n=h(n,i,r,o,e[13],681279174,4),o=h(o,n,i,r,e[0],3936430074,11),r=h(r,o,n,i,e[3],3572445317,16),i=h(i,r,o,n,e[6],76029189,23),n=h(n,i,r,o,e[9],3654602809,4),o=h(o,n,i,r,e[12],3873151461,11),r=h(r,o,n,i,e[15],530742520,16),n=f(n,i=h(i,r,o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),o=f(o,n,i,r,e[7],1126891415,10),r=f(r,o,n,i,e[14],2878612391,15),i=f(i,r,o,n,e[5],4237533241,21),n=f(n,i,r,o,e[12],1700485571,6),o=f(o,n,i,r,e[3],2399980690,10),r=f(r,o,n,i,e[10],4293915773,15),i=f(i,r,o,n,e[1],2240044497,21),n=f(n,i,r,o,e[8],1873313359,6),o=f(o,n,i,r,e[15],4264355552,10),r=f(r,o,n,i,e[6],2734768916,15),i=f(i,r,o,n,e[13],1309151649,21),n=f(n,i,r,o,e[4],4149444226,6),o=f(o,n,i,r,e[11],3174756917,10),r=f(r,o,n,i,e[2],718787259,15),i=f(i,r,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s})),o.register("1GBmN",(function(e,t){"use strict";var n=o("6aUge").Buffer,i=o("4jMg6").Transform;function r(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o("67rjf")(r,i),r.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(e){i=e}n(i)},r.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},r.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var i=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)i[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)i[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r})),o.register("1KIlU",(function(e,t){"use strict";var n=R,i=o("67rjf"),r=o("1GBmN"),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,i,r,o,a,s){return p(e+(t^n^i)+o+a|0,s)+r|0}function v(e,t,n,i,r,o,a,s){return p(e+(t&n|~t&i)+o+a|0,s)+r|0}function g(e,t,n,i,r,o,a,s){return p(e+((t|~n)^i)+o+a|0,s)+r|0}function b(e,t,n,i,r,o,a,s){return p(e+(t&i|n&~i)+o+a|0,s)+r|0}function y(e,t,n,i,r,o,a,s){return p(e+(t^(n|~i))+o+a|0,s)+r|0}i(d,r),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,k=0|this._c,S=0|this._d,M=0|this._e,E=0;E<80;E+=1){var C,x;E<16?(C=m(n,i,r,o,d,e[s[E]],h[0],c[E]),x=y(w,_,k,S,M,e[u[E]],f[0],l[E])):E<32?(C=v(n,i,r,o,d,e[s[E]],h[1],c[E]),x=b(w,_,k,S,M,e[u[E]],f[1],l[E])):E<48?(C=g(n,i,r,o,d,e[s[E]],h[2],c[E]),x=g(w,_,k,S,M,e[u[E]],f[2],l[E])):E<64?(C=b(n,i,r,o,d,e[s[E]],h[3],c[E]),x=v(w,_,k,S,M,e[u[E]],f[3],l[E])):(C=y(n,i,r,o,d,e[s[E]],h[4],c[E]),x=m(w,_,k,S,M,e[u[E]],f[4],l[E])),n=d,d=o,o=p(r,10),r=i,i=C,w=M,M=S,S=p(k,10),k=_,_=x}var T=this._b+r+S|0;this._b=this._c+o+M|0,this._c=this._d+d+w|0,this._d=this._e+n+_|0,this._e=this._a+i+k|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d})),o.register("x98EY",(function(e,t){var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=o("5GP9o"),n.sha1=o("WgooP"),n.sha224=o("6656g"),n.sha256=o("5ozPj"),n.sha384=o("5lkON"),n.sha512=o("7wTbq")})),o.register("5GP9o",(function(e,t){var n=o("67rjf"),i=o("Jwtsg"),r=o("6aUge").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((t=i)<<5|t>>>27)+l(d,r,o,s)+u+n[f]+a[d];u=s,s=o,o=c(r),r=i,i=p}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=r.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u})),o.register("Jwtsg",(function(e,t){var n=o("6aUge").Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var i=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%r,c=Math.min(o-s,r-u),l=0;l<c;l++)i[u+l]=e[s+l];s+=c,(a+=c)%r==0&&this._update(i)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i})),o.register("WgooP",(function(e,t){var n=o("67rjf"),i=o("Jwtsg"),r=o("6aUge").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=c(i)+h(p,r,o,s)+u+n[d]+a[p]|0;u=s,s=o,o=l(r),r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=r.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u})),o.register("6656g",(function(e,t){var n=o("67rjf"),i=o("5ozPj"),r=o("Jwtsg"),a=o("6aUge").Buffer,s=new Array(64);function u(){this.init(),this._w=s,r.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u})),o.register("5ozPj",(function(e,t){var n=o("67rjf"),i=o("Jwtsg"),r=o("6aUge").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,g=0;g<16;++g)n[g]=e.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((t=n[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[g-7]+d(n[g-15])+n[g-16];for(var b=0;b<64;++b){var y=v+f(u)+c(u,p,m)+a[b]+n[b]|0,w=h(i)+l(i,r,o)|0;v=m,m=p,p=u,u=s+y|0,s=o,o=r,r=i,i=y+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},u.prototype._hash=function(){var e=r.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u})),o.register("5lkON",(function(e,t){var n=o("67rjf"),i=o("7wTbq"),r=o("Jwtsg"),a=o("6aUge").Buffer,s=new Array(160);function u(){this.init(),this._w=s,r.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u})),o.register("7wTbq",(function(e,t){var n=o("67rjf"),i=o("Jwtsg"),r=o("6aUge").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,b=0|this._gh,y=0|this._hh,w=0|this._al,_=0|this._bl,k=0|this._cl,S=0|this._dl,M=0|this._el,E=0|this._fl,C=0|this._gl,x=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var I=t[T-30],A=t[T-30+1],O=d(I,A),P=p(A,I),R=m(I=t[T-4],A=t[T-4+1]),D=v(A,I),j=t[T-14],L=t[T-14+1],N=t[T-32],B=t[T-32+1],F=P+L|0,U=O+j+g(F,P)|0;U=(U=U+R+g(F=F+D|0,D)|0)+N+g(F=F+B|0,B)|0,t[T]=U,t[T+1]=F}for(var z=0;z<160;z+=2){U=t[z],F=t[z+1];var q=l(n,i,r),H=l(w,_,k),V=h(n,w),W=h(w,n),K=f(s,M),G=f(M,s),Y=a[z],Z=a[z+1],J=c(s,u,b),X=c(M,E,C),$=x+G|0,Q=y+K+g($,x)|0;Q=(Q=(Q=Q+J+g($=$+X|0,X)|0)+Y+g($=$+Z|0,Z)|0)+U+g($=$+F|0,F)|0;var ee=W+H|0,te=V+q+g(ee,W)|0;y=b,x=C,b=u,C=E,u=s,E=M,s=o+Q+g(M=S+$|0,S)|0,o=r,S=k,r=i,k=_,i=n,_=w,n=Q+te+g(w=$+ee|0,$)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+k|0,this._dl=this._dl+S|0,this._el=this._el+M|0,this._fl=this._fl+E|0,this._gl=this._gl+C|0,this._hl=this._hl+x|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+i+g(this._bl,_)|0,this._ch=this._ch+r+g(this._cl,k)|0,this._dh=this._dh+o+g(this._dl,S)|0,this._eh=this._eh+s+g(this._el,M)|0,this._fh=this._fh+u+g(this._fl,E)|0,this._gh=this._gh+b+g(this._gl,C)|0,this._hh=this._hh+y+g(this._hl,x)|0},u.prototype._hash=function(){var e=r.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u})),o.register("4Quo3",(function(e,t){var n=o("6aUge").Buffer,i=o("4jMg6").Transform,r=o("30c5W").StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o("67rjf")(a,i),a.prototype.update=function(e,t,i){"string"==typeof e&&(e=n.from(e,t));var r=this._update(e);return this.hashMode?this:(i&&(r=this._toString(r,i)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{n(i)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new r(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},e.exports=a})),o.register("5FdWr",(function(e,t){"use strict";var n=o("67rjf"),i=o("14zYM"),r=o("4Quo3"),a=o("6aUge").Buffer,s=o("4tiXs"),u=o("1KIlU"),c=o("x98EY"),l=a.alloc(128);function h(e,t){r.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new u:c(e)).update(t).digest():t.length<n&&(t=a.concat([t,l],n));for(var i=this._ipad=a.allocUnsafe(n),o=this._opad=a.allocUnsafe(n),s=0;s<n;s++)i[s]=54^t[s],o[s]=92^t[s];this._hash="rmd160"===e?new u:c(e),this._hash.update(i)}n(h,r),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(s,t):new h(e,t)}})),o.register("14zYM",(function(e,t){"use strict";var n=o("67rjf"),i=o("6aUge").Buffer,r=o("4Quo3"),a=i.alloc(128),s=64;function u(e,t){r.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var n=this._ipad=i.allocUnsafe(s),o=this._opad=i.allocUnsafe(s),u=0;u<s;u++)n[u]=54^t[u],o[u]=92^t[u];this._hash=[n]}n(u,r),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u})),o.register("4tiXs",(function(e,t){var n=o("275Ft");e.exports=function(e){return(new n).update(e).digest()}})),o.register("GuzRm",(function(e,t){e.exports=o("2ReIJ")})),o.register("2ReIJ",(function(e,t){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')})),o.register("KTk8W",(function(e,n){var i,r;t(e.exports,"pbkdf2",(()=>i),(e=>i=e)),t(e.exports,"pbkdf2Sync",(()=>r),(e=>r=e)),i=o("55Ivz"),r=o("79RCb")})),o.register("55Ivz",(function(e,t){var i,r,a=o("6aUge").Buffer,s=o("YBN3B"),u=o("71VDj"),c=o("79RCb"),l=o("3kz7C"),h=n.crypto&&n.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function p(){return r||(r=n.process&&n.process.nextTick?n.process.nextTick:n.queueMicrotask?n.queueMicrotask:n.setImmediate?n.setImmediate:n.setTimeout)}function m(e,t,n,i,r){return h.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return h.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:r}},e,i<<3)})).then((function(e){return a.from(e)}))}e.exports=function(e,t,r,o,v,g){"function"==typeof v&&(g=v,v=void 0);var b=f[(v=v||"sha1").toLowerCase()];if(b&&"function"==typeof n.Promise){if(s(r,o),e=l(e,u,"Password"),t=l(t,u,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){p()((function(){t(null,e)}))}),(function(e){p()((function(){t(e)}))}))}(function(e){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var t=m(i=i||a.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return d[e]=t,t}(b).then((function(n){return n?m(e,t,r,o,b):c(e,t,r,o,v)})),g)}else p()((function(){var n;try{n=c(e,t,r,o,v)}catch(e){return g(e)}g(null,n)}))}})),o.register("YBN3B",(function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}})),o.register("71VDj",(function(e,t){var i,r=o("7lbf0");if(n.process&&n.process.browser)i="utf-8";else if(n.process&&n.process.version){i=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else i="utf-8";e.exports=i})),o.register("79RCb",(function(e,t){var n=o("4tiXs"),i=o("1KIlU"),r=o("x98EY"),a=o("6aUge").Buffer,s=o("YBN3B"),u=o("71VDj"),c=o("3kz7C"),l=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,o){var s=function(e){function t(t){return r(e).update(t).digest()}function o(e){return(new i).update(e).digest()}return"rmd160"===e||"ripemd160"===e?o:"md5"===e?n:t}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=s(t):t.length<u&&(t=a.concat([t,l],u));for(var c=a.allocUnsafe(u+h[e]),f=a.allocUnsafe(u+h[e]),d=0;d<u;d++)c[d]=54^t[d],f[d]=92^t[d];var p=a.allocUnsafe(u+o+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=f,this.alg=e,this.blocksize=u,this.hash=s,this.size=h[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,i,r){s(n,i);var o=new f(r=r||"sha1",e=c(e,u,"Password"),(t=c(t,u,"Salt")).length),l=a.allocUnsafe(i),d=a.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,m=h[r],v=Math.ceil(i/m),g=1;g<=v;g++){d.writeUInt32BE(g,t.length);for(var b=o.run(d,o.ipad1),y=b,w=1;w<n;w++){y=o.run(y,o.ipad2);for(var _=0;_<m;_++)b[_]^=y[_]}b.copy(l,p),p+=m}return l}})),o.register("3kz7C",(function(e,t){var n=o("6aUge").Buffer;e.exports=function(e,t,i){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}})),o.register("2BAAN",(function(e,n){var i,r,a,s,u,c,l,h,f,d;t(e.exports,"Cipher",(()=>u),(e=>u=e)),t(e.exports,"Cipheriv",(()=>a),(e=>a=e)),t(e.exports,"createCipheriv",(()=>d),(e=>d=e)),t(e.exports,"Decipheriv",(()=>i),(e=>i=e)),t(e.exports,"listCiphers",(()=>h),(e=>h=e)),t(e.exports,"createCipher",(()=>r),(e=>r=e)),t(e.exports,"Decipher",(()=>l),(e=>l=e)),t(e.exports,"createDecipher",(()=>c),(e=>c=e)),t(e.exports,"createDecipheriv",(()=>f),(e=>f=e)),t(e.exports,"getCiphers",(()=>s),(e=>s=e));var p=o("1MLQx"),m=o("4rMrO"),v=o("4zJPx"),g=o("56jae"),b=o("1bB8M");function y(e,t,n){if(e=e.toLowerCase(),v[e])return m.createCipheriv(e,t,n);if(g[e])return new p({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function w(e,t,n){if(e=e.toLowerCase(),v[e])return m.createDecipheriv(e,t,n);if(g[e])return new p({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r=u=function(e,t){var n,i;if(e=e.toLowerCase(),v[e])n=v[e].key,i=v[e].iv;else{if(!g[e])throw new TypeError("invalid suite type");n=8*g[e].key,i=g[e].iv}var r=b(t,!1,n,i);return y(e,r.key,r.iv)},d=a=y,c=l=function(e,t){var n,i;if(e=e.toLowerCase(),v[e])n=v[e].key,i=v[e].iv;else{if(!g[e])throw new TypeError("invalid suite type");n=8*g[e].key,i=g[e].iv}var r=b(t,!1,n,i);return w(e,r.key,r.iv)},f=i=w,h=s=function(){return Object.keys(g).concat(m.getCiphers())}})),o.register("1MLQx",(function(e,t){var n=o("4Quo3"),i=o("Qscej"),r=o("67rjf"),a=o("6aUge").Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){n.call(this);var t,i=e.mode.toLowerCase(),r=s[i];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==i&&"des-ede-cbc"!==i||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=r.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,r(u,n),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}})),o.register("Qscej",(function(e,n){var i,r,a;t(e.exports,"EDE",(()=>i),(e=>i=e)),t(e.exports,"DES",(()=>r),(e=>r=e)),t(e.exports,"CBC",(()=>a),(e=>a=e)),o("4QRBR"),o("59UVW"),r=o("2v03U"),a=o("2zIgg"),i=o("5hPWB")})),o.register("4QRBR",(function(e,n){var i,r,o,a,s,u,c,l,h,f,d;t(e.exports,"ip",(()=>c),(e=>c=e)),t(e.exports,"substitute",(()=>a),(e=>a=e)),t(e.exports,"readUInt32BE",(()=>r),(e=>r=e)),t(e.exports,"pc1",(()=>l),(e=>l=e)),t(e.exports,"padSplit",(()=>s),(e=>s=e)),t(e.exports,"writeUInt32BE",(()=>d),(e=>d=e)),t(e.exports,"pc2",(()=>f),(e=>f=e)),t(e.exports,"expand",(()=>h),(e=>h=e)),t(e.exports,"rip",(()=>i),(e=>i=e)),t(e.exports,"permute",(()=>o),(e=>o=e)),t(e.exports,"r28shl",(()=>u),(e=>u=e)),r=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},d=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},c=function(e,t,n,i){for(var r=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[i+0]=r>>>0,n[i+1]=o>>>0},i=function(e,t,n,i){for(var r=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)r<<=1,r|=t>>>s+a&1,r<<=1,r|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},l=function(e,t,n,i){for(var r=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1}for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},u=function(e,t){return e<<t&268435455|e>>>28-t};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];f=function(e,t,n,i){for(var r=0,o=0,a=p.length>>>1,s=0;s<a;s++)r<<=1,r|=e>>>p[s]&1;for(s=a;s<p.length;s++)o<<=1,o|=t>>>p[s]&1;n[i+0]=r>>>0,n[i+1]=o>>>0},h=function(e,t,n){var i=0,r=0;i=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(o=11;o>=3;o-=4)r|=e>>>o&63,r<<=6;r|=(31&e)<<1|e>>>31,t[n+0]=i>>>0,t[n+1]=r>>>0};var m=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];a=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=m[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=m[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var v=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];o=function(e){for(var t=0,n=0;n<v.length;n++)t<<=1,t|=e>>>v[n]&1;return t>>>0},s=function(e,t,n){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var r=[],o=0;o<t;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}})),o.register("59UVW",(function(e,t){"use strict";var n=o("2GaDG");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,r,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),n+=this._flushBuffer(r,n);return t+=this._buffer(e,t),r},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}})),o.register("2GaDG",(function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}})),o.register("2v03U",(function(e,t){"use strict";var n=o("2GaDG"),i=o("67rjf"),r=o("4QRBR"),a=o("59UVW");function s(){this.tmp=new Array(2),this.keys=null}function u(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(u,a),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var i=r.readUInt32BE(t,0),o=r.readUInt32BE(t,4);r.pc1(i,o,e.tmp,0),i=e.tmp[0],o=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=c[a>>>1];i=r.r28shl(i,s),o=r.r28shl(o,s),r.pc2(i,o,e.keys,a)}},u.prototype._update=function(e,t,n,i){var o=this._desState,a=r.readUInt32BE(e,t),s=r.readUInt32BE(e,t+4);r.ip(a,s,o.tmp,0),a=o.tmp[0],s=o.tmp[1],"encrypt"===this.type?this._encrypt(o,a,s,o.tmp,0):this._decrypt(o,a,s,o.tmp,0),a=o.tmp[0],s=o.tmp[1],r.writeUInt32BE(n,a,i),r.writeUInt32BE(n,s,i+4)},u.prototype._pad=function(e,t){for(var n=e.length-t,i=t;i<e.length;i++)e[i]=n;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)n.equal(e[i],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,i,o){for(var a=t,s=n,u=0;u<e.keys.length;u+=2){var c=e.keys[u],l=e.keys[u+1];r.expand(s,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var h=r.substitute(c,l),f=s;s=(a^r.permute(h))>>>0,a=f}r.rip(s,a,i,o)},u.prototype._decrypt=function(e,t,n,i,o){for(var a=n,s=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],l=e.keys[u+1];r.expand(a,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var h=r.substitute(c,l),f=a;a=(s^r.permute(h))>>>0,s=f}r.rip(a,s,i,o)}})),o.register("2zIgg",(function(e,n){var i;t(e.exports,"instantiate",(()=>i),(e=>i=e));var r=o("2GaDG"),a=o("67rjf"),s={};function u(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}i=function(e){function t(t){e.call(this,t),this._cbcInit()}a(t,e);for(var n=Object.keys(s),i=0;i<n.length;i++){var r=n[i];t.prototype[r]=s[r]}return t.create=function(e){return new t(e)},t},s._cbcInit=function(){var e=new u(this.options.iv);this._cbcState=e},s._update=function(e,t,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,a=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,i);for(s=0;s<this.blockSize;s++)a[s]=n[i+s]}else{o._update.call(this,e,t,n,i);for(s=0;s<this.blockSize;s++)n[i+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}})),o.register("5hPWB",(function(e,t){"use strict";var n=o("2GaDG"),i=o("67rjf"),r=o("59UVW"),a=o("2v03U");function s(e,t){n.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),r=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i})]}function u(e){r.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(u,r),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,i){var r=this._edeState;r.ciphers[0]._update(e,t,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad})),o.register("4rMrO",(function(e,n){var i,r,a;t(e.exports,"createCipheriv",(()=>a),(e=>a=e)),t(e.exports,"createDecipheriv",(()=>r),(e=>r=e)),t(e.exports,"getCiphers",(()=>i),(e=>i=e));var s=o("ksHxj"),u=o("vtGGt"),c=o("6mhT9");s.createCipher,a=s.createCipheriv,u.createDecipher,r=u.createDecipheriv,i=function(){return Object.keys(c)}})),o.register("ksHxj",(function(e,n){var i,r;t(e.exports,"createCipheriv",(()=>r),(e=>r=e)),t(e.exports,"createCipher",(()=>i),(e=>i=e));var a=o("4zJPx"),s=o("12Jf8"),u=o("6aUge").Buffer,c=o("6MOXu"),l=o("4Quo3"),h=o("66Psv"),f=o("1bB8M");function d(e,t,n){l.call(this),this._cache=new m,this._cipher=new h.AES(t),this._prev=u.from(n),this._mode=e,this._autopadding=!0}o("67rjf")(d,l),d.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return u.concat(i)};var p=u.alloc(16,16);function m(){this.cache=u.allocUnsafe(0)}function v(e,t,n){var i=a[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=u.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=u.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new c(i.module,t,n):"auth"===i.type?new s(i.module,t,n):new d(i.module,t,n)}d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},m.prototype.add=function(e){this.cache=u.concat([this.cache,e])},m.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},m.prototype.flush=function(){for(var e=16-this.cache.length,t=u.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return u.concat([this.cache,t])},r=v,i=function(e,t){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=f(t,!1,n.key,n.iv);return v(e,i.key,i.iv)}})),o.register("4zJPx",(function(e,t){var n={ECB:o("3HRlj"),CBC:o("5rLAK"),CFB:o("7cCYr"),CFB8:o("kaRcz"),CFB1:o("5dtWf"),OFB:o("4r8lX"),CTR:o("vzwud"),GCM:o("vzwud")},i=o("6mhT9");for(var r in i)i[r].module=n[i[r].mode];e.exports=i})),o.register("3HRlj",(function(e,n){var i,r;t(e.exports,"encrypt",(()=>i),(e=>i=e)),t(e.exports,"decrypt",(()=>r),(e=>r=e)),i=function(e,t){return e._cipher.encryptBlock(t)},r=function(e,t){return e._cipher.decryptBlock(t)}})),o.register("5rLAK",(function(e,n){var i,r;t(e.exports,"decrypt",(()=>i),(e=>i=e)),t(e.exports,"encrypt",(()=>r),(e=>r=e));var a=o("7AG7r");r=function(e,t){var n=a(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},i=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return a(i,n)}})),o.register("7AG7r",(function(e,t){var n=R;e.exports=function(e,t){for(var i=Math.min(e.length,t.length),r=new n(i),o=0;o<i;++o)r[o]=e[o]^t[o];return r}})),o.register("7cCYr",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(e=>i=e));var r=o("6aUge").Buffer,a=o("7AG7r");function s(e,t,n){var i=t.length,o=a(t,e._cache);return e._cache=e._cache.slice(i),e._prev=r.concat([e._prev,n?t:o]),o}i=function(e,t,n){for(var i,o=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){o=r.concat([o,s(e,t,n)]);break}i=e._cache.length,o=r.concat([o,s(e,t.slice(0,i),n)]),t=t.slice(i)}return o}})),o.register("kaRcz",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(e=>i=e));var r=o("6aUge").Buffer;function a(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}i=function(e,t,n){for(var i=t.length,o=r.allocUnsafe(i),s=-1;++s<i;)o[s]=a(e,t[s],n);return o}})),o.register("5dtWf",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(e=>i=e));var r=o("6aUge").Buffer;function a(e,t,n){for(var i,r,o=-1,a=0;++o<8;)i=t&1<<7-o?128:0,a+=(128&(r=e._cipher.encryptBlock(e._prev)[0]^i))>>o%8,e._prev=s(e._prev,n?i:r);return a}function s(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}i=function(e,t,n){for(var i=t.length,o=r.allocUnsafe(i),s=-1;++s<i;)o[s]=a(e,t[s],n);return o}})),o.register("4r8lX",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(e=>i=e));var r=R,a=o("7AG7r");function s(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}i=function(e,t){for(;e._cache.length<t.length;)e._cache=r.concat([e._cache,s(e)]);var n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),a(t,n)}})),o.register("vzwud",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(e=>i=e));var r=o("7AG7r"),a=o("6aUge").Buffer,s=o("7qm3B");function u(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}i=function(e,t){var n=Math.ceil(t.length/16),i=e._cache.length;e._cache=a.concat([e._cache,a.allocUnsafe(16*n)]);for(var o=0;o<n;o++){var s=u(e),c=i+16*o;e._cache.writeUInt32BE(s[0],c+0),e._cache.writeUInt32BE(s[1],c+4),e._cache.writeUInt32BE(s[2],c+8),e._cache.writeUInt32BE(s[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}})),o.register("7qm3B",(function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}})),o.register("6mhT9",(function(e,t){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')})),o.register("12Jf8",(function(e,t){var n=o("66Psv"),i=o("6aUge").Buffer,r=o("4Quo3"),a=o("67rjf"),s=o("7DpyR"),u=o("7AG7r"),c=o("7qm3B");function l(e,t,o,a){r.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(u);this._ghash=new s(l),o=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,l=i.alloc(8);l.writeUIntBE(u,0,8),r.update(l),e._finID=r.state;var h=i.from(e._finID);return c(h),h}(this,o,l),this._prev=i.from(o),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,r),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var i=Math.min(e.length,t.length),r=0;r<i;++r)n+=e[r]^t[r];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l})),o.register("66Psv",(function(e,n){var i;t(e.exports,"AES",(()=>i),(e=>i=e));var r=o("6aUge").Buffer;function a(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function s(e){for(;0<e.length;e++)e[0]=0}function u(e,t,n,i,r){for(var o,a,s,u,c=n[0],l=n[1],h=n[2],f=n[3],d=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],v=e[3]^t[3],g=4,b=1;b<r;b++)o=c[d>>>24]^l[p>>>16&255]^h[m>>>8&255]^f[255&v]^t[g++],a=c[p>>>24]^l[m>>>16&255]^h[v>>>8&255]^f[255&d]^t[g++],s=c[m>>>24]^l[v>>>16&255]^h[d>>>8&255]^f[255&p]^t[g++],u=c[v>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&m]^t[g++],d=o,p=a,m=s,v=u;return o=(i[d>>>24]<<24|i[p>>>16&255]<<16|i[m>>>8&255]<<8|i[255&v])^t[g++],a=(i[p>>>24]<<24|i[m>>>16&255]<<16|i[v>>>8&255]<<8|i[255&d])^t[g++],s=(i[m>>>24]<<24|i[v>>>16&255]<<16|i[d>>>8&255]<<8|i[255&p])^t[g++],u=(i[v>>>24]<<24|i[d>>>16&255]<<16|i[p>>>8&255]<<8|i[255&m])^t[g++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,i[c]=a;var l=e[a],h=e[l],f=e[h],d=257*e[c]^16843008*c;r[0][a]=d<<24|d>>>8,r[1][a]=d<<16|d>>>16,r[2][a]=d<<8|d>>>24,r[3][a]=d,d=16843009*f^65537*h^257*l^16843008*a,o[0][c]=d<<24|d>>>8,o[1][c]=d<<16|d>>>16,o[2][c]=d<<8|d>>>24,o[3][c]=d,0===a?a=s=1:(a=l^e[e[e[f^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function h(e){this._key=a(e),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,i=4*(n+1),r=[],o=0;o<t;o++)r[o]=e[o];for(o=t;o<i;o++){var a=r[o-1];o%t==0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=c[o/t|0]<<24):t>6&&o%t==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),r[o]=r[o-t]^a}for(var s=[],u=0;u<i;u++){var h=i-u,f=r[h-(u%4?0:4)];s[u]=u<4||h<=4?f:l.INV_SUB_MIX[0][l.SBOX[f>>>24]]^l.INV_SUB_MIX[1][l.SBOX[f>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[f>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&f]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=s},h.prototype.encryptBlockRaw=function(e){return u(e=a(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},h.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},h.prototype.decryptBlock=function(e){var t=(e=a(e))[1];e[1]=e[3],e[3]=t;var n=u(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),i=r.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},h.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},i=h})),o.register("7DpyR",(function(e,t){var n=o("6aUge").Buffer,i=n.alloc(16,0);function r(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,i=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],o=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(o[0]^=i[0],o[1]^=i[1],o[2]^=i[2],o[3]^=i[3]),n=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=-520093696^i[0])}this.state=r(o)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(r([0,e,0,t])),this.state},e.exports=a})),o.register("6MOXu",(function(e,t){var n=o("66Psv"),i=o("6aUge").Buffer,r=o("4Quo3");function a(e,t,o,a){r.call(this),this._cipher=new n.AES(t),this._prev=i.from(o),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}o("67rjf")(a,r),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a})),o.register("1bB8M",(function(e,t){var n=o("6aUge").Buffer,i=o("275Ft");e.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,s=n.alloc(a),u=n.alloc(o||0),c=n.alloc(0);a>0||o>0;){var l=new i;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var h=0;if(a>0){var f=s.length-a;h=Math.min(a,c.length),c.copy(s,f,0,h),a-=h}if(h<c.length&&o>0){var d=u.length-o,p=Math.min(o,c.length-h);c.copy(u,d,h,h+p),o-=p}}return c.fill(0),{key:s,iv:u}}})),o.register("vtGGt",(function(e,n){var i,r;t(e.exports,"createDecipher",(()=>i),(e=>i=e)),t(e.exports,"createDecipheriv",(()=>r),(e=>r=e));var a=o("12Jf8"),s=o("6aUge").Buffer,u=o("4zJPx"),c=o("6MOXu"),l=o("4Quo3"),h=o("66Psv"),f=o("1bB8M");function d(e,t,n){l.call(this),this._cache=new p,this._last=void 0,this._cipher=new h.AES(t),this._prev=s.from(n),this._mode=e,this._autopadding=!0}function p(){this.cache=s.allocUnsafe(0)}function m(e,t,n){var i=u[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=s.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=s.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===i.type?new c(i.module,t,n,!0):"auth"===i.type?new a(i.module,t,n,!0):new d(i.module,t,n)}o("67rjf")(d,l),d.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),i.push(n);return s.concat(i)},d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},p.prototype.add=function(e){this.cache=s.concat([this.cache,e])},p.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},i=function(e,t){var n=u[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=f(t,!1,n.key,n.iv);return m(e,i.key,i.iv)},r=m})),o.register("56jae",(function(e,n){var i,r,o,a,s,u,c,l;t(e.exports,"des-ede3-cbc",(()=>s),(e=>s=e)),t(e.exports,"des-ecb",(()=>a),(e=>a=e)),t(e.exports,"des",(()=>c),(e=>c=e)),t(e.exports,"des3",(()=>u),(e=>u=e)),t(e.exports,"des-cbc",(()=>i),(e=>i=e)),t(e.exports,"des-ede-cbc",(()=>l),(e=>l=e)),t(e.exports,"des-ede3",(()=>r),(e=>r=e)),t(e.exports,"des-ede",(()=>o),(e=>o=e)),a={key:8,iv:0},i=c={key:8,iv:8},s=u={key:24,iv:8},r={key:24,iv:0},l={key:16,iv:8},o={key:16,iv:0}})),o.register("5KJtD",(function(e,n){var i,r,a,s,u;t(e.exports,"createDiffieHellman",(()=>i),(e=>i=e)),t(e.exports,"DiffieHellman",(()=>a),(e=>a=e)),t(e.exports,"createDiffieHellmanGroup",(()=>u),(e=>u=e)),t(e.exports,"DiffieHellmanGroup",(()=>s),(e=>s=e)),t(e.exports,"getDiffieHellman",(()=>r),(e=>r=e));var c=R,l=o("6N2lY"),h=o("3iYEc"),f=o("5UPRX");var d={binary:!0,hex:!0,base64:!0};s=u=r=function(e){var t=new c(h[e].prime,"hex"),n=new c(h[e].gen,"hex");return new f(t,n)},i=a=function e(t,n,i,r){return c.isBuffer(n)||void 0===d[n]?e(t,"binary",n,i):(n=n||"binary",r=r||"binary",i=i||new c([2]),c.isBuffer(i)||(i=new c(i,r)),"number"==typeof t?new f(l(t,i),i,!0):(c.isBuffer(t)||(t=new c(t,n)),new f(t,i,!0)))}})),o.register("6N2lY",(function(e,t){var n=o("3pfpW");e.exports=g,g.simpleSieve=m,g.fermatTest=v;var i=o("6qrKh"),r=new i(24),a=new(o("kpUS4")),s=new i(1),u=new i(2),c=new i(5),l=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(e){for(var t=function(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<t&&e[r]<=i&&n%e[r]!=0;r++);t!==r&&e[r]<=i||(e[t++]=n)}return p=e,e}(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function v(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function g(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var o,p;for(t=new i(t);;){for(o=new i(n(Math.ceil(e/8)));o.bitLength()>e;)o.ishrn(1);if(o.isEven()&&o.iadd(s),o.testn(1)||o.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;o.mod(l).cmp(h);)o.iadd(d)}else for(;o.mod(r).cmp(f);)o.iadd(d);if(m(p=o.shrn(1))&&m(o)&&v(p)&&v(o)&&a.test(p)&&a.test(o))return o}}})),o.register("6qrKh",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);i=(p=p.idivn(d)).isZero()?m+i:l[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},v.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},v.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},v.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),m(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},r.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new S(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(_,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("kpUS4",(function(e,t){var n=o("5joFU"),i=o("1ma98");function r(e){this.rand=e||new i.Rand}e.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var r=new n(this.rand.generate(i))}while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},r.prototype.test=function(e,t,i){var r=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var c=e.shrn(u),l=s.toRed(o);t>0;t--){var h=this._randrange(new n(2),s);i&&i(h);var f=h.toRed(o).redPow(c);if(0!==f.cmp(a)&&0!==f.cmp(l)){for(var d=1;d<u;d++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(l))break}if(d===u)return!1}}return!0},r.prototype.getDivisor=function(e,t){var i=e.bitLength(),r=n.mont(e),o=new n(1).toRed(r);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),c=a.toRed(r);t>0;t--){var l=this._randrange(new n(2),a),h=e.gcd(l);if(0!==h.cmpn(1))return h;var f=l.toRed(r).redPow(u);if(0!==f.cmp(o)&&0!==f.cmp(c)){for(var d=1;d<s;d++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(c))break}if(d===s)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}})),o.register("5joFU",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);i=(p=p.idivn(d)).isZero()?m+i:l[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},v.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},v.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},v.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),m(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},r.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new S(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(_,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("1ma98",(function(e,t){var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=o("3V6Bo");if("function"!=typeof r.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return r.randomBytes(e)}}catch(e){}})),o.register("3iYEc",(function(e,t){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')})),o.register("5UPRX",(function(e,t){var n=R,i=o("6qrKh"),r=new(o("kpUS4")),a=new i(24),s=new i(11),u=new i(10),c=new i(3),l=new i(7),h=o("6N2lY"),f=o("3pfpW");function d(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=v;var m={};function v(e,t,n){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function g(e,t){var i=new n(e.toArray());return t?i.toString(t):i}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),i=[n,e.toString(16)].join("_");if(i in m)return m[i];var o,f=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!r.test(e))return f+=1,f+="02"===n||"05"===n?8:4,m[i]=f,f;switch(r.test(e.shrn(1))||(f+=2),n){case"02":e.mod(a).cmp(s)&&(f+=8);break;case"05":(o=e.mod(u)).cmp(c)&&o.cmp(l)&&(f+=8);break;default:f+=4}return m[i]=f,f}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),o=this.getPrime();if(r.length<o.length){var a=new n(o.length-r.length);a.fill(0),r=n.concat([a,r])}return r},v.prototype.getPublicKey=function(e){return g(this._pub,e)},v.prototype.getPrivateKey=function(e){return g(this._priv,e)},v.prototype.getPrime=function(e){return g(this.__prime,e)},v.prototype.getGenerator=function(e){return g(this._gen,e)},v.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}})),o.register("67mQp",(function(e,t){var n=o("6aUge").Buffer,i=o("uk3ap"),r=o("4jMg6"),a=o("67rjf"),s=o("3aYJJ"),u=o("1p9Fd"),c=o("2ReIJ");function l(e){r.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){r.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new l(e)}function d(e){return new h(e)}Object.keys(c).forEach((function(e){c[e].id=n.from(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),a(l,r.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),i=s(n,e,this._hashType,this._signType,this._tag);return t?i.toString(t):i},a(h,r.Writable),h.prototype._write=function(e,t,n){this._hash.update(e),n()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},h.prototype.verify=function(e,t,i){"string"==typeof t&&(t=n.from(t,i)),this.end();var r=this._hash.digest();return u(t,r,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}})),o.register("3aYJJ",(function(e,t){var n=o("6aUge").Buffer,i=o("5FdWr"),r=o("Ib0dO"),a=o("3JLwK").ec,s=o("yehFW"),u=o("4yHxi"),c=o("52m6U");function l(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var a=n.alloc(t.byteLength()-e.length);e=n.concat([a,e])}var s=r.length,u=function(e,t){e=(e=h(e,t)).mod(t);var i=n.from(e.toArray());if(i.length<t.byteLength()){var r=n.alloc(t.byteLength()-i.length);i=n.concat([r,i])}return i}(r,t),c=n.alloc(s);c.fill(1);var l=n.alloc(s);return l=i(o,l).update(c).update(n.from([0])).update(e).update(u).digest(),c=i(o,l).update(c).digest(),{k:l=i(o,l).update(c).update(n.from([1])).update(e).update(u).digest(),v:c=i(o,l).update(c).digest()}}function h(e,t){var n=new s(e),i=(e.length<<3)-t.bitLength();return i>0&&n.ishrn(i),n}function f(e,t,r){var o,a;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);a=h(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function d(e,t,n,i){return e.toRed(s.mont(n)).redPow(t).fromRed().mod(i)}e.exports=function(e,t,i,o,p){var m=u(t);if(m.curve){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");return function(e,t){var i=c[t.curve.join(".")];if(!i)throw new Error("unknown curve "+t.curve.join("."));var r=new a(i).keyFromPrivate(t.privateKey).sign(e);return n.from(r.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==o)throw new Error("wrong private key type");return function(e,t,i){var r,o=t.params.priv_key,a=t.params.p,u=t.params.q,c=t.params.g,p=new s(0),m=h(e,u).mod(u),v=!1,g=l(o,u,e,i);for(;!1===v;)p=d(c,r=f(u,g,i),a,u),0===(v=r.invm(u).imul(m.add(o.mul(p))).mod(u)).cmpn(0)&&(v=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var i=[48,e.length+t.length+4,2,e.length];return i=i.concat(e,[2,t.length],t),n.from(i)}(p,v)}(e,m,i)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");e=n.concat([p,e]);for(var v=m.modulus.byteLength(),g=[0,1];e.length+g.length+1<v;)g.push(255);g.push(0);for(var b=-1;++b<e.length;)g.push(e[b]);return r(g,m)},e.exports.getKey=l,e.exports.makeKey=f})),o.register("Ib0dO",(function(e,t){var n=R,i=o("yehFW"),r=o("3pfpW");function a(e){var t,n=e.modulus.byteLength();do{t=new i(r(n))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function s(e,t){var r=function(e){var t=a(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),s=new i(e).mul(r.blinder).umod(t.modulus),u=s.toRed(i.mont(t.prime1)),c=s.toRed(i.mont(t.prime2)),l=t.coefficient,h=t.prime1,f=t.prime2,d=u.redPow(t.exponent1).fromRed(),p=c.redPow(t.exponent2).fromRed(),m=d.isub(p).imul(l).umod(h).imul(f);return p.iadd(m).imul(r.unblinder).umod(t.modulus).toArrayLike(n,"be",o)}s.getr=a,e.exports=s})),o.register("yehFW",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void n(!1,"Invalid character in "+e)}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,i,r){for(var o=0,a=0,s=Math.min(e.length,i),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=r,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<r,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this._strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype._move=function(e){l(e,this)},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){r.prototype.inspect=h}else r.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?f[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],l=p[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(e);i=(h=h.idivn(l)).isZero()?m+i:f[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16,2)},a&&(r.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}r.prototype.toArrayLike=function(e,t,i){this._strip();var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,r),a},r.prototype._toArrayLikeLE=function(e,t){for(var n=0,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n<e.length)for(e[n++]=i;n<e.length;)e[n++]=0},r.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n>=0)for(e[n--]=i;n>=0;)e[n--]=0},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var v=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n._strip()}function b(e,t,n){return g(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(v=m),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?v(this,e,t):n<63?m(this,e,t):n<1024?g(this,e,t):b(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},y.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},y.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},y.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},y.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),b(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var i=0,r=0;r<this.length;r++){var o=(0|this.words[r])*e,a=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=a>>>26,this.words[r]=67108863&a}return 0!==i&&(this.words[r]=i,this.length++),t?this.ineg():this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=e.words[i]>>>r&1}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this._strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this._strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this._strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var i=67108864%e,r=0,o=this.length-1;o>=0;o--)r=(i*r+(0|this.words[o]))%e;return t?-r:r},r.prototype.modn=function(e){return this.modrn(e)},r.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*i;this.words[r]=o/e|0,i=o%e}return this._strip(),t?this.ineg():this},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new C(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(k,_),k.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},k.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,_),i(M,_),i(E,_),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new k;else if("p224"===e)t=new S;else if("p192"===e)t=new M;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return w[e]=t,t},C.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},C.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new x(e)},i(x,C),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("3JLwK",(function(e,t){"use strict";var n=e.exports;n.version=o("13emN").version,n.utils=o("1Pi9K"),n.rand=o("1ma98"),n.curve=o("3acTV"),n.curves=o("2GcAi"),n.ec=o("1gQck"),n.eddsa=o("6KBuy")})),o.register("13emN",(function(e,t){e.exports=JSON.parse('{"_args":[["elliptic@6.5.4","/home/runner/work/azure-mud/azure-mud"]],"_development":true,"_from":"elliptic@6.5.4","_id":"elliptic@6.5.4","_inBundle":false,"_integrity":"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.4","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.4","saveSpec":null,"fetchSpec":"6.5.4"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz","_spec":"6.5.4","_where":"/home/runner/work/azure-mud/azure-mud","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},"description":"EC cryptography","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.4"}')})),o.register("1Pi9K",(function(e,t){"use strict";var n=e.exports,i=o("4WVjo"),r=o("2GaDG"),a=o("19iZY");n.assert=r,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,n){var i=new Array(Math.max(e.bitLength(),n)+1);i.fill(0);for(var r=1<<t+1,o=e.clone(),a=0;a<i.length;a++){var s,u=o.andln(r-1);o.isOdd()?(s=u>(r>>1)-1?(r>>1)-u:u,o.isubn(s)):s=0,i[a]=s,o.iushrn(1)}return i},n.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var i,r=0,o=0;e.cmpn(-r)>0||t.cmpn(-o)>0;){var a,s,u=e.andln(3)+r&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),a=0==(1&u)?0:3!==(i=e.andln(7)+r&7)&&5!==i||2!==c?u:-u,n[0].push(a),s=0==(1&c)?0:3!==(i=t.andln(7)+o&7)&&5!==i||2!==u?c:-c,n[1].push(s),2*r===a+1&&(r=1-r),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,n){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}})),o.register("4WVjo",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);i=(p=p.idivn(d)).isZero()?m+i:l[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},v.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},v.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},v.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),m(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},r.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new S(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(_,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("19iZY",(function(e,t){"use strict";var n=e.exports;function i(e){return 1===e.length?"0"+e:e}function r(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)n[i]=0|e[i];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var r=e.charCodeAt(i),o=r>>8,a=255&r;o?n.push(o,a):n.push(a)}return n},n.zero2=i,n.toHex=r,n.encode=function(e,t){return"hex"===t?r(e):e}})),o.register("3acTV",(function(e,t){"use strict";var n=e.exports;n.base=o("48BVT"),n.short=o("1zMX6"),n.mont=o("4D4cu"),n.edwards=o("2e86D")})),o.register("48BVT",(function(e,t){"use strict";var n=o("4WVjo"),i=o("1Pi9K"),r=i.getNAF,a=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),i=r(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var a,u,c=[];for(a=0;a<i.length;a+=n.step){u=0;for(var l=a+n.step-1;l>=a;l--)u=(u<<1)+i[l];c.push(u)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=o;d>0;d--){for(a=0;a<c.length;a++)(u=c[a])===d?f=f.mixedAdd(n.points[a]):u===-d&&(f=f.mixedAdd(n.points[a].neg()));h=h.add(f)}return h.toP()},u.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,a=r(t,n,this._bitLength),u=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&0===a[c];c--)l++;if(c>=0&&l++,u=u.dblp(l),c<0)break;var h=a[c];s(0!==h),u="affine"===e.type?h>0?u.mixedAdd(o[h-1>>1]):u.mixedAdd(o[-h-1>>1].neg()):h>0?u.add(o[h-1>>1]):u.add(o[-h-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,n,i,o){var s,u,c,l=this._wnafT1,h=this._wnafT2,f=this._wnafT3,d=0;for(s=0;s<i;s++){var p=(c=t[s])._getNAFPoints(e);l[s]=p.wnd,h[s]=p.points}for(s=i-1;s>=1;s-=2){var m=s-1,v=s;if(1===l[m]&&1===l[v]){var g=[t[m],null,null,t[v]];0===t[m].y.cmp(t[v].y)?(g[1]=t[m].add(t[v]),g[2]=t[m].toJ().mixedAdd(t[v].neg())):0===t[m].y.cmp(t[v].y.redNeg())?(g[1]=t[m].toJ().mixedAdd(t[v]),g[2]=t[m].add(t[v].neg())):(g[1]=t[m].toJ().mixedAdd(t[v]),g[2]=t[m].toJ().mixedAdd(t[v].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],y=a(n[m],n[v]);for(d=Math.max(y[0].length,d),f[m]=new Array(d),f[v]=new Array(d),u=0;u<d;u++){var w=0|y[0][u],_=0|y[1][u];f[m][u]=b[3*(w+1)+(_+1)],f[v][u]=0,h[m]=g}}else f[m]=r(n[m],l[m],this._bitLength),f[v]=r(n[v],l[v],this._bitLength),d=Math.max(f[m].length,d),d=Math.max(f[v].length,d)}var k=this.jpoint(null,null,null),S=this._wnafT4;for(s=d;s>=0;s--){for(var M=0;s>=0;){var E=!0;for(u=0;u<i;u++)S[u]=0|f[u][s],0!==S[u]&&(E=!1);if(!E)break;M++,s--}if(s>=0&&M++,k=k.dblp(M),s<0)break;for(u=0;u<i;u++){var C=S[u];0!==C&&(C>0?c=h[u][C-1>>1]:C<0&&(c=h[u][-C-1>>1].neg()),k="affine"===c.type?k.mixedAdd(c):k.add(c))}}for(s=0;s<i;s++)h[s]=null;return o?k:k.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<t;r+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)t[r]=t[r-1].add(i);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}})),o.register("1zMX6",(function(e,t){"use strict";var n=o("1Pi9K"),i=o("4WVjo"),r=o("67rjf"),a=o("48BVT"),s=n.assert;function u(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}r(u,a),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,u,c,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new i(1),m=new i(0),v=new i(0),g=new i(1),b=0;0!==f.cmpn(0);){var y=d.div(f);c=d.sub(y.mul(f)),l=v.sub(y.mul(p));var w=g.sub(y.mul(m));if(!r&&c.cmp(h)<0)t=u.neg(),n=p,r=c.neg(),o=l;else if(r&&2==++b)break;u=c,d=f,f=c,v=p,p=l,g=m,m=w}a=c.neg(),s=l;var _=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],r=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=r.mul(n.a),s=o.mul(i.a),u=r.mul(n.b),c=o.mul(i.b);return{k1:e.sub(a).sub(s),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[2*o]=s,i[2*o+1]=u,r[2*o]=a.k1,r[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,i,r,2*o,n),l=0;l<2*o;l++)i[l]=null,r[l]=null;return c},r(c,a.BasePoint),u.prototype.point=function(e,t,n){return new c(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function r(t){return e.point(t[0],t[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=r.redSqr().redISub(this.x.redAdd(this.x)),a=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},c.prototype.jmulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},r(l,a.BasePoint),u.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),r=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=i.redSub(r),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),h=i.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),r=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),s=r.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=n.redMul(u),h=s.redSqr().redIAdd(c).redISub(l).redISub(l),f=s.redMul(l.redISub(h)).redISub(r.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,r=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),g=d.redMul(v);g=g.redIAdd(g).redISub(f);var b=c.redMul(s);t+1<e&&(u=u.redMul(f)),o=m,s=b,c=g}return this.curve.jpoint(o,c.redMul(r),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),v=f.redIAdd(f);v=(v=v.redIAdd(v)).redIAdd(v),e=m.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var v=h.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=d.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(r)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(h).redISub(f),p=n.redAdd(n).redMul(i);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),r=e.redAdd(e).redIAdd(e),o=r.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=i.redIAdd(i);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=r.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(s).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),r=n.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(i)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}})),o.register("4D4cu",(function(e,t){"use strict";var n=o("4WVjo"),i=o("67rjf"),r=o("48BVT"),a=o("1Pi9K");function s(e){r.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,i){r.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,r),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},i(u,r.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),i=e.redMul(t),r=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=r.redMul(i),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),r=[];0!==t.cmpn(0);t.iushrn(1))r.push(t.andln(1));for(var o=r.length-1;o>=0;o--)0===r[o]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}})),o.register("2e86D",(function(e,t){"use strict";var n=o("1Pi9K"),i=o("4WVjo"),r=o("67rjf"),a=o("48BVT"),s=n.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r(u,a),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===i.cmp(r)},r(c,a.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,n,i){return new c(this,e,t,n,i)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),a=o.redSub(n),s=i.redSub(t),u=r.redMul(a),c=o.redMul(s),l=r.redMul(s),h=a.redMul(o);return this.curve.point(u,c,h,l)},c.prototype._projDbl=function(){var e,t,n,i,r,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(i=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(i.redSub(u)),n=c.redSqr().redSub(c).redSub(c)):(r=this.z.redSqr(),o=c.redSub(r).redISub(r),e=a.redSub(s).redISub(u).redMul(o),t=c.redMul(i.redSub(u)),n=c.redMul(o))}else i=s.redAdd(u),r=this.curve._mulC(this.z).redSqr(),o=i.redSub(r).redSub(r),e=this.curve._mulC(a.redISub(i)).redMul(o),t=this.curve._mulC(i).redMul(s.redISub(u)),n=i.redMul(o);return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=r.redSub(i),s=r.redAdd(i),u=n.redAdd(t),c=o.redMul(a),l=s.redMul(u),h=o.redMul(u),f=a.redMul(s);return this.curve.point(c,l,f,h)},c.prototype._projAdd=function(e){var t,n,i=this.z.redMul(e.z),r=i.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=r.redSub(s),c=r.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),h=i.redMul(u).redMul(l);return this.curve.twisted?(t=i.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(c)):(t=i.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(c)),this.curve.point(h,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add})),o.register("2GcAi",(function(e,t){"use strict";var n,i=e.exports,r=o("1LMeQ"),a=o("3acTV"),s=o("1Pi9K").assert;function u(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=o("6Btj9")}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})})),o.register("1LMeQ",(function(e,t){var n=e.exports;n.utils=o("DraMq"),n.common=o("3Nqvy"),n.sha=o("6DKPz"),n.ripemd=o("3JJMA"),n.hmac=o("358kM"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160})),o.register("DraMq",(function(e,n){var i,r,a,s,u,c,l,h,f,d,p,m,v,g,b,y,w,_,k,S,M,E,C,x,T,I;t(e.exports,"rotr64_hi",(()=>y),(e=>y=e)),t(e.exports,"shr64_lo",(()=>T),(e=>T=e)),t(e.exports,"zero2",(()=>s),(e=>s=e)),t(e.exports,"shr64_hi",(()=>a),(e=>a=e)),t(e.exports,"split32",(()=>w),(e=>w=e)),t(e.exports,"toHex",(()=>u),(e=>u=e)),t(e.exports,"sum64_lo",(()=>i),(e=>i=e)),t(e.exports,"sum64_hi",(()=>h),(e=>h=e)),t(e.exports,"rotr64_lo",(()=>k),(e=>k=e)),t(e.exports,"sum64_5_lo",(()=>b),(e=>b=e)),t(e.exports,"inherits",(()=>d),(e=>d=e)),t(e.exports,"sum32_5",(()=>S),(e=>S=e)),t(e.exports,"sum32_3",(()=>p),(e=>p=e)),t(e.exports,"toHex32",(()=>v),(e=>v=e)),t(e.exports,"sum64",(()=>l),(e=>l=e)),t(e.exports,"sum64_4_lo",(()=>g),(e=>g=e)),t(e.exports,"rotr32",(()=>E),(e=>E=e)),t(e.exports,"sum64_4_hi",(()=>x),(e=>x=e)),t(e.exports,"sum32",(()=>f),(e=>f=e)),t(e.exports,"sum32_4",(()=>I),(e=>I=e)),t(e.exports,"rotl32",(()=>C),(e=>C=e)),t(e.exports,"toArray",(()=>m),(e=>m=e)),t(e.exports,"zero8",(()=>r),(e=>r=e)),t(e.exports,"join32",(()=>M),(e=>M=e)),t(e.exports,"htonl",(()=>c),(e=>c=e)),t(e.exports,"sum64_5_hi",(()=>_),(e=>_=e));var A=o("2GaDG"),O=o("67rjf");function P(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function R(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function D(e){return 1===e.length?"0"+e:e}function j(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}d=O,m=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var i=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=63&o|128):P(e,r)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=63&o|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=63&o|128)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},u=function(e){for(var t="",n=0;n<e.length;n++)t+=D(e[n].toString(16));return t},c=R,v=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];"little"===t&&(r=R(r)),n+=j(r.toString(16))}return n},s=D,r=j,M=function(e,t,n,i){var r=n-t;A(r%4==0);for(var o=new Array(r/4),a=0,s=t;a<o.length;a++,s+=4){var u;u="big"===i?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=u>>>0}return o},w=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var o=e[i];"big"===t?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},E=function(e,t){return e>>>t|e<<32-t},C=function(e,t){return e<<t|e>>>32-t},f=function(e,t){return e+t>>>0},p=function(e,t,n){return e+t+n>>>0},I=function(e,t,n,i){return e+t+n+i>>>0},S=function(e,t,n,i,r){return e+t+n+i+r>>>0},l=function(e,t,n,i){var r=e[t],o=i+e[t+1]>>>0,a=(o<i?1:0)+n+r;e[t]=a>>>0,e[t+1]=o},h=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},i=function(e,t,n,i){return t+i>>>0},x=function(e,t,n,i,r,o,a,s){var u=0,c=t;return u+=(c=c+i>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+n+r+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},g=function(e,t,n,i,r,o,a,s){return t+i+o+s>>>0},_=function(e,t,n,i,r,o,a,s,u,c){var l=0,h=t;return l+=(h=h+i>>>0)<t?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+s>>>0)<s?1:0,e+n+r+a+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},b=function(e,t,n,i,r,o,a,s,u,c){return t+i+o+s+c>>>0},y=function(e,t,n){return(t<<32-n|e>>>n)>>>0},k=function(e,t,n){return(e<<32-n|t>>>n)>>>0},a=function(e,t,n){return e>>>n},T=function(e,t,n){return(e<<32-n|t>>>n)>>>0}})),o.register("3Nqvy",(function(e,n){var i;t(e.exports,"BlockHash",(()=>i),(e=>i=e));var r=o("DraMq"),a=o("2GaDG");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i=s,s.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}})),o.register("6DKPz",(function(e,n){var i,r,a,s,u;t(e.exports,"sha384",(()=>i),(e=>i=e)),t(e.exports,"sha1",(()=>u),(e=>u=e)),t(e.exports,"sha256",(()=>a),(e=>a=e)),t(e.exports,"sha512",(()=>r),(e=>r=e)),t(e.exports,"sha224",(()=>s),(e=>s=e)),u=o("4Ij3X"),s=o("3id3g"),a=o("2DT5d"),i=o("4Hdpe"),r=o("3tUsP")})),o.register("4Ij3X",(function(e,t){"use strict";var n=o("DraMq"),i=o("3Nqvy"),r=o("1bFf0"),a=n.rotl32,s=n.sum32,u=n.sum32_5,c=r.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=a(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],o=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),m=u(a(r,5),c(p,o,l,f),d,n[i],h[p]);d=f,f=l,l=a(o,30),o=r,r=m}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}})),o.register("1bFf0",(function(e,n){var i,r,a,s,u,c,l;t(e.exports,"ft_1",(()=>i),(e=>i=e)),t(e.exports,"maj32",(()=>r),(e=>r=e)),t(e.exports,"g1_256",(()=>l),(e=>l=e)),t(e.exports,"s0_256",(()=>u),(e=>u=e)),t(e.exports,"g0_256",(()=>s),(e=>s=e)),t(e.exports,"s1_256",(()=>a),(e=>a=e)),t(e.exports,"ch32",(()=>c),(e=>c=e));var h=o("DraMq").rotr32;function f(e,t,n){return e&t^~e&n}function d(e,t,n){return e&t^e&n^t&n}function p(e,t,n){return e^t^n}i=function(e,t,n,i){return 0===e?f(t,n,i):1===e||3===e?p(t,n,i):2===e?d(t,n,i):void 0},c=f,r=d,u=function(e){return h(e,2)^h(e,13)^h(e,22)},a=function(e){return h(e,6)^h(e,11)^h(e,25)},s=function(e){return h(e,7)^h(e,18)^e>>>3},l=function(e){return h(e,17)^h(e,19)^e>>>10}})),o.register("3id3g",(function(e,t){"use strict";var n=o("DraMq"),i=o("2DT5d");function r(){if(!(this instanceof r))return new r;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(r,i),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}})),o.register("2DT5d",(function(e,t){"use strict";var n=o("DraMq"),i=o("3Nqvy"),r=o("1bFf0"),a=o("2GaDG"),s=n.sum32,u=n.sum32_4,c=n.sum32_5,l=r.ch32,h=r.maj32,f=r.s0_256,d=r.s1_256,p=r.g0_256,m=r.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(b,v),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=u(m(n[i-2]),n[i-7],p(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],v=this.h[2],g=this.h[3],b=this.h[4],y=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===n.length),i=0;i<n.length;i++){var k=c(_,d(b),l(b,y,w),this.k[i],n[i]),S=s(f(r),h(r,o,v));_=w,w=y,y=b,b=s(g,k),g=v,v=o,o=r,r=s(k,S)}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],y),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}})),o.register("4Hdpe",(function(e,t){"use strict";var n=o("DraMq"),i=o("3tUsP");function r(){if(!(this instanceof r))return new r;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(r,i),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}})),o.register("3tUsP",(function(e,t){"use strict";var n=o("DraMq"),i=o("3Nqvy"),r=o("2GaDG"),a=n.rotr64_hi,s=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,l=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,v=n.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(e,t,n,i,r){var o=e&n^~e&r;return o<0&&(o+=4294967296),o}function _(e,t,n,i,r,o){var a=t&i^~t&o;return a<0&&(a+=4294967296),a}function k(e,t,n,i,r){var o=e&n^e&r^n&r;return o<0&&(o+=4294967296),o}function S(e,t,n,i,r,o){var a=t&i^t&o^i&o;return a<0&&(a+=4294967296),a}function M(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function E(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function x(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function O(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}n.inherits(y,g),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var r=A(n[i-4],n[i-3]),o=O(n[i-4],n[i-3]),a=n[i-14],s=n[i-13],u=T(n[i-30],n[i-29]),c=I(n[i-30],n[i-29]),l=n[i-32],h=n[i-31];n[i]=d(r,o,a,s,u,c,l,h),n[i+1]=p(r,o,a,s,u,c,l,h)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],p=this.h[7],g=this.h[8],b=this.h[9],y=this.h[10],T=this.h[11],I=this.h[12],A=this.h[13],O=this.h[14],P=this.h[15];r(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var D=O,j=P,L=C(g,b),N=x(g,b),B=w(g,b,y,T,I),F=_(g,b,y,T,I,A),U=this.k[R],z=this.k[R+1],q=n[R],H=n[R+1],V=m(D,j,L,N,B,F,U,z,q,H),W=v(D,j,L,N,B,F,U,z,q,H);D=M(i,o),j=E(i,o),L=k(i,o,a,s,u),N=S(i,o,a,s,u,c);var K=h(D,j,L,N),G=f(D,j,L,N);O=I,P=A,I=y,A=T,y=g,T=b,g=h(d,p,V,W),b=f(p,p,V,W),d=u,p=c,u=a,c=s,a=i,s=o,i=h(V,W,K,G),o=f(V,W,K,G)}l(this.h,0,i,o),l(this.h,2,a,s),l(this.h,4,u,c),l(this.h,6,d,p),l(this.h,8,g,b),l(this.h,10,y,T),l(this.h,12,I,A),l(this.h,14,O,P)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}})),o.register("3JJMA",(function(e,n){var i;t(e.exports,"ripemd160",(()=>i),(e=>i=e));var r=o("DraMq"),a=o("3Nqvy"),s=r.rotl32,u=r.sum32,c=r.sum32_3,l=r.sum32_4,h=a.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,i){return e<=15?t^n^i:e<=31?t&n|~t&i:e<=47?(t|~n)^i:e<=63?t&i|n&~i:t^(n|~i)}function p(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function m(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(f,h),i=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],r=this.h[2],o=this.h[3],a=this.h[4],h=n,f=i,w=r,_=o,k=a,S=0;S<80;S++){var M=u(s(l(n,d(S,i,r,o),e[v[S]+t],p(S)),b[S]),a);n=a,a=o,o=s(r,10),r=i,i=M,M=u(s(l(h,d(79-S,f,w,_),e[g[S]+t],m(S)),y[S]),k),h=k,k=_,_=s(w,10),w=f,f=M}M=c(this.h[1],r,_),this.h[1]=c(this.h[2],o,k),this.h[2]=c(this.h[3],a,h),this.h[3]=c(this.h[4],n,f),this.h[4]=c(this.h[0],i,w),this.h[0]=M},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]})),o.register("358kM",(function(e,t){"use strict";var n=o("DraMq"),i=o("2GaDG");function r(e,t,i){if(!(this instanceof r))return new r(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,i))}e.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}})),o.register("6Btj9",(function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}})),o.register("1gQck",(function(e,t){"use strict";var n=o("4WVjo"),i=o("4v4v3"),r=o("1Pi9K"),a=o("2GcAi"),s=o("1ma98"),u=r.assert,c=o("2wq6r"),l=o("6ewI7");function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new c(this,e)},h.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),c=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),f=0;;f++){var d=o.k?o.k(f):new n(c.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var g=d.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new l({r:v,s:g,recoveryParam:b})}}}}}},h.prototype.verify=function(e,t,i,r){e=this._truncateToN(new n(e,16)),i=this.keyFromPublic(i,r);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),c=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,i.getPublic(),h)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,i.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(e,t,i,r){u((3&i)===i,"The recovery param is more than two bits"),t=new l(t,r);var o=this.n,a=new n(e),s=t.r,c=t.s,h=1&i,f=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var d=t.r.invm(o),p=o.sub(a).mul(d).umod(o),m=c.mul(d).umod(o);return this.g.mulAdd(p,s,m)},h.prototype.getKeyRecoveryParam=function(e,t,n,i){if(null!==(t=new l(t,i)).recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var o;try{o=this.recoverPubKey(e,t,r)}catch(e){continue}if(o.eq(n))return r}throw new Error("Unable to find valid recovery factor")}})),o.register("4v4v3",(function(e,t){"use strict";var n=o("1LMeQ"),i=o("19iZY"),r=o("2GaDG");function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),o=i.toArray(e.pers,e.persEnc||"hex");r(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,o)}e.exports=a,a.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,o){"string"!=typeof t&&(o=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,o),r(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}})),o.register("2wq6r",(function(e,t){"use strict";var n=o("4WVjo"),i=o("1Pi9K").assert;function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=r,r.fromPublic=function(e,t,n){return t instanceof r?t:new r(e,{pub:t,pubEnc:n})},r.fromPrivate=function(e,t,n){return t instanceof r?t:new r(e,{priv:t,privEnc:n})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},r.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}})),o.register("6ewI7",(function(e,t){"use strict";var n=o("4WVjo"),i=o("1Pi9K"),r=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(r(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function u(e,t){var n=e[t.place++];if(!(128&n))return n;var i=15&n;if(0===i||i>4)return!1;for(var r=0,o=0,a=t.place;o<i;o++,a++)r<<=8,r|=e[a],r>>>=0;return!(r<=127)&&(t.place=a,r)}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=u(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=u(e,r);if(!1===a)return!1;var c=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var l=u(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;var h=e.slice(r.place,l+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(c),this.s=new n(h),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}})),o.register("6KBuy",(function(e,t){"use strict";var n=o("1LMeQ"),i=o("2GcAi"),r=o("1Pi9K"),a=r.assert,s=r.parseBytes,u=o("MZC44"),c=o("1oM82");function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),r=this.g.mul(i),o=this.encodePoint(r),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:r,S:u,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),r=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(i.pub().mul(r)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return r.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=r.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=0!=(128&e[t]),o=r.intFromLE(n);return this.curve.pointFromY(o,i)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return r.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}})),o.register("MZC44",(function(e,t){"use strict";var n=o("1Pi9K"),i=n.assert,r=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=r(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=r(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s})),o.register("1oM82",(function(e,t){"use strict";var n=o("4WVjo"),i=o("1Pi9K"),r=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),r(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u})),o.register("4yHxi",(function(e,t){var n=o("7birS"),i=o("3W0yg"),r=o("38Zut"),a=o("4rMrO"),s=o("KTk8W"),u=o("6aUge").Buffer;function c(e){var t;"object"!=typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=u.from(e));var o,c,l=r(e,t),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":c=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(f,"der")),o=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":f=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,h=parseInt(o.split("-")[1],10)/8,f=s.pbkdf2Sync(t,n,r,h,"sha1"),d=a.createDecipheriv(o,f,c),p=[];return p.push(d.update(l)),p.push(d.final()),u.concat(p)}(f=n.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(o=(c=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}e.exports=c,c.signature=n.signature})),o.register("7birS",(function(e,n){var i,r,a,s,u,c,l,h,f,d;t(e.exports,"EncryptedPrivateKey",(()=>h),(e=>h=e)),t(e.exports,"certificate",(()=>l),(e=>l=e)),t(e.exports,"PrivateKey",(()=>i),(e=>i=e)),t(e.exports,"RSAPublicKey",(()=>r),(e=>r=e)),t(e.exports,"PublicKey",(()=>c),(e=>c=e)),t(e.exports,"RSAPrivateKey",(()=>d),(e=>d=e)),t(e.exports,"DSAPrivateKey",(()=>u),(e=>u=e)),t(e.exports,"DSAparam",(()=>a),(e=>a=e)),t(e.exports,"ECPrivateKey",(()=>f),(e=>f=e)),t(e.exports,"signature",(()=>s),(e=>s=e));var p=o("3dKFn");l=o("6M7Lr");var m=p.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));d=m;var v=p.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));r=v;var g=p.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())}));c=g;var b=p.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),y=p.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(b),this.key("subjectPrivateKey").octstr())}));i=y;var w=p.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));h=w;var _=p.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));u=_,a=p.define("DSAparam",(function(){this.int()}));var k=p.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(S),this.key("publicKey").optional().explicit(1).bitstr())}));f=k;var S=p.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s=p.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))})),o.register("3dKFn",(function(e,t){"use strict";const n=e.exports;n.bignum=o("teaH7"),n.define=o("7wFqJ").define,n.base=o("40gTe"),n.constants=o("4BORy"),n.decoders=o("10xLX"),n.encoders=o("7ByyZ")})),o.register("teaH7",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);i=(p=p.idivn(d)).isZero()?m+i:l[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},v.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},v.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},v.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),m(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},r.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new S(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(_,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("7wFqJ",(function(e,t){"use strict";var n=o("7ByyZ"),i=o("10xLX"),r=o("67rjf");function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.exports.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){const t=this.name;function n(e){this._initNamed(e,t)}return r(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}})),o.register("7ByyZ",(function(e,t){"use strict";const n=e.exports;n.der=o("6ppas"),n.pem=o("5UWju")})),o.register("6ppas",(function(e,t){"use strict";var n=o("67rjf"),i=o("3UXQB").Buffer,r=o("1mzjX"),a=o("2FK3U");function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){r.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,r),u.prototype._encodeComposite=function(e,t,n,r){const o=function(e,t,n,i){let r;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))r=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);r=e}if(r>=31)return i.error("Multi-octet tag encoding unsupported");t||(r|=32);return r|=a.tagClassByName[n||"universal"]<<6,r}(e,t,n,this.reporter);if(r.length<128){const e=i.alloc(2);return e[0]=o,e[1]=r.length,this._createEncoderBuffer([e,r])}let s=1;for(let e=r.length;e>=256;e>>=8)s++;const u=i.alloc(2+s);u[0]=o,u[1]=128|s;for(let e=1+s,t=r.length;t>0;e--,t>>=8)u[e]=255&t;return this._createEncoderBuffer([u,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=i.alloc(2*e.length);for(let n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let r=0;for(let t=0;t<e.length;t++){let n=e[t];for(r++;n>=128;n>>=7)r++}const o=i.alloc(r);let a=o.length-1;for(let t=e.length-1;t>=0;t--){let n=e[t];for(o[a--]=127&n;(n>>=7)>0;)o[a--]=128|127&n}return this._createEncoderBuffer(o)},u.prototype._encodeTime=function(e,t){let n;const i=new Date(e);return"gentime"===t?n=[c(i.getUTCFullYear()),c(i.getUTCMonth()+1),c(i.getUTCDate()),c(i.getUTCHours()),c(i.getUTCMinutes()),c(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[c(i.getUTCFullYear()%100),c(i.getUTCMonth()+1),c(i.getUTCDate()),c(i.getUTCHours()),c(i.getUTCMinutes()),c(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=i.from(t)}if(i.isBuffer(e)){let t=e.length;0===e.length&&t++;const n=i.alloc(t);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;t>=256;t>>=8)n++;const r=new Array(n);for(let t=r.length-1;t>=0;t--)r[t]=255&e,e>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(i.from(r))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){const i=this._baseState;let r;if(null===i.default)return!1;const o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}})),o.register("3UXQB",(function(e,t){var n,i=o("7lbf0"),r=U.Buffer,a={};for(n in U)U.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=U[n]);var s=a.Buffer={};for(n in r)r.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(s[n]=r[n]);if(a.Buffer.prototype=r.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return r(e,t,n)}),s.alloc||(s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2147483648)throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=r(e);return t&&0!==t.length?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a})),o.register("1mzjX",(function(e,t){"use strict";var n=o("5n27l").Reporter,i=o("1nyT1").EncoderBuffer,r=o("1nyT1").DecoderBuffer,a=o("2GaDG");const s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t,n){const i={};this._baseState=i,i.name=n,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}e.exports=c;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));const n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){const e=this._baseState;u.forEach((function(t){this[t]=function(){const n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){const t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){const t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);const i=e[n];t[i]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){c.prototype[e]=function(){const t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){a(e);const t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){const t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){const t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){const t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){const t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){const n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));let i,o=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){let i=null;if(null!==n.explicit?i=n.explicit:null!==n.implicit?i=n.implicit:null!==n.tag&&(i=n.tag),null!==i||n.any){if(a=this._peekTag(e,i,n.any),e.isError(a))return a}else{const i=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(i)}}if(n.obj&&a&&(i=e.enterObject()),a){if(null!==n.explicit){const t=this._decodeTag(e,n.explicit);if(e.isError(t))return t;e=t}const i=e.offset;if(null===n.use&&null===n.choice){let t;n.any&&(t=e.save());const i=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(i))return i;n.any?o=e.raw(t):e=i}if(t&&t.track&&null!==n.tag&&t.track(e.path(),i,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(o=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(o))return o;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const i=new r(o);o=this._getUse(n.contains,e._reporterState.obj)._decode(i,t)}}return n.obj&&a&&(o=e.leaveObject(i)),null===n.key||null===o&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,o),o},c.prototype._decodeGeneric=function(e,t,n){const i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){const n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){const n=this._baseState;let i=null,r=!1;return Object.keys(n.choice).some((function(o){const a=e.save(),s=n.choice[o];try{const n=s._decode(e,t);if(e.isError(n))return!1;i={type:o,value:n},r=!0}catch(t){return e.restore(a),!1}return!0}),this),r?i:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,n){const i=this._baseState;if(null!==i.default&&i.default===e)return;const r=this._encodeValue(e,t,n);return void 0===r||this._skipDefault(r,t,n)?void 0:r},c.prototype._encodeValue=function(e,t,i){const r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new n);let o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}let a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,i)._encode(e,t),s=!0;else if(r.children)a=r.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");const i=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const r=n._encode(e[n._baseState.key],t,e);return t.leaveKey(i),r}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){const i=this._baseState;return this._getUse(i.args[0],e)._encode(n,t)}),n))}else null!==r.use?o=this._getUse(r.use,i)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){const e=null!==r.implicit?r.implicit:r.tag,n=null===r.implicit?"universal":"context";null===e?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(e,s,n,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){const n=this._baseState,i=n.choice[e.type];return i||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}})),o.register("5n27l",(function(e,n){var i;t(e.exports,"Reporter",(()=>i),(e=>i=e));var r=o("67rjf");function a(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}i=a,a.prototype.isError=function(e){return e instanceof s},a.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},a.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},a.prototype.enterKey=function(e){return this._reporterState.path.push(e)},a.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},a.prototype.leaveKey=function(e,t,n){const i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=n)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},a.prototype.leaveObject=function(e){const t=this._reporterState,n=t.obj;return t.obj=e,n},a.prototype.error=function(e){let t;const n=this._reporterState,i=e instanceof s;if(t=i?e:new s(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return i||n.errors.push(t),t},a.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}})),o.register("1nyT1",(function(e,n){var i,r;t(e.exports,"DecoderBuffer",(()=>i),(e=>i=e)),t(e.exports,"EncoderBuffer",(()=>r),(e=>r=e));var a=o("67rjf"),s=o("5n27l").Reporter,u=o("3UXQB").Buffer;function c(e,t){s.call(this,t),u.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function l(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return l.isEncoderBuffer(e)||(e=new l(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=u.byteLength(e);else{if(!u.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}a(c,s),i=c,c.isDecoderBuffer=function(e){if(e instanceof c)return!0;return"object"==typeof e&&u.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},c.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},c.prototype.restore=function(e){const t=new c(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},c.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const n=new c(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},c.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},r=l,l.isEncoderBuffer=function(e){if(e instanceof l)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},l.prototype.join=function(e,t){return e||(e=u.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):u.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}})),o.register("2FK3U",(function(e,n){var i,r,o,a;function s(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const i=e[n];t[i]=n})),t}t(e.exports,"tag",(()=>a),(e=>a=e)),t(e.exports,"tagByName",(()=>o),(e=>o=e)),t(e.exports,"tagClassByName",(()=>i),(e=>i=e)),t(e.exports,"tagClass",(()=>r),(e=>r=e)),i=s(r={0:"universal",1:"application",2:"context",3:"private"}),o=s(a={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"})})),o.register("5UWju",(function(e,t){"use strict";var n=o("67rjf"),i=o("6ppas");function r(e){i.call(this,e),this.enc="pem"}n(r,i),e.exports=r,r.prototype.encode=function(e,t){const n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"];for(let e=0;e<n.length;e+=64)r.push(n.slice(e,e+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}})),o.register("10xLX",(function(e,t){"use strict";const n=e.exports;n.der=o("2alKG"),n.pem=o("OHs6v")})),o.register("2alKG",(function(e,t){"use strict";var n=o("67rjf"),i=o("teaH7"),r=o("1nyT1").DecoderBuffer,a=o("1mzjX"),s=o("2FK3U");function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.call(this,"der",e)}function l(e,t){let n=e.readUInt8(t);if(e.isError(n))return n;const i=s.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){let i=n;for(n=0;128==(128&i);){if(i=e.readUInt8(t),e.isError(i))return i;n<<=7,n|=127&i}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:s.tag[n]}}function h(e,t,n){let i=e.readUInt8(n);if(e.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;const r=127&i;if(r>4)return e.error("length octect is too long");i=0;for(let t=0;t<r;t++){i<<=8;const t=e.readUInt8(n);if(e.isError(t))return t;i|=t}return i}e.exports=u,u.prototype.decode=function(e,t){return r.isDecoderBuffer(e)||(e=new r(e,t)),this.tree._decode(e,t)},n(c,a),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;const i=e.save(),r=l(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(i),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){const i=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;let r=h(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!n&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');const o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(r=e.offset-o.offset,e.restore(o),e.skip(r,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){const n=l(e,t);if(e.isError(n))return n;const i=h(e,n.primitive,t);if(e.isError(i))return i;let r;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,i){const r=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=n.decode(e,"der",i);if(e.isError(o)&&t)break;r.push(o)}return r},c.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let e=0;e<t.length/2;e++)n+=String.fromCharCode(t.readUInt16BE(2*e));return n}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){let i;const r=[];let o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=127&a,0==(128&a)&&(r.push(o),o=0);128&a&&r.push(o);const s=r[0]/40|0,u=r[0]%40;if(i=n?r:[s,u].concat(r.slice(1)),t){let e=t[i.join(" ")];void 0===e&&(e=t[i.join(".")]),void 0!==e&&(i=e)}return i},c.prototype._decodeTime=function(e,t){const n=e.raw().toString();let i,r,o,a,s,u;if("gentime"===t)i=0|n.slice(0,4),r=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),u=0|n.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,o,a,s,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){const n=e.raw();let r=new i(n);return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}})),o.register("OHs6v",(function(e,t){"use strict";var n=o("67rjf"),i=o("3UXQB").Buffer,r=o("2alKG");function a(e){r.call(this,e),this.enc="pem"}n(a,r),e.exports=a,a.prototype.decode=function(e,t){const n=e.toString().split(/[\r\n]+/g),o=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,u=-1;for(let e=0;e<n.length;e++){const t=n[e].match(a);if(null!==t&&t[2]===o){if(-1!==s){if("END"!==t[1])break;u=e;break}if("BEGIN"!==t[1])break;s=e}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+o);const c=n.slice(s+1,u).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(c,"base64");return r.prototype.decode.call(this,l,t)}})),o.register("40gTe",(function(e,t){"use strict";const n=e.exports;n.Reporter=o("5n27l").Reporter,n.DecoderBuffer=o("1nyT1").DecoderBuffer,n.EncoderBuffer=o("1nyT1").EncoderBuffer,n.Node=o("1mzjX")})),o.register("4BORy",(function(e,t){"use strict";const n=e.exports;n._reverse=function(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const i=e[n];t[i]=n})),t},n.der=o("2FK3U")})),o.register("6M7Lr",(function(e,t){"use strict";var n=o("3dKFn"),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),r=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(r)})),c=n.define("RDNSequence",(function(){this.seqof(u)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),h=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p})),o.register("3W0yg",(function(e,t){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')})),o.register("38Zut",(function(e,t){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=o("1bB8M"),s=o("4rMrO"),u=o("6aUge").Buffer;e.exports=function(e,t){var o,c=e.toString(),l=c.match(n);if(l){var h="aes"+l[1],f=u.from(l[2],"hex"),d=u.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,f.slice(0,8),parseInt(l[1],10)).key,m=[],v=s.createDecipheriv(h,p,f);m.push(v.update(d)),m.push(v.final()),o=u.concat(m)}else{var g=c.match(r);o=u.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:o}}})),o.register("52m6U",(function(e,t){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')})),o.register("1p9Fd",(function(e,t){var n=o("6aUge").Buffer,i=o("yehFW"),r=o("3JLwK").ec,a=o("4yHxi"),s=o("52m6U");function u(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,o,c,l){var h=a(o);if("ec"===h.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var i=s[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new r(i),a=n.data.subjectPrivateKey.data;return o.verify(t,e,a)}(e,t,h)}if("dsa"===h.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,o=n.data.q,s=n.data.g,c=n.data.pub_key,l=a.signature.decode(e,"der"),h=l.s,f=l.r;u(h,o),u(f,o);var d=i.mont(r),p=h.invm(o);return 0===s.toRed(d).redPow(new i(t).mul(p).mod(o)).fromRed().mul(c.toRed(d).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(f)}(e,t,h)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");t=n.concat([l,t]);for(var f=h.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var m=-1;++m<t.length;)d.push(t[m]);d=n.from(d);var v=i.mont(h.modulus);e=(e=new i(e).toRed(v)).redPow(new i(h.publicExponent)),e=n.from(e.fromRed().toArray());var g=p<8?1:0;for(f=Math.min(e.length,d.length),e.length!==d.length&&(g=1),m=-1;++m<f;)g|=e[m]^d[m];return 0===g}})),o.register("6SrWp",(function(e,t){var n=R,i=o("3JLwK"),r=o("78Qmz");e.exports=function(e){return new s(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function u(e,t,i){Array.isArray(e)||(e=e.toArray());var r=new n(e);if(i&&r.length<i){var o=new n(i-r.length);o.fill(0),r=n.concat([o,r])}return t?r.toString(t):r}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,i){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),u(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),u(n,e)},s.prototype.getPrivateKey=function(e){return u(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var i=new r(e);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}})),o.register("78Qmz",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);i=(p=p.idivn(d)).isZero()?m+i:l[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},v.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},v.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},v.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),m(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},r.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new S(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(_,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("20m1B",(function(e,n){var i,r,a,s;t(e.exports,"privateEncrypt",(()=>r),(e=>r=e)),t(e.exports,"privateDecrypt",(()=>a),(e=>a=e)),t(e.exports,"publicDecrypt",(()=>i),(e=>i=e)),t(e.exports,"publicEncrypt",(()=>s),(e=>s=e)),s=o("1Oh3s"),a=o("1cN2w"),r=function(e,t){return s(e,t,!0)},i=function(e,t){return a(e,t,!0)}})),o.register("1Oh3s",(function(e,t){var n=o("4yHxi"),i=o("3pfpW"),r=o("uk3ap"),a=o("7i9NA"),s=o("7gwLX"),u=o("3qY3Z"),c=o("5VGIo"),l=o("Ib0dO"),h=o("6aUge").Buffer;e.exports=function(e,t,o){var f;f=e.padding?e.padding:o?1:4;var d,p=n(e);if(4===f)d=function(e,t){var n=e.modulus.byteLength(),o=t.length,c=r("sha1").update(h.alloc(0)).digest(),l=c.length,f=2*l;if(o>n-f-2)throw new Error("message too long");var d=h.alloc(n-o-f-2),p=n-l-1,m=i(l),v=s(h.concat([c,d,h.alloc(1,1),t],p),a(m,p)),g=s(m,a(v,l));return new u(h.concat([h.alloc(1),g,v],n))}(p,t);else if(1===f)d=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?h.alloc(a-o-3,255):function(e){var t,n=h.allocUnsafe(e),r=0,o=i(2*e),a=0;for(;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3);return new u(h.concat([h.from([0,n?1:2]),r,h.alloc(1),t],a))}(p,t,o);else{if(3!==f)throw new Error("unknown padding");if((d=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return o?l(d,p):c(d,p)}})),o.register("7i9NA",(function(e,t){var n=o("uk3ap"),i=o("6aUge").Buffer;function r(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var o,a=i.alloc(0),s=0;a.length<t;)o=r(s++),a=i.concat([a,n("sha1").update(e).update(o).digest()]);return a.slice(0,t)}})),o.register("7gwLX",(function(e,t){e.exports=function(e,t){for(var n=e.length,i=-1;++i<n;)e[i]^=t[i];return e}})),o.register("3qY3Z",(function(e,t){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:o("3V6Bo").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function c(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===i)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=u(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=i)u=c(e,l,l+i,t),this.imuln(r),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(a=(r=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<r|o)).toString(16);i=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-u.length]+u+i:u+i,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);i=(p=p.idivn(d)).isZero()?m+i:l[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),o=i||Math.max(1,r);n(r<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},r.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},r.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},r.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,_=y>>>13,k=0|a[4],S=8191&k,M=k>>>13,E=0|a[5],C=8191&E,x=E>>>13,T=0|a[6],I=8191&T,A=T>>>13,O=0|a[7],P=8191&O,R=O>>>13,D=0|a[8],j=8191&D,L=D>>>13,N=0|a[9],B=8191&N,F=N>>>13,U=0|s[0],z=8191&U,q=U>>>13,H=0|s[1],V=8191&H,W=H>>>13,K=0|s[2],G=8191&K,Y=K>>>13,Z=0|s[3],J=8191&Z,X=Z>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,fe=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(i=Math.imul(h,z))|0)+((8191&(r=(r=Math.imul(h,q))+Math.imul(f,z)|0))<<13)|0;c=((o=Math.imul(f,q))+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(p,z),r=(r=Math.imul(p,q))+Math.imul(m,z)|0,o=Math.imul(m,q);var ge=(c+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,z),r=(r=Math.imul(g,q))+Math.imul(b,z)|0,o=Math.imul(b,q),i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(c+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(w,z),r=(r=Math.imul(w,q))+Math.imul(_,z)|0,o=Math.imul(_,q),i=i+Math.imul(g,V)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(h,J)|0)|0)+((8191&(r=(r=r+Math.imul(h,X)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,z),r=(r=Math.imul(S,q))+Math.imul(M,z)|0,o=Math.imul(M,q),i=i+Math.imul(w,V)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(g,G)|0,r=(r=r+Math.imul(g,Y)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,X)|0;var we=(c+(i=i+Math.imul(h,Q)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(C,z),r=(r=Math.imul(C,q))+Math.imul(x,z)|0,o=Math.imul(x,q),i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(g,J)|0,r=(r=r+Math.imul(g,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(I,z),r=(r=Math.imul(I,q))+Math.imul(A,z)|0,o=Math.imul(A,q),i=i+Math.imul(C,V)|0,r=(r=r+Math.imul(C,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(g,Q)|0,r=(r=r+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var ke=(c+(i=i+Math.imul(h,oe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(P,z),r=(r=Math.imul(P,q))+Math.imul(R,z)|0,o=Math.imul(R,q),i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(S,J)|0,r=(r=r+Math.imul(S,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(g,ne)|0,r=(r=r+Math.imul(g,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(i=i+Math.imul(h,ue)|0)|0)+((8191&(r=(r=r+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(j,z),r=(r=Math.imul(j,q))+Math.imul(L,z)|0,o=Math.imul(L,q),i=i+Math.imul(P,V)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,W)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(g,oe)|0,r=(r=r+Math.imul(g,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,ue)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Me=(c+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(B,z),r=(r=Math.imul(B,q))+Math.imul(F,z)|0,o=Math.imul(F,q),i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,i=i+Math.imul(P,G)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(g,ue)|0,r=(r=r+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ee=(c+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,V),r=(r=Math.imul(B,W))+Math.imul(F,V)|0,o=Math.imul(F,W),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Y)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(w,ue)|0,r=(r=r+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,i=i+Math.imul(g,he)|0,r=(r=r+Math.imul(g,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ce=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Y))+Math.imul(F,G)|0,o=Math.imul(F,Y),i=i+Math.imul(j,J)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(S,ue)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(w,he)|0,r=(r=r+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var xe=(c+(i=i+Math.imul(g,pe)|0)|0)+((8191&(r=(r=r+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,X))+Math.imul(F,J)|0,o=Math.imul(F,X),i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(C,ue)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,fe)|0;var Te=(c+(i=i+Math.imul(w,pe)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,i=i+Math.imul(C,he)|0,r=(r=r+Math.imul(C,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,ue)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(i=i+Math.imul(C,pe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(j,ue)|0,r=(r=r+Math.imul(j,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,he)|0,r=(r=r+Math.imul(P,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Oe=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,ue),r=(r=Math.imul(B,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),i=i+Math.imul(j,he)|0,r=(r=r+Math.imul(j,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Pe=(c+(i=i+Math.imul(P,pe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,he),r=(r=Math.imul(B,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var Re=(c+(i=i+Math.imul(j,pe)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(c+(i=Math.imul(B,pe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=_e,u[6]=ke,u[7]=Se,u[8]=Me,u[9]=Ee,u[10]=Ce,u[11]=xe,u[12]=Te,u[13]=Ie,u[14]=Ae,u[15]=Oe,u[16]=Pe,u[17]=Re,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;s=67108863&(f=f+s|0),r+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=r.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},v.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},v.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=n[l+d],m=i[l+d],v=n[l+d+a],g=i[l+d+a],b=h*v-f*g;g=h*g+f*v,v=b,n[l+d]=p+v,i[l+d]=m+g,n[l+d+a]=p-v,i[l+d+a]=m-g,d!==s&&(b=u*h-c*f,f=u*f+c*h,h=b)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},v.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)i[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),u=new Array(i),c=new Array(i),l=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,u,i,r),this.transform(c,o,l,h,i,r);for(var d=0;d<i;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,i),this.transform(s,u,f,o,i,r),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),m(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var o=n.sqr();i<t.length;i++,o=o.sqr())0!==t[i]&&(n=n.mul(o));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<i;this.words[t]=u|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=i;if(r-=a,r=Math.max(0,r),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=r);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i)&&!!(this.words[i]&r)},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,o,a=e.length+i;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+i])+s;var u=(0|e.words[r])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&o}for(;r<this.length-i;r++)s=(o=(0|this.words[r+i])+s)>>26,this.words[r+i]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var s,u=i.length-o.length;if("mod"!==t){(s=new r(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=i.clone()._ishlnsubmul(o,1,u);0===l.negative&&(i=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|i.words[o.length+h])+(0|i.words[o.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(o,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},r.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new r(1),a=new r(0),s=new r(0),u=new r(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),o.isub(s),a.isub(u)):(i.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:i.iushln(c)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new r(1),s=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var o=r,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new S(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(_,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return g[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);n(!o.isZero());var s=new r(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new r(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var o=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],l=u-1;l>=0;l--){var h=c>>l&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===i&&0===l)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new M(e)},i(M,S),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(i).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)})),o.register("5VGIo",(function(e,t){var n=o("3qY3Z"),i=o("6aUge").Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}})),o.register("1cN2w",(function(e,t){var n=o("4yHxi"),i=o("7i9NA"),r=o("7gwLX"),a=o("3qY3Z"),s=o("Ib0dO"),u=o("uk3ap"),c=o("5VGIo"),l=o("6aUge").Buffer;e.exports=function(e,t,o){var h;h=e.padding?e.padding:o?1:4;var f,d=n(e),p=d.modulus.byteLength();if(t.length>p||new a(t).cmp(d.modulus)>=0)throw new Error("decryption error");f=o?c(new a(t),d):s(t,d);var m=l.alloc(p-f.length);if(f=l.concat([m,f],p),4===h)return function(e,t){var n=e.modulus.byteLength(),o=u("sha1").update(l.alloc(0)).digest(),a=o.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),c=t.slice(a+1),h=r(s,i(c,a)),f=r(c,i(h,n-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,i=e.length;e.length!==t.length&&(n++,i=Math.min(e.length,t.length));var r=-1;for(;++r<i;)n+=e[r]^t[r];return n}(o,f.slice(0,a)))throw new Error("decryption error");var d=a;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(e,t,n){var i=t.slice(0,2),r=2,o=0;for(;0!==t[r++];)if(r>=t.length){o++;break}var a=t.slice(2,r-1);("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(r)}(0,f,o);if(3===h)return f;throw new Error("unknown padding")}})),o.register("5Z9Ew",(function(e,i){var r,a;t(e.exports,"randomFill",(()=>r),(e=>r=e)),t(e.exports,"randomFillSync",(()=>a),(e=>a=e));var s=o("7lbf0");function u(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var c=o("6aUge"),l=(o("3pfpW"),c.Buffer),h=c.kMaxLength,f=n.crypto||n.msCrypto,d=Math.pow(2,32)-1;function p(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>d||e<0)throw new TypeError("offset must be a uint32");if(e>h||e>t)throw new RangeError("offset out of range")}function m(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>d||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>h)throw new RangeError("buffer too small")}function v(e,t,n,i){var r=e.buffer,o=new Uint8Array(r,t,n);if(f.getRandomValues(o),!i)return e;s.nextTick((function(){i(null,e)}))}f&&f.getRandomValues?(r=function(e,t,i,r){if(!(l.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)r=t,t=0,i=e.length;else if("function"==typeof i)r=i,i=e.length-t;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return p(t,e.length),m(i,t,e.length),v(e,t,i,r)},a=function(e,t,i){void 0===t&&(t=0);if(!(l.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');p(t,e.length),void 0===i&&(i=e.length-t);return m(i,t,e.length),v(e,t,i)}):(r=u,a=u)})),gf=o("6H6Du"),o.register("64Dap",(function(e,t){var n=o("7lbf0"),i=o("2cK96"),r=o("3V6Bo");e.exports=function(e,t){var o,a=!0;function s(e,i){if(a)return a=!1,void n.nextTick((function(){t(e,i)}));t(e,i)}try{o=gf.generate(e.cert,e.issuer)}catch(e){return s(e)}var u=r["id-pkix-ocsp"].join(".");mf.getAuthorityInfo(o.cert,u,(function(t,n){if(t)return s(t);var r;r=void 0!==e.httpOptions?i._extend(e.httpOptions,uf(n)):n,mf.getResponse(r,o.data,(function(e,t){if(e)return s(e);pf({request:o,response:t},s)}))})),a=!1}})),bf=o("64Dap"),o.register("2FFkp",(function(e,t){var n=o("7lbf0"),i=o("3V6Bo"),r=o("6NBIr");e.exports=function(e,t){var o,a=e.request;function s(e){n.nextTick((function(){t(e,f&&f.certStatus)}))}try{o=a.issuer||i.Certificate.decode(mf.toDER(e.issuer,"CERTIFICATE"),"der"),f=mf.parseResponse(e.response)}catch(e){return s(e)}var u=e.response.slice(f.start,f.end),c=f.certs,l=f.certsTbs.map((function(t){return e.response.slice(t.start,t.end)}));f=f.value;var h=mf.sign[f.signatureAlgorithm.algorithm.join(".")];if(h){var f,d=function(e,t,n){var o=e.tbsCertificate.subjectPublicKeyInfo;o=mf.toPEM(i.SubjectPublicKeyInfo.encode(o,"der"),"PUBLIC KEY");for(var a=0;a<t.length;a++){var s=t[a],u=mf.sign[s.signatureAlgorithm.algorithm.join(".")];if(!u)throw new Error("Unknown signature algorithm "+s.signatureAlgorithm.algorithm);var c=r.createVerify(u);if(c.update(n[a]),!c.verify(o,s.signature.data))throw new Error("Invalid signature");var l=s.tbsCertificate.subjectPublicKeyInfo;return mf.toPEM(i.SubjectPublicKeyInfo.encode(l,"der"),"PUBLIC KEY")}return o}(o,c,l),p=r.createVerify(h),m=f.tbsResponseData,v=f.signature.data;if(p.update(u),!p.verify(d,v))return s(new Error("Invalid signature"));if(m.responses.length<1)return s(new Error("Expected at least one response"));if((f=m.responses[0]).certId.hashAlgorithm.algorithm.join(".")!==a.certID.hashAlgorithm.algorithm.join("."))return s(new Error("Hash algorithm mismatch"));if(f.certId.issuerNameHash.toString("hex")!==a.certID.issuerNameHash.toString("hex"))return s(new Error("Issuer name hash mismatch"));if(f.certId.issuerKeyHash.toString("hex")!==a.certID.issuerKeyHash.toString("hex"))return s(new Error("Issuer key hash mismatch"));if(0!==f.certId.serialNumber.cmp(a.certID.serialNumber))return s(new Error("Serial number mismatch"));if("good"!==f.certStatus.type)return s(new Error("OCSP Status: "+f.certStatus.type));var g=+new Date,b=e.nudge||6e4;return f.thisUpdate-b>g||f.nextUpdate+b<g?s(new Error("OCSP Response expired")):s(null)}s(new Error("Unknown signature algorithm "+f.signatureAlgorithm.algorithm))}})),pf=o("2FFkp"),o.register("2Jn7B",(function(e,n){var i,r,a,s,u,c,l,h,f,d,p,m;t(e.exports,"signRev",(()=>u),(e=>u=e)),t(e.exports,"sign",(()=>i),(e=>i=e)),t(e.exports,"getResponse",(()=>d),(e=>d=e)),t(e.exports,"parseResponse",(()=>r),(e=>r=e)),t(e.exports,"digest",(()=>h),(e=>h=e)),t(e.exports,"id-ad-caIssuers",(()=>a),(e=>a=e)),t(e.exports,"toPEM",(()=>m),(e=>m=e)),t(e.exports,"toDER",(()=>p),(e=>p=e)),t(e.exports,"digestRev",(()=>s),(e=>s=e)),t(e.exports,"id-kp-OCSPSigning",(()=>l),(e=>l=e)),t(e.exports,"getAuthorityInfo",(()=>c),(e=>c=e)),t(e.exports,"RSAPrivateKey",(()=>f),(e=>f=e));var v=R,g=o("76ImE"),b=o("2cK96"),y=o("3dKFn"),w=o("3V6Bo");a=[1,3,6,1,5,5,7,48,2],l=[1,3,6,1,5,5,7,3,9],d=function(e,t,n){"object"!=typeof e&&(e=uf(e));var i=b._extend({method:"POST",headers:{"Content-Type":"application/ocsp-request","Content-Length":t.length}},e);function r(e,t){n&&n(e,t),n=null}g.request(i,(function(e){if(e.statusCode<200||e.statusCode>=400)return r(new Error("Failed to obtain OCSP response: "+e.statusCode));var t=[];e.on("readable",(function(){var n=e.read();n&&t.push(n)})),e.on("end",(function(){r(null,v.concat(t))}))})).on("error",r).end(t)},r=function(e){var t={start:0,end:e.length},n=w.OCSPResponse.decode(e,"der",{track:function(e,n,i,r){"content"===r&&"responseBytes/response"===e&&(t.start=n,t.end=i)}}),i=n.responseStatus;if("successful"!==i)throw new Error("Bad OCSP response status: "+i);var r=n.responseBytes.responseType;if("id-pkix-ocsp-basic"!==r)throw new Error("Unknown OCSP response type: "+r);var o=n.responseBytes.response,a={start:t.start,end:t.end},s=[],u=w.BasicOCSPResponse.decode(o,"der",{track:function(e,n,i,r){"tagged"===r&&("tbsResponseData"===e?(a.start=t.start+n,a.end=t.start+i):"certs/tbsCertificate"===e&&s.push({start:t.start+n,end:t.start+i}))}}),c=l.join("."),h=(u.certs||[]).filter((function(e){return e.tbsCertificate.extensions.some((function(e){return"extendedKeyUsage"===e.extnID&&e.extnValue.some((function(e){return e.join(".")===c}))}))}));return{start:a.start,end:a.end,value:u,certs:h,certsTbs:s}},h={"1.3.14.3.2.26":"sha1","2.16.840.1.101.3.4.2.1":"sha256"},s={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1"},i={"1.2.840.113549.1.1.5":"sha1WithRSAEncryption","1.2.840.113549.1.1.11":"sha256WithRSAEncryption","1.2.840.113549.1.1.12":"sha384WithRSAEncryption","1.2.840.113549.1.1.13":"sha512WithRSAEncryption"},u={sha1WithRSAEncryption:[1,2,840,113549,1,1,5],sha256WithRSAEncryption:[1,2,840,113549,1,1,11],sha384WithRSAEncryption:[1,2,840,113549,1,1,12],sha512WithRSAEncryption:[1,2,840,113549,1,1,13]},m=function(e,t){for(var n=e.toString("base64"),i=["-----BEGIN "+t+"-----"],r=0;r<n.length;r+=64)i.push(n.slice(r,r+64));return i.push("-----END "+t+"-----"),i.join("\n")},p=function(e,t){var n=e.toString().match(new RegExp("-----BEGIN "+t+"-----([^-]*)-----END "+t+"-----"));return n=n?new v(n[1].replace(/[\r\n]/g,""),"base64"):"string"==typeof e?new v(e):e},c=function(e,t,n){var i=e.tbsCertificate.extensions;i||(i=[]);var r=i.filter((function(e){return"authorityInformationAccess"===e.extnID}));if(0===r.length)return n(new Error("AuthorityInfoAccess not found in extensions"));var o=null;return r.some((function(e){return e.extnValue.some((function(e){if(e.accessMethod.join(".")!==t)return!1;var n=e.accessLocation;return"uniformResourceIdentifier"===n.type&&(o=n.value+"",!0)}))}))?n(null,o):n(new Error(t+" not found in AuthorityInfoAccess"))};var _=y.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));f=_})),mf=o("2Jn7B");Pc=o("3V6Bo"),Pc=o("3V6Bo"),Pc=o("3V6Bo"),Pc=o("3V6Bo");var Pf=R,Rf=o("7lbf0"),Df=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class jf{constructor(t){t&&(this.privProxyInfo=t),jf.privDiskCache||(jf.privDiskCache=new(e(Pc))("microsoft-cognitiveservices-speech-sdk-cache",{supportBuffer:!0,location:void 0}))}static forceReinitDiskCache(){jf.privDiskCache=void 0,jf.privMemCache={}}GetAgent(t){const n=new(e(Pc).Agent)(this.CreateConnection);if(void 0!==this.privProxyInfo&&void 0!==this.privProxyInfo.HostName&&this.privProxyInfo.Port>0){n["privProxyInfo"]=this.privProxyInfo}return n}static GetProxyAgent(t){const n={host:t.HostName,port:t.Port};t.UserName?n.headers={"Proxy-Authentication":"Basic "+new Pf(t.UserName+":"+(void 0===t.Password)?"":t.Password).toString("base64")}:n.headers={},n.headers.requestOCSP="true";return new(e(Pc))(n)}static OCSPCheck(e,t){return Df(this,void 0,void 0,(function*(){let n,i,r=!1;const o=yield e;o.cork();const a=o;return new Promise(((e,s)=>{o.on("OCSPResponse",(e=>{e&&(this.onEvent(new mc),i=e)})),o.on("error",(e=>{r||(r=!0,o.destroy(),s(e))})),a.on("secure",(()=>Df(this,void 0,void 0,(function*(){const u=a.getPeerCertificate(!0);try{const a=yield this.GetIssuer(u);n=gf.generate(u.raw,a.raw);const s=n.id.toString("hex");if(!i){const e=yield jf.GetResponseFromCache(s,n,t);i=e}yield this.VerifyOCSPResponse(i,n,t),o.uncork(),r=!0,e(o)}catch(e){o.destroy(),r=!0,s(e)}}))))}))}))}static GetIssuer(e){return e.issuerCertificate?Promise.resolve(e.issuerCertificate):new Promise(((t,n)=>{new vf({}).fetchIssuer(e,null,((e,i)=>{e?n(e):t(i)}))}))}static GetResponseFromCache(e,t,n){return Df(this,void 0,void 0,(function*(){let i=jf.privMemCache[e];if(i&&this.onEvent(new uc(e)),!i)try{const t=yield jf.privDiskCache.get(e);t.isCached&&(jf.onEvent(new lc(e)),jf.StoreMemoryCacheEntry(e,t.value),i=t.value)}catch(e){i=null}if(!i)return i;try{const r=mf.parseResponse(i).value.tbsResponseData;if(r.responses.length<1)return void this.onEvent(new wc(e,"Not enough data in cached response"));const o=r.responses[0].thisUpdate,a=r.responses[0].nextUpdate;if(a<Date.now()+this.testTimeOffset-6e4)this.onEvent(new vc(e,a)),i=null;else{const i=Math.min(864e5,(a-o)/2);a-(Date.now()+this.testTimeOffset)<i?(this.onEvent(new gc(e,o,a)),this.UpdateCache(t,n).catch((t=>{this.onEvent(new kc(e,t.toString()))}))):this.onEvent(new bc(e,o,a))}}catch(t){this.onEvent(new wc(e,t)),i=null}return i||this.onEvent(new cc(e)),i}))}static VerifyOCSPResponse(e,t,n){return Df(this,void 0,void 0,(function*(){let i=e;t.certID.toString("hex");return i||(i=yield jf.GetOCSPResponse(t,n)),new Promise(((r,o)=>{pf({request:t,response:i},((a,s)=>{a?(jf.onEvent(new yc(t.id.toString("hex"),a)),e?this.VerifyOCSPResponse(null,t,n).then((()=>{r()}),(e=>{o(e)})):o(a)):(e||jf.StoreCacheEntry(t.id.toString("hex"),i),r())}))}))}))}static UpdateCache(e,t){return Df(this,void 0,void 0,(function*(){const n=e.id.toString("hex");this.onEvent(new hc(n));const i=yield this.GetOCSPResponse(e,t);this.StoreCacheEntry(n,i),this.onEvent(new pc(e.id.toString("hex")))}))}static StoreCacheEntry(e,t){this.StoreMemoryCacheEntry(e,t),this.StoreDiskCacheEntry(e,t)}static StoreMemoryCacheEntry(e,t){this.privMemCache[e]=t,this.onEvent(new fc(e))}static StoreDiskCacheEntry(e,t){this.privDiskCache.set(e,t).then((()=>{this.onEvent(new dc(e))}))}static GetOCSPResponse(e,t){let n={};if(t){const e=jf.GetProxyAgent(t);n.agent=e}return new Promise(((t,i)=>{mf.getAuthorityInfo(e.cert,"1.3.6.1.5.5.7.48.1",((r,o)=>{if(r)return void i(r);const a=uf(o);n=Object.assign(Object.assign({},n),a),mf.getResponse(n,e.data,((n,r)=>{n?i(n):(this.onEvent(new _c(e.certID.toString("hex"))),t(r))}))}))}))}CreateConnection(e,t){const n=void 0!==Rf&&t.secureEndpoint;let i;if(t=Object.assign(Object.assign({},t),{requestOCSP:!jf.forceDisableOCSPStapling,servername:t.host}),this.privProxyInfo){const n=jf.GetProxyAgent(this.privProxyInfo);i=new Promise(((i,r)=>{n.callback(e,t,((e,t)=>{e?r(e):i(t)}))}))}else i=(t.secureEndpoint,Promise.resolve(Pc.connect(t)));return n?jf.OCSPCheck(i,this.privProxyInfo):i}}jf.testTimeOffset=0,jf.forceDisableOCSPStapling=!1,jf.privMemCache={},jf.onEvent=e=>{Hu.instance.onEvent(e)};var Lf=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Nf{constructor(t,n,i,r,o,a){if(this.open=()=>{if(this.privConnectionState===du.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new Vu,this.privCertificateValidatedDeferral=new Vu,this.privConnectionState=du.Connecting;try{if("undefined"==typeof WebSocket||Nf.forceNpmWebSocket){const t={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve();const n=new sf.CertCheckAgent(this.proxyInfo);t.agent=n.GetAgent(),this.privWebsocketClient=new(e(Pc))(this.privUri,t)}else this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new Ku.Queue,this.privDisconnectDeferral=new Vu,this.privSendMessageQueue=new Ku.Queue,this.processSendQueue().catch((e=>{Hu.instance.onEvent(new Sc(e))}))}catch(e){return this.privConnectionEstablishDeferral.resolve(new zu(500,e)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new Au(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=e=>{this.privCertificateValidatedDeferral.promise.then((()=>{this.privConnectionState=du.Connected,this.onEvent(new Ou(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new zu(200,""))}),(e=>{this.privConnectionEstablishDeferral.reject(e)}))},this.privWebsocketClient.onerror=e=>{this.onEvent(new Ru(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===du.Connecting?(this.privConnectionState=du.Disconnected,this.privConnectionEstablishDeferral.resolve(new zu(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=du.Disconnected,this.onEvent(new Pu(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch((e=>{Hu.instance.onEvent(new Sc(e))}))},this.privWebsocketClient.onmessage=e=>{const t=(new Date).toISOString();if(this.privConnectionState===du.Connected){const n=new Vu;if(this.privReceivingMessageQueue.enqueueFromPromise(n.promise),e.data instanceof ArrayBuffer){const i=new $u(fu.Binary,e.data);this.privMessageFormatter.toConnectionMessage(i).then((e=>{this.onEvent(new ju(this.privConnectionId,t,e)),n.resolve(e)}),(e=>{n.reject(`Invalid binary message format. Error: ${e}`)}))}else{const i=new $u(fu.Text,e.data);this.privMessageFormatter.toConnectionMessage(i).then((e=>{this.onEvent(new ju(this.privConnectionId,t,e)),n.resolve(e)}),(e=>{n.reject(`Invalid text message format. Error: ${e}`)}))}}},this.privConnectionEstablishDeferral.promise},this.send=e=>{if(this.privConnectionState!==du.Connected)return Promise.reject(`Cannot send on connection that is in ${du[this.privConnectionState]} state`);const t=new Vu,n=new Vu;return this.privSendMessageQueue.enqueueFromPromise(n.promise),this.privMessageFormatter.fromConnectionMessage(e).then((i=>{n.resolve({Message:e,RawWebsocketMessage:i,sendStatusDeferral:t})}),(e=>{n.reject(`Error formatting the message. ${e}`)})),t.promise},this.read=()=>this.privConnectionState!==du.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue(),this.close=e=>this.privWebsocketClient?(this.privConnectionState!==du.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client"),this.privDisconnectDeferral.promise):Promise.resolve(),this.sendRawMessage=e=>{try{return e?(this.onEvent(new Lu(this.privConnectionId,(new Date).toISOString(),e.Message)),this.isWebsocketOpen?(this.privWebsocketClient.send(e.RawWebsocketMessage.payload),Promise.resolve()):Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+(new Error).stack)):Promise.resolve()}catch(e){return Promise.reject(`websocket send error: ${e}`)}},this.onEvent=e=>{this.privConnectionEvents.onEvent(e),Hu.instance.onEvent(e)},!t)throw new Nu("uri");if(!i)throw new Nu("messageFormatter");this.proxyInfo=r,this.privConnectionEvents=new qu,this.privConnectionId=n,this.privMessageFormatter=i,this.privConnectionState=du.None,this.privUri=t,this.privHeaders=o,this.privEnableCompression=a,this.privHeaders[Ec.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}get events(){return this.privConnectionEvents}onClose(e,t){return Lf(this,void 0,void 0,(function*(){const n=`Connection closed. ${e}: ${t}`;this.privConnectionState=du.Disconnected,this.privDisconnectDeferral.resolve(),yield this.privReceivingMessageQueue.drainAndDispose((e=>{}),n),yield this.privSendMessageQueue.drainAndDispose((e=>{e.sendStatusDeferral.reject(n)}),n)}))}processSendQueue(){return Lf(this,void 0,void 0,(function*(){const e=this.privSendMessageQueue.dequeue(),t=yield e;if(t){try{yield this.sendRawMessage(t),t.sendStatusDeferral.resolve()}catch(e){t.sendStatusDeferral.reject(e)}yield this.processSendQueue()}}))}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}Nf.forceNpmWebSocket=!1;var Bf=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))};class Ff{constructor(e,t,n,i,r,o=!1,a){if(this.privIsDisposed=!1,this.isDisposed=()=>this.privIsDisposed,this.state=()=>this.privConnectionMessageAdapter.state,this.open=()=>this.privConnectionMessageAdapter.open(),this.send=e=>this.privConnectionMessageAdapter.send(e),this.read=()=>this.privConnectionMessageAdapter.read(),!e)throw new Nu("uri");if(!i)throw new Nu("messageFormatter");this.privMessageFormatter=i;let s="",u=0;if(t)for(const n in t)if(n){s+=0===u&&-1===e.indexOf("?")?"?":"&";s+=`${n}=${encodeURIComponent(t[n])}`,u++}if(n)for(const t in n)if(t){s+=0===u&&-1===e.indexOf("?")?"?":"&";s+=`${t}=${encodeURIComponent(n[t])}`,u++}this.privUri=e+s,this.privId=a||cu(),this.privConnectionMessageAdapter=new af.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,r,n,o)}dispose(){return Bf(this,void 0,void 0,(function*(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&(yield this.privConnectionMessageAdapter.close())}))}get id(){return this.privId}get events(){return this.privConnectionMessageAdapter.events}}class Uf{constructor(e,t){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.id=()=>this.privAudioNode.id(),this.privAudioNode=e,this.privBytesPerSecond=t}read(){if(this.privReplay&&0!==this.privBuffers.length){const e=this.privReplayOffset-this.privBufferStartOffset;let t=Math.round(e*this.privBytesPerSecond*1e-7);0!=t%2&&t++;let n=0;for(;n<this.privBuffers.length&&t>=this.privBuffers[n].chunk.buffer.byteLength;)t-=this.privBuffers[n++].chunk.buffer.byteLength;const i=this.privBuffers[n].chunk.buffer.slice(t);return this.privReplayOffset+=i.byteLength/this.privBytesPerSecond*1e7,n===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:i,isEnd:!1,timeReceived:this.privBuffers[n].chunk.timeReceived})}return this.privAudioNode.read().then((e=>(e&&e.buffer&&(this.privBuffers.push(new zf(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e)))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(void 0===this.privBuffers||0===this.privBuffers.length)return;this.privLastShrinkOffset=e;const t=e-this.privBufferStartOffset;let n=Math.round(t*this.privBytesPerSecond*1e-7),i=0;for(;i<this.privBuffers.length&&n>=this.privBuffers[i].chunk.buffer.byteLength;)n-=this.privBuffers[i++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(i)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;for(const t of this.privBuffers){const n=t.byteOffset/this.privBytesPerSecond*1e7,i=n+t.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=n&&e<=i)return t.chunk.timeReceived}return 0}}class zf{constructor(e,t,n){this.chunk=e,this.serial=t,this.byteOffset=n}}class qf{constructor(e,t,n,i){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=n,this.privProxyPassword=i}static fromParameters(e){return new qf(e.getProperty(nl.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(nl.SpeechServiceConnection_ProxyPort),10),e.getProperty(nl.SpeechServiceConnection_ProxyUserName),e.getProperty(nl.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(e){return this.fromParameters(e.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}}var Hf,Vf;Pc=o("3V6Bo");(Vf=Hf||(Hf={})).Get="get",Vf.Post="post",Vf.Delete="delete",Vf.File="file";class Wf{static get requestOptions(){return Wf.privDefaultRequestOptions}static get configParams(){return Wf.privDefaultParams}static get restErrors(){return Wf.privRestErrors}}let Kf,Gf;async function Yf(e,t){if(console.log("Starting recognition"),Kf&&await Kf.stopContinuousRecognitionAsync(),!Gf){const{cognitiveServicesKey:e,cognitiveServicesRegion:t}=await async function(){return await hi("cognitiveServicesKey")}();Gf=yl.fromSubscription(e,t)}const n=ll.fromMicrophoneInput(e);Kf=new El.SpeechRecognizer(Gf,n),Kf.recognizing=(e,t)=>{console.log("RECOGNIZING: ",t.result.text)},Kf.recognized=(e,n)=>{var i;n.result.reason===el.RecognizedSpeech?(console.log(`RECOGNIZED: Text=${n.result.text}`),""!==n.result.text&&t((i=n.result.text,{type:Bt.SendCaption,value:i}))):n.result.reason===el.NoMatch&&console.log("NOMATCH: Speech could not be recognized.")},Kf.canceled=(e,t)=>{console.log(`CANCELED: Reason=${t.reason}`),t.reason===Jc.Error&&(console.log(`"CANCELED: ErrorCode=${t.errorCode}`),console.log(`"CANCELED: ErrorDetails=${t.errorDetails}`),console.log("CANCELED: Did you update the subscription info?")),Kf.stopContinuousRecognitionAsync()},Kf.sessionStopped=(e,t)=>{console.log("\n    Session stopped event."),Kf.stopContinuousRecognitionAsync()},Kf.startContinuousRecognitionAsync()}async function Zf(){await Kf.stopContinuousRecognitionAsync()}Wf.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},Wf.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},Wf.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"};const Jf=e=>{const t=a.useContext(Xf),[n,i]=a.useState(),[r,o]=a.useState(),[s,u]=a.useState(),[c,l]=a.useState(!0),[h,f]=a.useState(!0),[d,p]=a.useState([]),[m,v]=a.useState([]),[g,b]=a.useState(),[y,w]=a.useState(),[_,k]=a.useState(),[S,M]=a.useState(),[E,C]=a.useState(),[x,T]=a.useState(),[I,A]=a.useState(),[O,P]=a.useState(),R=()=>{g&&Yf(g.id,t)},D=()=>{Zf()},j=()=>{s&&(t(Jt()),M(!0),I&&(s.localParticipant.publishTrack(I),I.restart(),R()))},L=()=>{s&&(k(!0),x&&(s.localParticipant.publishTrack(x),x.restart(),O||P(a.createElement(es,{track:x}))))};async function N(e,i){if(n){if(!s||s.name!==e){s&&s.name!==e&&s.disconnect();try{const r={name:e,tracks:[],maxAudioBitrate:16e3,bandwidthProfile:{video:{mode:"grid",maxTracks:10,renderDimensions:{high:{height:1080,width:1920},standard:{height:720,width:1280},low:{height:176,width:144}}}},preferredVideoCodecs:[{codec:"VP8",simulcast:!0}],dominantSpeaker:!0};i&&x&&r.tracks.push(x),i&&I&&r.tracks.push(I),u(void 0);const o=await tu.connect(n,r);o.on("dominantSpeakerChanged",(e=>{t(Yt(e?e.identity:null))})),o.localParticipant.videoTracks.forEach((e=>{h?e.track.enable():e.track.disable()})),o.localParticipant.audioTracks.forEach((e=>{c?e.track.enable():e.track.disable()})),console.log("[TWILIO] In room?",o),console.log("[TWILIO] Attached participant count:",o.participants.size),P(a.createElement(ns,{participant:o.localParticipant,displayVideo:h,displayAudio:c})),C(o.participants),o.on("trackPublished",((e,n)=>{t($t())})),o.on("trackUnpublished",((e,n)=>{t($t())})),o.on("participantConnected",(()=>{C(o.participants),t($t())})),o.on("participantDisconnected",(()=>{C(o.participants),t($t())})),window.addEventListener("beforeunload",(e=>{o.disconnect()})),u(o)}catch(e){console.log("[TWILIO] Could not connect to room",e)}}}else o(e)}return a.useEffect((()=>{console.log("[TWILIO] In useeffect for camera"),y&&(console.log("[TWILIO] Has camera"),(async()=>{if(console.log("[TWILIO] Fetching local video track"),x)return x;const e={height:720,frameRate:24,width:1280};y&&(e.deviceId={exact:y.id});const t=await tu.createLocalVideoTrack(e);T(t),P(a.createElement(es,{track:t})),_&&L()})())}),[y]),a.useEffect((()=>{g&&((async()=>{if(I)return I;const e={};g&&(e.audio={deviceId:g.id});const t=await tu.createLocalAudioTrack(e);A(t)})(),c?R():D())}),[g]),a.useEffect((()=>{c?R():D()}),[c]),a.useEffect((()=>{console.log("[TWILIO] In token roomId useEffect"),n&&r&&!s&&(console.log("[TWILIO] Joining room"),N(r,!0))}),[n,r]),a.createElement(Co.Provider,{value:{prepareForMediaChat:async function(){if(!n)return async function(){return await hi("twilioToken")}().then((e=>{i(e)}))},prepareMediaDevices:async function(){const e=e=>(console.log(e),{id:e.deviceId,name:e.label});try{await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),await navigator.mediaDevices.enumerateDevices().then((t=>{console.log("[TWILIO] Fetched devices");const n=t.filter((e=>"videoinput"===e.kind)).map(e),i=t.filter((e=>"audioinput"===e.kind)).map(e);p(n),v(i),console.log("[TWILIO] Setting current camera",n[0]),w(n[0]),b(i[0])}))}catch(e){console.log("[TWILIO] Error fetching media devices",e)}},cameras:d,mics:m,currentMic:g,currentCamera:y,publishingCamera:_,publishingMic:S,setCurrentCamera:e=>{console.log("Setting current camera",e,y,y.id),y&&y.id!==e&&(console.log("Removing old camera",s),s&&s.localParticipant.videoTracks.forEach((e=>{e.unpublish()}))),w(d.find((t=>t.id===e)))},setCurrentMic:e=>{g&&g.id!==e&&s&&s.localParticipant.audioTracks.forEach((e=>{e.unpublish()})),b(m.find((t=>t.id===e)))},localStreamView:O,publishMedia:()=>{s&&(j(),L())},unpublishMedia:()=>{t(Zt()),k(!1),M(!1),s&&(I&&(s.localParticipant.unpublishTrack(I),I.stop(),Zf()),x&&(s.localParticipant.unpublishTrack(x),x.stop())),P(void 0)},publishAudio:j,joinCall:N,leaveCall:function(){console.log("[TWILIO] In leave call",x),s&&s.disconnect(),x&&x.stop(),I&&I.stop(),D()},callParticipants:E,micEnabled:c,setMicEnabled:e=>{l(e),s&&s.localParticipant.audioTracks.forEach((t=>{e?t.track.enable():t.track.disable()}))},cameraEnabled:h,setCameraEnabled:e=>{f(e),s&&s.localParticipant.videoTracks.forEach((t=>{e?t.track.enable():t.track.disable()}))}}},e.children)},Xf=a.createContext(null),$f=a.createContext(null),Qf=a.createContext(null);var ed=()=>{const[t,n]=function(e,t){const[n,i]=a.useReducer(e,t),r=e=>{"function"==typeof e?e(r):i(e)};return[n,r]}(Ya,Ga);a.useEffect((()=>{Xn.auth().onAuthStateChanged((function(e){if(e)if(Is(e)){const t=Xn.auth().currentUser.uid,i=Xn.auth().currentUser.providerId;n(on(t,e.email,i,!0))}else{const t=Xn.auth().currentUser.uid,i=Xn.auth().currentUser.providerId;(async function(){const e=await hi("isRegistered");return{registeredUsername:e.registered,spaceIsClosed:e.spaceIsClosed,isMod:e.isMod,isBanned:e.isBanned}})().then((async({registeredUsername:r,spaceIsClosed:o,isMod:a,isBanned:s})=>{if(!r){const r=e.email?e.email:e.displayName;return void n(on(t,r,i,!1))}if(n(on(t,r,i,!1)),s)return n(Kt({id:t,username:r,isBanned:s})),void n(an());if(o&&(n({type:Bt.SpaceIsClosed}),!a))return void n(an());const u=await go.getMessages();var c,l;u&&n((c=u.messages,l=u.whispers,{type:Bt.LoadMessageArchive,messages:c,whispers:l}));const h=await go.getKeepCameraWhenMoving();n(rn(h)),n(an()),ni(t,n),ii(n),window.addEventListener("resize",(()=>{}))}))}else n(on(void 0,void 0,void 0,void 0))}))}),[]);const i=window.outerWidth<500,r=t.visibleProfile?e(a).createElement(Xa,{user:t.visibleProfile,whispers:t.whispers}):"";if(Xn.auth().currentUser&&Xn.auth().isSignInWithEmailLink(window.location.href))return e(a).createElement(Qs,null);if(!t.checkedAuthentication)return e(a).createElement("div",null);if(t.checkedAuthentication&&t.mustVerifyEmail)return e(a).createElement($s,{userEmail:Xn.auth().currentUser.email,dispatch:n});if(t.checkedAuthentication&&!t.authenticated)return e(a).createElement(Rs,null);if(!t.hasRegistered)return e(a).createElement(ss,{isFTUE:!0,defaultHandle:t.userMap[t.userId].username,user:t.profileData,prepopulateTwitterWithDefaultHandle:"twitter"===t.authenticationProvider});if(t.isClosed&&!t.userMap[t.userId].isMod)return e(a).createElement(js,null);if(t.isBanned)return e(a).createElement(Ls,null);let o,s,u;t.roomData&&t.roomId&&t.roomData[t.roomId]&&!t.roomData[t.roomId].noMediaChat&&(o=e(a).createElement(os,{dominantSpeakerData:t.dominantSpeakerData}));let c=!1;switch(t.activeModal){case ln.ProfileEdit:s=e(a).createElement(ss,{isFTUE:!1,defaultHandle:t.userMap[t.userId].username,user:t.profileData});break;case ln.NoteWall:{const n=t.roomData[t.roomId];s=e(a).createElement(gs,{notes:n.notes,noteWallData:n.noteWallData,user:t.profileData});break}case ln.Settings:s=e(a).createElement(ws,{keepCameraWhenMoving:t.keepCameraWhenMoving});break;case ln.MediaSelector:console.log("Opening media selector"),s=e(a).createElement(_s,{showJoinButton:!t.inMediaChat||t.activeModalOptions.showJoinButton,hideVideo:t.activeModalOptions.hideVideo,userIsSpeaking:!1,roomId:t.roomId,keepCameraWhenMoving:t.keepCameraWhenMoving});break;case ln.CodeOfConduct:s=e(a).createElement(ks,null);break;case ln.Schedule:s=e(a).createElement(Es,null);break;case ln.Map:c=!0,s=e(a).createElement(xs,{roomData:t.roomData,currentRoomId:t.roomId});break;case ln.RoomList:s=e(a).createElement(Ns,{rooms:Object.values(t.roomData)});break;case ln.Help:s=e(a).createElement(Cs,null);break;case ln.Welcome:s=e(a).createElement(Ds,null);break;case ln.ServerSettings:s=e(a).createElement(Fs,{serverSettings:t.serverSettings,roomData:t.roomData});break;case ln.ClientDeployed:s=e(a).createElement(Us,null);break;case ln.HappeningNow:s=e(a).createElement(qs,{roomData:t.roomData,entries:t.serverSettings.happeningNowEntries});break;case ln.FeatureRainbowGate:s=e(a).createElement(yo,null);break;case ln.FeatureDullDoor:s=e(a).createElement(_o,null);break;case ln.FeatureFullRoomIndex:s=e(a).createElement(So,{rooms:Object.values(t.roomData)})}s&&(u=e(a).createElement(bs,{fullScreen:c},s));const l=!i||t.mobileSideMenuIsVisible;return e(a).createElement(Kr.Provider,{value:{style:{verticalAlign:"middle"}}},e(a).createElement(Xf.Provider,{value:n},e(a).createElement(Jf,null,e(a).createElement(Qf.Provider,{value:i},e(a).createElement($f.Provider,{value:{userMap:t.userMap,myId:t.userId}},e(a).createElement("div",{id:t.visibleProfile&&!i?"app-profile-open":"app"},l?e(a).createElement("span",null,e(a).createElement(ps,{roomData:t.roomData,currentRoomId:t.roomId,username:t.userMap[t.userId].username,spaceIsClosed:t.isClosed}),e(a).createElement("div",{id:"side-nav-placeholder"})):e(a).createElement("button",{id:"show-menu",onClick:()=>{n({type:Bt.ShowSideMenu})}},e(a).createElement("span",{role:"img","aria-label":"menu"},"")),u,e(a).createElement("div",{id:"main",role:"main"},o,t.roomData[t.roomId]?e(a).createElement(To,{room:t.roomData[t.roomId],userId:t.userId,roomData:t.roomData,inMediaChat:t.inMediaChat,keepCameraWhenMoving:t.keepCameraWhenMoving}):null,e(a).createElement(qa,{prepopulated:t.prepopulatedInput,sendMessage:e=>n(Qt(e))}),e(a).createElement(Ua,{messages:t.messages,autoscrollChat:t.autoscrollChat,serverSettings:t.serverSettings})),r))))))};go=o("4mTIe");window.addEventListener("DOMContentLoaded",(async()=>{s.render(a.createElement(ed,null),document.getElementById("root")),document.body.classList.add(await go.currentTheme())}))}();
//# sourceMappingURL=index.1a0e71f2.js.map
